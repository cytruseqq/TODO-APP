(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function rh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ip={exports:{}},Rl={},sp={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function YI(){if(Tv)return Xe;Tv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,U={};function F(L,K,ge){this.props=L,this.context=K,this.refs=U,this.updater=ge||b}F.prototype.isReactComponent={},F.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},F.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function G(){}G.prototype=F.prototype;function Q(L,K,ge){this.props=L,this.context=K,this.refs=U,this.updater=ge||b}var Y=Q.prototype=new G;Y.constructor=Q,D(Y,F.prototype),Y.isPureReactComponent=!0;var me=Array.isArray,Se=Object.prototype.hasOwnProperty,Te={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function A(L,K,ge){var De,Oe={},He=null,qe=null;if(K!=null)for(De in K.ref!==void 0&&(qe=K.ref),K.key!==void 0&&(He=""+K.key),K)Se.call(K,De)&&!N.hasOwnProperty(De)&&(Oe[De]=K[De]);var Qe=arguments.length-2;if(Qe===1)Oe.children=ge;else if(1<Qe){for(var Ye=Array(Qe),et=0;et<Qe;et++)Ye[et]=arguments[et+2];Oe.children=Ye}if(L&&L.defaultProps)for(De in Qe=L.defaultProps,Qe)Oe[De]===void 0&&(Oe[De]=Qe[De]);return{$$typeof:n,type:L,key:He,ref:qe,props:Oe,_owner:Te.current}}function k(L,K){return{$$typeof:n,type:L.type,key:K,ref:L.ref,props:L.props,_owner:L._owner}}function R(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function P(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ge){return K[ge]})}var V=/\/+/g;function S(L,K){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):K.toString(36)}function fe(L,K,ge,De,Oe){var He=typeof L;(He==="undefined"||He==="boolean")&&(L=null);var qe=!1;if(L===null)qe=!0;else switch(He){case"string":case"number":qe=!0;break;case"object":switch(L.$$typeof){case n:case e:qe=!0}}if(qe)return qe=L,Oe=Oe(qe),L=De===""?"."+S(qe,0):De,me(Oe)?(ge="",L!=null&&(ge=L.replace(V,"$&/")+"/"),fe(Oe,K,ge,"",function(et){return et})):Oe!=null&&(R(Oe)&&(Oe=k(Oe,ge+(!Oe.key||qe&&qe.key===Oe.key?"":(""+Oe.key).replace(V,"$&/")+"/")+L)),K.push(Oe)),1;if(qe=0,De=De===""?".":De+":",me(L))for(var Qe=0;Qe<L.length;Qe++){He=L[Qe];var Ye=De+S(He,Qe);qe+=fe(He,K,ge,Ye,Oe)}else if(Ye=T(L),typeof Ye=="function")for(L=Ye.call(L),Qe=0;!(He=L.next()).done;)He=He.value,Ye=De+S(He,Qe++),qe+=fe(He,K,ge,Ye,Oe);else if(He==="object")throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return qe}function ae(L,K,ge){if(L==null)return L;var De=[],Oe=0;return fe(L,De,"","",function(He){return K.call(ge,He,Oe++)}),De}function ie(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(ge){(L._status===0||L._status===-1)&&(L._status=1,L._result=ge)},function(ge){(L._status===0||L._status===-1)&&(L._status=2,L._result=ge)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var de={current:null},B={transition:null},se={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:B,ReactCurrentOwner:Te};function X(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:ae,forEach:function(L,K,ge){ae(L,function(){K.apply(this,arguments)},ge)},count:function(L){var K=0;return ae(L,function(){K++}),K},toArray:function(L){return ae(L,function(K){return K})||[]},only:function(L){if(!R(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Xe.Component=F,Xe.Fragment=t,Xe.Profiler=o,Xe.PureComponent=Q,Xe.StrictMode=r,Xe.Suspense=f,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Xe.act=X,Xe.cloneElement=function(L,K,ge){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var De=D({},L.props),Oe=L.key,He=L.ref,qe=L._owner;if(K!=null){if(K.ref!==void 0&&(He=K.ref,qe=Te.current),K.key!==void 0&&(Oe=""+K.key),L.type&&L.type.defaultProps)var Qe=L.type.defaultProps;for(Ye in K)Se.call(K,Ye)&&!N.hasOwnProperty(Ye)&&(De[Ye]=K[Ye]===void 0&&Qe!==void 0?Qe[Ye]:K[Ye])}var Ye=arguments.length-2;if(Ye===1)De.children=ge;else if(1<Ye){Qe=Array(Ye);for(var et=0;et<Ye;et++)Qe[et]=arguments[et+2];De.children=Qe}return{$$typeof:n,type:L.type,key:Oe,ref:He,props:De,_owner:qe}},Xe.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},Xe.createElement=A,Xe.createFactory=function(L){var K=A.bind(null,L);return K.type=L,K},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(L){return{$$typeof:h,render:L}},Xe.isValidElement=R,Xe.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:ie}},Xe.memo=function(L,K){return{$$typeof:m,type:L,compare:K===void 0?null:K}},Xe.startTransition=function(L){var K=B.transition;B.transition={};try{L()}finally{B.transition=K}},Xe.unstable_act=X,Xe.useCallback=function(L,K){return de.current.useCallback(L,K)},Xe.useContext=function(L){return de.current.useContext(L)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(L){return de.current.useDeferredValue(L)},Xe.useEffect=function(L,K){return de.current.useEffect(L,K)},Xe.useId=function(){return de.current.useId()},Xe.useImperativeHandle=function(L,K,ge){return de.current.useImperativeHandle(L,K,ge)},Xe.useInsertionEffect=function(L,K){return de.current.useInsertionEffect(L,K)},Xe.useLayoutEffect=function(L,K){return de.current.useLayoutEffect(L,K)},Xe.useMemo=function(L,K){return de.current.useMemo(L,K)},Xe.useReducer=function(L,K,ge){return de.current.useReducer(L,K,ge)},Xe.useRef=function(L){return de.current.useRef(L)},Xe.useState=function(L){return de.current.useState(L)},Xe.useSyncExternalStore=function(L,K,ge){return de.current.useSyncExternalStore(L,K,ge)},Xe.useTransition=function(){return de.current.useTransition()},Xe.version="18.3.1",Xe}var Iv;function wu(){return Iv||(Iv=1,sp.exports=YI()),sp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function JI(){if(Sv)return Rl;Sv=1;var n=wu(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var _,E={},T=null,b=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(b=f.ref);for(_ in f)r.call(f,_)&&!a.hasOwnProperty(_)&&(E[_]=f[_]);if(h&&h.defaultProps)for(_ in f=h.defaultProps,f)E[_]===void 0&&(E[_]=f[_]);return{$$typeof:e,type:h,key:T,ref:b,props:E,_owner:o.current}}return Rl.Fragment=t,Rl.jsx=u,Rl.jsxs=u,Rl}var Av;function XI(){return Av||(Av=1,ip.exports=JI()),ip.exports}var be=XI(),J=wu();const Bt=rh(J);var ed={},op={exports:{}},Nn={},ap={exports:{}},lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function eS(){return kv||(kv=1,function(n){function e(B,se){var X=B.length;B.push(se);e:for(;0<X;){var L=X-1>>>1,K=B[L];if(0<o(K,se))B[L]=se,B[X]=K,X=L;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var se=B[0],X=B.pop();if(X!==se){B[0]=X;e:for(var L=0,K=B.length,ge=K>>>1;L<ge;){var De=2*(L+1)-1,Oe=B[De],He=De+1,qe=B[He];if(0>o(Oe,X))He<K&&0>o(qe,Oe)?(B[L]=qe,B[He]=X,L=He):(B[L]=Oe,B[De]=X,L=De);else if(He<K&&0>o(qe,X))B[L]=qe,B[He]=X,L=He;else break e}}return se}function o(B,se){var X=B.sortIndex-se.sortIndex;return X!==0?X:B.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],_=1,E=null,T=3,b=!1,D=!1,U=!1,F=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(B){for(var se=t(m);se!==null;){if(se.callback===null)r(m);else if(se.startTime<=B)r(m),se.sortIndex=se.expirationTime,e(f,se);else break;se=t(m)}}function me(B){if(U=!1,Y(B),!D)if(t(f)!==null)D=!0,ie(Se);else{var se=t(m);se!==null&&de(me,se.startTime-B)}}function Se(B,se){D=!1,U&&(U=!1,G(A),A=-1),b=!0;var X=T;try{for(Y(se),E=t(f);E!==null&&(!(E.expirationTime>se)||B&&!P());){var L=E.callback;if(typeof L=="function"){E.callback=null,T=E.priorityLevel;var K=L(E.expirationTime<=se);se=n.unstable_now(),typeof K=="function"?E.callback=K:E===t(f)&&r(f),Y(se)}else r(f);E=t(f)}if(E!==null)var ge=!0;else{var De=t(m);De!==null&&de(me,De.startTime-se),ge=!1}return ge}finally{E=null,T=X,b=!1}}var Te=!1,N=null,A=-1,k=5,R=-1;function P(){return!(n.unstable_now()-R<k)}function V(){if(N!==null){var B=n.unstable_now();R=B;var se=!0;try{se=N(!0,B)}finally{se?S():(Te=!1,N=null)}}else Te=!1}var S;if(typeof Q=="function")S=function(){Q(V)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ae=fe.port2;fe.port1.onmessage=V,S=function(){ae.postMessage(null)}}else S=function(){F(V,0)};function ie(B){N=B,Te||(Te=!0,S())}function de(B,se){A=F(function(){B(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){D||b||(D=!0,ie(Se))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(B){switch(T){case 1:case 2:case 3:var se=3;break;default:se=T}var X=T;T=se;try{return B()}finally{T=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,se){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=T;T=B;try{return se()}finally{T=X}},n.unstable_scheduleCallback=function(B,se,X){var L=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?L+X:L):X=L,B){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=X+K,B={id:_++,callback:se,priorityLevel:B,startTime:X,expirationTime:K,sortIndex:-1},X>L?(B.sortIndex=X,e(m,B),t(f)===null&&B===t(m)&&(U?(G(A),A=-1):U=!0,de(me,X-L))):(B.sortIndex=K,e(f,B),D||b||(D=!0,ie(Se))),B},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(B){var se=T;return function(){var X=T;T=se;try{return B.apply(this,arguments)}finally{T=X}}}}(lp)),lp}var Cv;function tS(){return Cv||(Cv=1,ap.exports=eS()),ap.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function nS(){if(Rv)return Nn;Rv=1;var n=wu(),e=tS();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function T(i){return f.call(E,i)?!0:f.call(_,i)?!1:m.test(i)?E[i]=!0:(_[i]=!0,!1)}function b(i,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function D(i,s,l,d){if(s===null||typeof s>"u"||b(i,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function U(i,s,l,d,p,y,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=w}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){F[i]=new U(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];F[s]=new U(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){F[i]=new U(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){F[i]=new U(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){F[i]=new U(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){F[i]=new U(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){F[i]=new U(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){F[i]=new U(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){F[i]=new U(i,5,!1,i.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function Q(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(G,Q);F[s]=new U(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(G,Q);F[s]=new U(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(G,Q);F[s]=new U(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){F[i]=new U(i,1,!1,i.toLowerCase(),null,!1,!1)}),F.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){F[i]=new U(i,1,!1,i.toLowerCase(),null,!0,!0)});function Y(i,s,l,d){var p=F.hasOwnProperty(s)?F[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D(s,l,p,d)&&(l=null),d||p===null?T(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?i.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?i.setAttributeNS(d,s,l):i.setAttribute(s,l))))}var me=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Se=Symbol.for("react.element"),Te=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),P=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),B=Symbol.iterator;function se(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var X=Object.assign,L;function K(i){if(L===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+i}var ge=!1;function De(i,s){if(!i||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var d=H}Reflect.construct(i,[],s)}else{try{s.call()}catch(H){d=H}i.call(s.prototype)}else{try{throw Error()}catch(H){d=H}i()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var p=H.stack.split(`
`),y=d.stack.split(`
`),w=p.length-1,C=y.length-1;1<=w&&0<=C&&p[w]!==y[C];)C--;for(;1<=w&&0<=C;w--,C--)if(p[w]!==y[C]){if(w!==1||C!==1)do if(w--,C--,0>C||p[w]!==y[C]){var O=`
`+p[w].replace(" at new "," at ");return i.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",i.displayName)),O}while(1<=w&&0<=C);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?K(i):""}function Oe(i){switch(i.tag){case 5:return K(i.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return i=De(i.type,!1),i;case 11:return i=De(i.type.render,!1),i;case 1:return i=De(i.type,!0),i;default:return""}}function He(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case Te:return"Portal";case k:return"Profiler";case A:return"StrictMode";case S:return"Suspense";case fe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case P:return(i.displayName||"Context")+".Consumer";case R:return(i._context.displayName||"Context")+".Provider";case V:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ae:return s=i.displayName||null,s!==null?s:He(i.type)||"Memo";case ie:s=i._payload,i=i._init;try{return He(i(s))}catch{}}return null}function qe(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return He(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Qe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ye(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function et(i){var s=Ye(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){d=""+w,y.call(this,w)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ct(i){i._valueTracker||(i._valueTracker=et(i))}function mn(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return i&&(d=Ye(i)?i.checked?"true":"false":i.value),i=d,i!==l?(s.setValue(i),!0):!1}function gn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Cr(i,s){var l=s.checked;return X({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function bi(i,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Qe(s.value!=null?s.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Di(i,s){s=s.checked,s!=null&&Y(i,"checked",s,!1)}function Oi(i,s){Di(i,s);var l=Qe(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Vi(i,s.type,l):s.hasOwnProperty("defaultValue")&&Vi(i,s.type,Qe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function So(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Vi(i,s,l){(s!=="number"||gn(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Rr=Array.isArray;function Hn(i,s,l,d){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Qe(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function x(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function W(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Rr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Qe(l)}}function Z(i,s){var l=Qe(s.value),d=Qe(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function ve(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function le(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ne(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?le(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var _e,Je=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return i(s,l,d,p)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(_e=_e||document.createElement("div"),_e.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=_e.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ct(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var _t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xr=["Webkit","ms","Moz","O"];Object.keys(_t).forEach(function(i){Xr.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),_t[s]=_t[i]})});function ei(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||_t.hasOwnProperty(i)&&_t[i]?(""+s).trim():s+"px"}function ti(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=ei(l,s[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,p):i[l]=p}}var Ds=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Li(i,s){if(s){if(Ds[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Os(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pr=null;function Ao(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ko=null,qn=null,xr=null;function Co(i){if(i=fl(i)){if(typeof ko!="function")throw Error(t(280));var s=i.stateNode;s&&(s=mc(s),ko(i.stateNode,i.type,s))}}function Nr(i){qn?xr?xr.push(i):xr=[i]:qn=i}function Wa(){if(qn){var i=qn,s=xr;if(xr=qn=null,Co(i),s)for(i=0;i<s.length;i++)Co(s[i])}}function Vs(i,s){return i(s)}function Ha(){}var ni=!1;function qa(i,s,l){if(ni)return i(s,l);ni=!0;try{return Vs(i,s,l)}finally{ni=!1,(qn!==null||xr!==null)&&(Ha(),Wa())}}function Pt(i,s){var l=i.stateNode;if(l===null)return null;var d=mc(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Ro=!1;if(h)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{Ro=!1}function Ls(i,s,l,d,p,y,w,C,O){var H=Array.prototype.slice.call(arguments,3);try{s.apply(l,H)}catch(oe){this.onError(oe)}}var Ms=!1,Po=null,ir=!1,Ka=null,Nh={onError:function(i){Ms=!0,Po=i}};function xo(i,s,l,d,p,y,w,C,O){Ms=!1,Po=null,Ls.apply(Nh,arguments)}function ju(i,s,l,d,p,y,w,C,O){if(xo.apply(this,arguments),Ms){if(Ms){var H=Po;Ms=!1,Po=null}else throw Error(t(198));ir||(ir=!0,Ka=H)}}function sr(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function Fs(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function or(i){if(sr(i)!==i)throw Error(t(188))}function $u(i){var s=i.alternate;if(!s){if(s=sr(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return or(p),i;if(y===d)return or(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var w=!1,C=p.child;C;){if(C===l){w=!0,l=p,d=y;break}if(C===d){w=!0,d=p,l=y;break}C=C.sibling}if(!w){for(C=y.child;C;){if(C===l){w=!0,l=y,d=p;break}if(C===d){w=!0,d=y,l=p;break}C=C.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function Ga(i){return i=$u(i),i!==null?No(i):null}function No(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=No(i);if(s!==null)return s;i=i.sibling}return null}var bo=e.unstable_scheduleCallback,Qa=e.unstable_cancelCallback,zu=e.unstable_shouldYield,bh=e.unstable_requestPaint,pt=e.unstable_now,Bu=e.unstable_getCurrentPriorityLevel,Us=e.unstable_ImmediatePriority,Mi=e.unstable_UserBlockingPriority,Kn=e.unstable_NormalPriority,Za=e.unstable_LowPriority,Wu=e.unstable_IdlePriority,js=null,On=null;function Hu(i){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(js,i,void 0,(i.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:Ku,Ya=Math.log,qu=Math.LN2;function Ku(i){return i>>>=0,i===0?32:31-(Ya(i)/qu|0)|0}var Do=64,Oo=4194304;function Fi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function $s(i,s){var l=i.pendingLanes;if(l===0)return 0;var d=0,p=i.suspendedLanes,y=i.pingedLanes,w=l&268435455;if(w!==0){var C=w&~p;C!==0?d=Fi(C):(y&=w,y!==0&&(d=Fi(y)))}else w=l&~p,w!==0?d=Fi(w):y!==0&&(d=Fi(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=d;0<s;)l=31-yn(s),p=1<<l,d|=i[l],s&=~p;return d}function Dh(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ri(i,s){for(var l=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var w=31-yn(y),C=1<<w,O=p[w];O===-1?((C&l)===0||(C&d)!==0)&&(p[w]=Dh(C,s)):O<=s&&(i.expiredLanes|=C),y&=~C}}function Vn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function zs(){var i=Do;return Do<<=1,(Do&4194240)===0&&(Do=64),i}function Ui(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function ji(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-yn(s),i[s]=l}function ft(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-yn(l),y=1<<p;s[p]=0,d[p]=-1,i[p]=-1,l&=~y}}function $i(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var d=31-yn(l),p=1<<d;p&s|i[d]&s&&(i[d]|=s),l&=~p}}var rt=0;function zi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Gu,Vo,Qu,Zu,Yu,Ja=!1,br=[],Yt=null,ar=null,lr=null,Bi=new Map,Gn=new Map,Dr=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ju(i,s){switch(i){case"focusin":case"focusout":Yt=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Bi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(s.pointerId)}}function Sn(i,s,l,d,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=fl(s),s!==null&&Vo(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function Vh(i,s,l,d,p){switch(s){case"focusin":return Yt=Sn(Yt,i,s,l,d,p),!0;case"dragenter":return ar=Sn(ar,i,s,l,d,p),!0;case"mouseover":return lr=Sn(lr,i,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return Bi.set(y,Sn(Bi.get(y)||null,i,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Gn.set(y,Sn(Gn.get(y)||null,i,s,l,d,p)),!0}return!1}function Xu(i){var s=Ks(i.target);if(s!==null){var l=sr(s);if(l!==null){if(s=l.tag,s===13){if(s=Fs(l),s!==null){i.blockedOn=s,Yu(i.priority,function(){Qu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ii(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Lo(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);Pr=d,l.target.dispatchEvent(d),Pr=null}else return s=fl(l),s!==null&&Vo(s),i.blockedOn=l,!1;s.shift()}return!0}function Bs(i,s,l){ii(i)&&l.delete(s)}function ec(){Ja=!1,Yt!==null&&ii(Yt)&&(Yt=null),ar!==null&&ii(ar)&&(ar=null),lr!==null&&ii(lr)&&(lr=null),Bi.forEach(Bs),Gn.forEach(Bs)}function ur(i,s){i.blockedOn===s&&(i.blockedOn=null,Ja||(Ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ec)))}function cr(i){function s(p){return ur(p,i)}if(0<br.length){ur(br[0],i);for(var l=1;l<br.length;l++){var d=br[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Yt!==null&&ur(Yt,i),ar!==null&&ur(ar,i),lr!==null&&ur(lr,i),Bi.forEach(s),Gn.forEach(s),l=0;l<Dr.length;l++)d=Dr[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<Dr.length&&(l=Dr[0],l.blockedOn===null);)Xu(l),l.blockedOn===null&&Dr.shift()}var si=me.ReactCurrentBatchConfig,Wi=!0;function wt(i,s,l,d){var p=rt,y=si.transition;si.transition=null;try{rt=1,Xa(i,s,l,d)}finally{rt=p,si.transition=y}}function Lh(i,s,l,d){var p=rt,y=si.transition;si.transition=null;try{rt=4,Xa(i,s,l,d)}finally{rt=p,si.transition=y}}function Xa(i,s,l,d){if(Wi){var p=Lo(i,s,l,d);if(p===null)Kh(i,s,d,Ws,l),Ju(i,d);else if(Vh(p,i,s,l,d))d.stopPropagation();else if(Ju(i,d),s&4&&-1<Oh.indexOf(i)){for(;p!==null;){var y=fl(p);if(y!==null&&Gu(y),y=Lo(i,s,l,d),y===null&&Kh(i,s,d,Ws,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else Kh(i,s,d,null,l)}}var Ws=null;function Lo(i,s,l,d){if(Ws=null,i=Ao(d),i=Ks(i),i!==null)if(s=sr(i),s===null)i=null;else if(l=s.tag,l===13){if(i=Fs(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Ws=i,null}function el(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bu()){case Us:return 1;case Mi:return 4;case Kn:case Za:return 16;case Wu:return 536870912;default:return 16}default:return 16}}var Ln=null,Mo=null,An=null;function tl(){if(An)return An;var i,s=Mo,l=s.length,d,p="value"in Ln?Ln.value:Ln.textContent,y=p.length;for(i=0;i<l&&s[i]===p[i];i++);var w=l-i;for(d=1;d<=w&&s[l-d]===p[y-d];d++);return An=p.slice(i,1<d?1-d:void 0)}function Fo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Or(){return!0}function nl(){return!1}function Jt(i){function s(l,d,p,y,w){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(l=i[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Or:nl,this.isPropagationStopped=nl,this}return X(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),s}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uo=Jt(dr),Vr=X({},dr,{view:0,detail:0}),Mh=Jt(Vr),jo,oi,Hi,Hs=X({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Hi&&(Hi&&i.type==="mousemove"?(jo=i.screenX-Hi.screenX,oi=i.screenY-Hi.screenY):oi=jo=0,Hi=i),jo)},movementY:function(i){return"movementY"in i?i.movementY:oi}}),$o=Jt(Hs),rl=X({},Hs,{dataTransfer:0}),tc=Jt(rl),zo=X({},Vr,{relatedTarget:0}),Bo=Jt(zo),nc=X({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),ai=Jt(nc),rc=X({},dr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ic=Jt(rc),sc=X({},dr,{data:0}),il=Jt(sc),Wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ac(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=oc[i])?!!s[i]:!1}function Lr(){return ac}var c=X({},Vr,{key:function(i){if(i.key){var s=Wo[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Fo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(i){return i.type==="keypress"?Fo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Fo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Jt(c),v=X({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Jt(v),j=X({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),q=Jt(j),pe=X({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=Jt(pe),Ut=X({},Hs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),it=Jt(Ut),Ht=[9,13,27,32],Dt=h&&"CompositionEvent"in window,Qn=null;h&&"documentMode"in document&&(Qn=document.documentMode);var Mn=h&&"TextEvent"in window&&!Qn,qs=h&&(!Dt||Qn&&8<Qn&&11>=Qn),Ho=" ",gg=!1;function yg(i,s){switch(i){case"keyup":return Ht.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var qo=!1;function GT(i,s){switch(i){case"compositionend":return vg(s);case"keypress":return s.which!==32?null:(gg=!0,Ho);case"textInput":return i=s.data,i===Ho&&gg?null:i;default:return null}}function QT(i,s){if(qo)return i==="compositionend"||!Dt&&yg(i,s)?(i=tl(),An=Mo=Ln=null,qo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qs&&s.locale!=="ko"?null:s.data;default:return null}}var ZT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ZT[i.type]:s==="textarea"}function wg(i,s,l,d){Nr(d),s=hc(s,"onChange"),0<s.length&&(l=new Uo("onChange","change",null,l,d),i.push({event:l,listeners:s}))}var sl=null,ol=null;function YT(i){Fg(i,0)}function lc(i){var s=Yo(i);if(mn(s))return i}function JT(i,s){if(i==="change")return s}var Eg=!1;if(h){var Fh;if(h){var Uh="oninput"in document;if(!Uh){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Uh=typeof Tg.oninput=="function"}Fh=Uh}else Fh=!1;Eg=Fh&&(!document.documentMode||9<document.documentMode)}function Ig(){sl&&(sl.detachEvent("onpropertychange",Sg),ol=sl=null)}function Sg(i){if(i.propertyName==="value"&&lc(ol)){var s=[];wg(s,ol,i,Ao(i)),qa(YT,s)}}function XT(i,s,l){i==="focusin"?(Ig(),sl=s,ol=l,sl.attachEvent("onpropertychange",Sg)):i==="focusout"&&Ig()}function eI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lc(ol)}function tI(i,s){if(i==="click")return lc(s)}function nI(i,s){if(i==="input"||i==="change")return lc(s)}function rI(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var hr=typeof Object.is=="function"?Object.is:rI;function al(i,s){if(hr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!hr(i[p],s[p]))return!1}return!0}function Ag(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function kg(i,s){var l=Ag(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=s&&d>=s)return{node:l,offset:s-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ag(l)}}function Cg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Cg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Rg(){for(var i=window,s=gn();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=gn(i.document)}return s}function jh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function iI(i){var s=Rg(),l=i.focusedElem,d=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&Cg(l.ownerDocument.documentElement,l)){if(d!==null&&jh(l)){if(s=d.start,i=d.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!i.extend&&y>d&&(p=d,d=y,y=p),p=kg(l,y);var w=kg(l,d);p&&w&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),y>d?(i.addRange(s),i.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var sI=h&&"documentMode"in document&&11>=document.documentMode,Ko=null,$h=null,ll=null,zh=!1;function Pg(i,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;zh||Ko==null||Ko!==gn(d)||(d=Ko,"selectionStart"in d&&jh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ll&&al(ll,d)||(ll=d,d=hc($h,"onSelect"),0<d.length&&(s=new Uo("onSelect","select",null,s,l),i.push({event:s,listeners:d}),s.target=Ko)))}function uc(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Go={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},Bh={},xg={};h&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function cc(i){if(Bh[i])return Bh[i];if(!Go[i])return i;var s=Go[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in xg)return Bh[i]=s[l];return i}var Ng=cc("animationend"),bg=cc("animationiteration"),Dg=cc("animationstart"),Og=cc("transitionend"),Vg=new Map,Lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(i,s){Vg.set(i,s),a(s,[i])}for(var Wh=0;Wh<Lg.length;Wh++){var Hh=Lg[Wh],oI=Hh.toLowerCase(),aI=Hh[0].toUpperCase()+Hh.slice(1);qi(oI,"on"+aI)}qi(Ng,"onAnimationEnd"),qi(bg,"onAnimationIteration"),qi(Dg,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(Og,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lI=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function Mg(i,s,l){var d=i.type||"unknown-event";i.currentTarget=l,ju(d,s,void 0,i),i.currentTarget=null}function Fg(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var w=d.length-1;0<=w;w--){var C=d[w],O=C.instance,H=C.currentTarget;if(C=C.listener,O!==y&&p.isPropagationStopped())break e;Mg(p,C,H),y=O}else for(w=0;w<d.length;w++){if(C=d[w],O=C.instance,H=C.currentTarget,C=C.listener,O!==y&&p.isPropagationStopped())break e;Mg(p,C,H),y=O}}}if(ir)throw i=Ka,ir=!1,Ka=null,i}function gt(i,s){var l=s[Xh];l===void 0&&(l=s[Xh]=new Set);var d=i+"__bubble";l.has(d)||(Ug(s,i,2,!1),l.add(d))}function qh(i,s,l){var d=0;s&&(d|=4),Ug(l,i,d,s)}var dc="_reactListening"+Math.random().toString(36).slice(2);function cl(i){if(!i[dc]){i[dc]=!0,r.forEach(function(l){l!=="selectionchange"&&(lI.has(l)||qh(l,!1,i),qh(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[dc]||(s[dc]=!0,qh("selectionchange",!1,s))}}function Ug(i,s,l,d){switch(el(s)){case 1:var p=wt;break;case 4:p=Lh;break;default:p=Xa}l=p.bind(null,s,l,i),p=void 0,!Ro||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function Kh(i,s,l,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var C=d.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(w===4)for(w=d.return;w!==null;){var O=w.tag;if((O===3||O===4)&&(O=w.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;w=w.return}for(;C!==null;){if(w=Ks(C),w===null)return;if(O=w.tag,O===5||O===6){d=y=w;continue e}C=C.parentNode}}d=d.return}qa(function(){var H=y,oe=Ao(l),ue=[];e:{var re=Vg.get(i);if(re!==void 0){var we=Uo,ke=i;switch(i){case"keypress":if(Fo(l)===0)break e;case"keydown":case"keyup":we=g;break;case"focusin":ke="focus",we=Bo;break;case"focusout":ke="blur",we=Bo;break;case"beforeblur":case"afterblur":we=Bo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=q;break;case Ng:case bg:case Dg:we=ai;break;case Og:we=dt;break;case"scroll":we=Mh;break;case"wheel":we=it;break;case"copy":case"cut":case"paste":we=ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=I}var Pe=(s&4)!==0,xt=!Pe&&i==="scroll",$=Pe?re!==null?re+"Capture":null:re;Pe=[];for(var M=H,z;M!==null;){z=M;var he=z.stateNode;if(z.tag===5&&he!==null&&(z=he,$!==null&&(he=Pt(M,$),he!=null&&Pe.push(dl(M,he,z)))),xt)break;M=M.return}0<Pe.length&&(re=new we(re,ke,null,l,oe),ue.push({event:re,listeners:Pe}))}}if((s&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",we=i==="mouseout"||i==="pointerout",re&&l!==Pr&&(ke=l.relatedTarget||l.fromElement)&&(Ks(ke)||ke[li]))break e;if((we||re)&&(re=oe.window===oe?oe:(re=oe.ownerDocument)?re.defaultView||re.parentWindow:window,we?(ke=l.relatedTarget||l.toElement,we=H,ke=ke?Ks(ke):null,ke!==null&&(xt=sr(ke),ke!==xt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(we=null,ke=H),we!==ke)){if(Pe=$o,he="onMouseLeave",$="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=I,he="onPointerLeave",$="onPointerEnter",M="pointer"),xt=we==null?re:Yo(we),z=ke==null?re:Yo(ke),re=new Pe(he,M+"leave",we,l,oe),re.target=xt,re.relatedTarget=z,he=null,Ks(oe)===H&&(Pe=new Pe($,M+"enter",ke,l,oe),Pe.target=z,Pe.relatedTarget=xt,he=Pe),xt=he,we&&ke)t:{for(Pe=we,$=ke,M=0,z=Pe;z;z=Qo(z))M++;for(z=0,he=$;he;he=Qo(he))z++;for(;0<M-z;)Pe=Qo(Pe),M--;for(;0<z-M;)$=Qo($),z--;for(;M--;){if(Pe===$||$!==null&&Pe===$.alternate)break t;Pe=Qo(Pe),$=Qo($)}Pe=null}else Pe=null;we!==null&&jg(ue,re,we,Pe,!1),ke!==null&&xt!==null&&jg(ue,xt,ke,Pe,!0)}}e:{if(re=H?Yo(H):window,we=re.nodeName&&re.nodeName.toLowerCase(),we==="select"||we==="input"&&re.type==="file")var xe=JT;else if(_g(re))if(Eg)xe=nI;else{xe=eI;var Le=XT}else(we=re.nodeName)&&we.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(xe=tI);if(xe&&(xe=xe(i,H))){wg(ue,xe,l,oe);break e}Le&&Le(i,re,H),i==="focusout"&&(Le=re._wrapperState)&&Le.controlled&&re.type==="number"&&Vi(re,"number",re.value)}switch(Le=H?Yo(H):window,i){case"focusin":(_g(Le)||Le.contentEditable==="true")&&(Ko=Le,$h=H,ll=null);break;case"focusout":ll=$h=Ko=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Pg(ue,l,oe);break;case"selectionchange":if(sI)break;case"keydown":case"keyup":Pg(ue,l,oe)}var Me;if(Dt)e:{switch(i){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else qo?yg(i,l)&&(ze="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(qs&&l.locale!=="ko"&&(qo||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&qo&&(Me=tl()):(Ln=oe,Mo="value"in Ln?Ln.value:Ln.textContent,qo=!0)),Le=hc(H,ze),0<Le.length&&(ze=new il(ze,i,null,l,oe),ue.push({event:ze,listeners:Le}),Me?ze.data=Me:(Me=vg(l),Me!==null&&(ze.data=Me)))),(Me=Mn?GT(i,l):QT(i,l))&&(H=hc(H,"onBeforeInput"),0<H.length&&(oe=new il("onBeforeInput","beforeinput",null,l,oe),ue.push({event:oe,listeners:H}),oe.data=Me))}Fg(ue,s)})}function dl(i,s,l){return{instance:i,listener:s,currentTarget:l}}function hc(i,s){for(var l=s+"Capture",d=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=Pt(i,l),y!=null&&d.unshift(dl(i,y,p)),y=Pt(i,s),y!=null&&d.push(dl(i,y,p))),i=i.return}return d}function Qo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function jg(i,s,l,d,p){for(var y=s._reactName,w=[];l!==null&&l!==d;){var C=l,O=C.alternate,H=C.stateNode;if(O!==null&&O===d)break;C.tag===5&&H!==null&&(C=H,p?(O=Pt(l,y),O!=null&&w.unshift(dl(l,O,C))):p||(O=Pt(l,y),O!=null&&w.push(dl(l,O,C)))),l=l.return}w.length!==0&&i.push({event:s,listeners:w})}var uI=/\r\n?/g,cI=/\u0000|\uFFFD/g;function $g(i){return(typeof i=="string"?i:""+i).replace(uI,`
`).replace(cI,"")}function fc(i,s,l){if(s=$g(s),$g(i)!==s&&l)throw Error(t(425))}function pc(){}var Gh=null,Qh=null;function Zh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yh=typeof setTimeout=="function"?setTimeout:void 0,dI=typeof clearTimeout=="function"?clearTimeout:void 0,zg=typeof Promise=="function"?Promise:void 0,hI=typeof queueMicrotask=="function"?queueMicrotask:typeof zg<"u"?function(i){return zg.resolve(null).then(i).catch(fI)}:Yh;function fI(i){setTimeout(function(){throw i})}function Jh(i,s){var l=s,d=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){i.removeChild(p),cr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);cr(s)}function Ki(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Bg(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Zo=Math.random().toString(36).slice(2),Mr="__reactFiber$"+Zo,hl="__reactProps$"+Zo,li="__reactContainer$"+Zo,Xh="__reactEvents$"+Zo,pI="__reactListeners$"+Zo,mI="__reactHandles$"+Zo;function Ks(i){var s=i[Mr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[li]||l[Mr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Bg(i);i!==null;){if(l=i[Mr])return l;i=Bg(i)}return s}i=l,l=i.parentNode}return null}function fl(i){return i=i[Mr]||i[li],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Yo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function mc(i){return i[hl]||null}var ef=[],Jo=-1;function Gi(i){return{current:i}}function yt(i){0>Jo||(i.current=ef[Jo],ef[Jo]=null,Jo--)}function mt(i,s){Jo++,ef[Jo]=i.current,i.current=s}var Qi={},sn=Gi(Qi),kn=Gi(!1),Gs=Qi;function Xo(i,s){var l=i.type.contextTypes;if(!l)return Qi;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function Cn(i){return i=i.childContextTypes,i!=null}function gc(){yt(kn),yt(sn)}function Wg(i,s,l){if(sn.current!==Qi)throw Error(t(168));mt(sn,s),mt(kn,l)}function Hg(i,s,l){var d=i.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,qe(i)||"Unknown",p));return X({},l,d)}function yc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Qi,Gs=sn.current,mt(sn,i),mt(kn,kn.current),!0}function qg(i,s,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=Hg(i,s,Gs),d.__reactInternalMemoizedMergedChildContext=i,yt(kn),yt(sn),mt(sn,i)):yt(kn),mt(kn,l)}var ui=null,vc=!1,tf=!1;function Kg(i){ui===null?ui=[i]:ui.push(i)}function gI(i){vc=!0,Kg(i)}function Zi(){if(!tf&&ui!==null){tf=!0;var i=0,s=rt;try{var l=ui;for(rt=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}ui=null,vc=!1}catch(p){throw ui!==null&&(ui=ui.slice(i+1)),bo(Us,Zi),p}finally{rt=s,tf=!1}}return null}var ea=[],ta=0,_c=null,wc=0,Zn=[],Yn=0,Qs=null,ci=1,di="";function Zs(i,s){ea[ta++]=wc,ea[ta++]=_c,_c=i,wc=s}function Gg(i,s,l){Zn[Yn++]=ci,Zn[Yn++]=di,Zn[Yn++]=Qs,Qs=i;var d=ci;i=di;var p=32-yn(d)-1;d&=~(1<<p),l+=1;var y=32-yn(s)+p;if(30<y){var w=p-p%5;y=(d&(1<<w)-1).toString(32),d>>=w,p-=w,ci=1<<32-yn(s)+p|l<<p|d,di=y+i}else ci=1<<y|l<<p|d,di=i}function nf(i){i.return!==null&&(Zs(i,1),Gg(i,1,0))}function rf(i){for(;i===_c;)_c=ea[--ta],ea[ta]=null,wc=ea[--ta],ea[ta]=null;for(;i===Qs;)Qs=Zn[--Yn],Zn[Yn]=null,di=Zn[--Yn],Zn[Yn]=null,ci=Zn[--Yn],Zn[Yn]=null}var Fn=null,Un=null,Et=!1,fr=null;function Qg(i,s){var l=tr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Zg(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Fn=i,Un=Ki(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Fn=i,Un=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Qs!==null?{id:ci,overflow:di}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=tr(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,Fn=i,Un=null,!0):!1;default:return!1}}function sf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function of(i){if(Et){var s=Un;if(s){var l=s;if(!Zg(i,s)){if(sf(i))throw Error(t(418));s=Ki(l.nextSibling);var d=Fn;s&&Zg(i,s)?Qg(d,l):(i.flags=i.flags&-4097|2,Et=!1,Fn=i)}}else{if(sf(i))throw Error(t(418));i.flags=i.flags&-4097|2,Et=!1,Fn=i}}}function Yg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Fn=i}function Ec(i){if(i!==Fn)return!1;if(!Et)return Yg(i),Et=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Zh(i.type,i.memoizedProps)),s&&(s=Un)){if(sf(i))throw Jg(),Error(t(418));for(;s;)Qg(i,s),s=Ki(s.nextSibling)}if(Yg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){Un=Ki(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}Un=null}}else Un=Fn?Ki(i.stateNode.nextSibling):null;return!0}function Jg(){for(var i=Un;i;)i=Ki(i.nextSibling)}function na(){Un=Fn=null,Et=!1}function af(i){fr===null?fr=[i]:fr.push(i)}var yI=me.ReactCurrentBatchConfig;function pl(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var p=d,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(w){var C=p.refs;w===null?delete C[y]:C[y]=w},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Tc(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Xg(i){var s=i._init;return s(i._payload)}function ey(i){function s($,M){if(i){var z=$.deletions;z===null?($.deletions=[M],$.flags|=16):z.push(M)}}function l($,M){if(!i)return null;for(;M!==null;)s($,M),M=M.sibling;return null}function d($,M){for($=new Map;M!==null;)M.key!==null?$.set(M.key,M):$.set(M.index,M),M=M.sibling;return $}function p($,M){return $=is($,M),$.index=0,$.sibling=null,$}function y($,M,z){return $.index=z,i?(z=$.alternate,z!==null?(z=z.index,z<M?($.flags|=2,M):z):($.flags|=2,M)):($.flags|=1048576,M)}function w($){return i&&$.alternate===null&&($.flags|=2),$}function C($,M,z,he){return M===null||M.tag!==6?(M=Jf(z,$.mode,he),M.return=$,M):(M=p(M,z),M.return=$,M)}function O($,M,z,he){var xe=z.type;return xe===N?oe($,M,z.props.children,he,z.key):M!==null&&(M.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ie&&Xg(xe)===M.type)?(he=p(M,z.props),he.ref=pl($,M,z),he.return=$,he):(he=qc(z.type,z.key,z.props,null,$.mode,he),he.ref=pl($,M,z),he.return=$,he)}function H($,M,z,he){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Xf(z,$.mode,he),M.return=$,M):(M=p(M,z.children||[]),M.return=$,M)}function oe($,M,z,he,xe){return M===null||M.tag!==7?(M=io(z,$.mode,he,xe),M.return=$,M):(M=p(M,z),M.return=$,M)}function ue($,M,z){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Jf(""+M,$.mode,z),M.return=$,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Se:return z=qc(M.type,M.key,M.props,null,$.mode,z),z.ref=pl($,null,M),z.return=$,z;case Te:return M=Xf(M,$.mode,z),M.return=$,M;case ie:var he=M._init;return ue($,he(M._payload),z)}if(Rr(M)||se(M))return M=io(M,$.mode,z,null),M.return=$,M;Tc($,M)}return null}function re($,M,z,he){var xe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return xe!==null?null:C($,M,""+z,he);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Se:return z.key===xe?O($,M,z,he):null;case Te:return z.key===xe?H($,M,z,he):null;case ie:return xe=z._init,re($,M,xe(z._payload),he)}if(Rr(z)||se(z))return xe!==null?null:oe($,M,z,he,null);Tc($,z)}return null}function we($,M,z,he,xe){if(typeof he=="string"&&he!==""||typeof he=="number")return $=$.get(z)||null,C(M,$,""+he,xe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case Se:return $=$.get(he.key===null?z:he.key)||null,O(M,$,he,xe);case Te:return $=$.get(he.key===null?z:he.key)||null,H(M,$,he,xe);case ie:var Le=he._init;return we($,M,z,Le(he._payload),xe)}if(Rr(he)||se(he))return $=$.get(z)||null,oe(M,$,he,xe,null);Tc(M,he)}return null}function ke($,M,z,he){for(var xe=null,Le=null,Me=M,ze=M=0,Gt=null;Me!==null&&ze<z.length;ze++){Me.index>ze?(Gt=Me,Me=null):Gt=Me.sibling;var lt=re($,Me,z[ze],he);if(lt===null){Me===null&&(Me=Gt);break}i&&Me&&lt.alternate===null&&s($,Me),M=y(lt,M,ze),Le===null?xe=lt:Le.sibling=lt,Le=lt,Me=Gt}if(ze===z.length)return l($,Me),Et&&Zs($,ze),xe;if(Me===null){for(;ze<z.length;ze++)Me=ue($,z[ze],he),Me!==null&&(M=y(Me,M,ze),Le===null?xe=Me:Le.sibling=Me,Le=Me);return Et&&Zs($,ze),xe}for(Me=d($,Me);ze<z.length;ze++)Gt=we(Me,$,ze,z[ze],he),Gt!==null&&(i&&Gt.alternate!==null&&Me.delete(Gt.key===null?ze:Gt.key),M=y(Gt,M,ze),Le===null?xe=Gt:Le.sibling=Gt,Le=Gt);return i&&Me.forEach(function(ss){return s($,ss)}),Et&&Zs($,ze),xe}function Pe($,M,z,he){var xe=se(z);if(typeof xe!="function")throw Error(t(150));if(z=xe.call(z),z==null)throw Error(t(151));for(var Le=xe=null,Me=M,ze=M=0,Gt=null,lt=z.next();Me!==null&&!lt.done;ze++,lt=z.next()){Me.index>ze?(Gt=Me,Me=null):Gt=Me.sibling;var ss=re($,Me,lt.value,he);if(ss===null){Me===null&&(Me=Gt);break}i&&Me&&ss.alternate===null&&s($,Me),M=y(ss,M,ze),Le===null?xe=ss:Le.sibling=ss,Le=ss,Me=Gt}if(lt.done)return l($,Me),Et&&Zs($,ze),xe;if(Me===null){for(;!lt.done;ze++,lt=z.next())lt=ue($,lt.value,he),lt!==null&&(M=y(lt,M,ze),Le===null?xe=lt:Le.sibling=lt,Le=lt);return Et&&Zs($,ze),xe}for(Me=d($,Me);!lt.done;ze++,lt=z.next())lt=we(Me,$,ze,lt.value,he),lt!==null&&(i&&lt.alternate!==null&&Me.delete(lt.key===null?ze:lt.key),M=y(lt,M,ze),Le===null?xe=lt:Le.sibling=lt,Le=lt);return i&&Me.forEach(function(ZI){return s($,ZI)}),Et&&Zs($,ze),xe}function xt($,M,z,he){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Se:e:{for(var xe=z.key,Le=M;Le!==null;){if(Le.key===xe){if(xe=z.type,xe===N){if(Le.tag===7){l($,Le.sibling),M=p(Le,z.props.children),M.return=$,$=M;break e}}else if(Le.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ie&&Xg(xe)===Le.type){l($,Le.sibling),M=p(Le,z.props),M.ref=pl($,Le,z),M.return=$,$=M;break e}l($,Le);break}else s($,Le);Le=Le.sibling}z.type===N?(M=io(z.props.children,$.mode,he,z.key),M.return=$,$=M):(he=qc(z.type,z.key,z.props,null,$.mode,he),he.ref=pl($,M,z),he.return=$,$=he)}return w($);case Te:e:{for(Le=z.key;M!==null;){if(M.key===Le)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){l($,M.sibling),M=p(M,z.children||[]),M.return=$,$=M;break e}else{l($,M);break}else s($,M);M=M.sibling}M=Xf(z,$.mode,he),M.return=$,$=M}return w($);case ie:return Le=z._init,xt($,M,Le(z._payload),he)}if(Rr(z))return ke($,M,z,he);if(se(z))return Pe($,M,z,he);Tc($,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,M!==null&&M.tag===6?(l($,M.sibling),M=p(M,z),M.return=$,$=M):(l($,M),M=Jf(z,$.mode,he),M.return=$,$=M),w($)):l($,M)}return xt}var ra=ey(!0),ty=ey(!1),Ic=Gi(null),Sc=null,ia=null,lf=null;function uf(){lf=ia=Sc=null}function cf(i){var s=Ic.current;yt(Ic),i._currentValue=s}function df(i,s,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===l)break;i=i.return}}function sa(i,s){Sc=i,lf=ia=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(Rn=!0),i.firstContext=null)}function Jn(i){var s=i._currentValue;if(lf!==i)if(i={context:i,memoizedValue:s,next:null},ia===null){if(Sc===null)throw Error(t(308));ia=i,Sc.dependencies={lanes:0,firstContext:i}}else ia=ia.next=i;return s}var Ys=null;function hf(i){Ys===null?Ys=[i]:Ys.push(i)}function ny(i,s,l,d){var p=s.interleaved;return p===null?(l.next=l,hf(s)):(l.next=p.next,p.next=l),s.interleaved=l,hi(i,d)}function hi(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Yi=!1;function ff(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ry(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function fi(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Ji(i,s,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(at&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,hi(i,l)}return p=d.interleaved,p===null?(s.next=s,hf(d)):(s.next=p.next,p.next=s),d.interleaved=s,hi(i,l)}function Ac(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,$i(i,l)}}function iy(i,s){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function kc(i,s,l,d){var p=i.updateQueue;Yi=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var O=C,H=O.next;O.next=null,w===null?y=H:w.next=H,w=O;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,C=oe.lastBaseUpdate,C!==w&&(C===null?oe.firstBaseUpdate=H:C.next=H,oe.lastBaseUpdate=O))}if(y!==null){var ue=p.baseState;w=0,oe=H=O=null,C=y;do{var re=C.lane,we=C.eventTime;if((d&re)===re){oe!==null&&(oe=oe.next={eventTime:we,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ke=i,Pe=C;switch(re=s,we=l,Pe.tag){case 1:if(ke=Pe.payload,typeof ke=="function"){ue=ke.call(we,ue,re);break e}ue=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Pe.payload,re=typeof ke=="function"?ke.call(we,ue,re):ke,re==null)break e;ue=X({},ue,re);break e;case 2:Yi=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,re=p.effects,re===null?p.effects=[C]:re.push(C))}else we={eventTime:we,lane:re,tag:C.tag,payload:C.payload,callback:C.callback,next:null},oe===null?(H=oe=we,O=ue):oe=oe.next=we,w|=re;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;re=C,C=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);if(oe===null&&(O=ue),p.baseState=O,p.firstBaseUpdate=H,p.lastBaseUpdate=oe,s=p.shared.interleaved,s!==null){p=s;do w|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);eo|=w,i.lanes=w,i.memoizedState=ue}}function sy(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var d=i[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var ml={},Fr=Gi(ml),gl=Gi(ml),yl=Gi(ml);function Js(i){if(i===ml)throw Error(t(174));return i}function pf(i,s){switch(mt(yl,s),mt(gl,i),mt(Fr,ml),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ne(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=ne(s,i)}yt(Fr),mt(Fr,s)}function oa(){yt(Fr),yt(gl),yt(yl)}function oy(i){Js(yl.current);var s=Js(Fr.current),l=ne(s,i.type);s!==l&&(mt(gl,i),mt(Fr,l))}function mf(i){gl.current===i&&(yt(Fr),yt(gl))}var Tt=Gi(0);function Cc(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gf=[];function yf(){for(var i=0;i<gf.length;i++)gf[i]._workInProgressVersionPrimary=null;gf.length=0}var Rc=me.ReactCurrentDispatcher,vf=me.ReactCurrentBatchConfig,Xs=0,It=null,jt=null,qt=null,Pc=!1,vl=!1,_l=0,vI=0;function on(){throw Error(t(321))}function _f(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!hr(i[l],s[l]))return!1;return!0}function wf(i,s,l,d,p,y){if(Xs=y,It=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Rc.current=i===null||i.memoizedState===null?TI:II,i=l(d,p),vl){y=0;do{if(vl=!1,_l=0,25<=y)throw Error(t(301));y+=1,qt=jt=null,s.updateQueue=null,Rc.current=SI,i=l(d,p)}while(vl)}if(Rc.current=bc,s=jt!==null&&jt.next!==null,Xs=0,qt=jt=It=null,Pc=!1,s)throw Error(t(300));return i}function Ef(){var i=_l!==0;return _l=0,i}function Ur(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?It.memoizedState=qt=i:qt=qt.next=i,qt}function Xn(){if(jt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=jt.next;var s=qt===null?It.memoizedState:qt.next;if(s!==null)qt=s,jt=i;else{if(i===null)throw Error(t(310));jt=i,i={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},qt===null?It.memoizedState=qt=i:qt=qt.next=i}return qt}function wl(i,s){return typeof s=="function"?s(i):s}function Tf(i){var s=Xn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=jt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var C=w=null,O=null,H=y;do{var oe=H.lane;if((Xs&oe)===oe)O!==null&&(O=O.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:i(d,H.action);else{var ue={lane:oe,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};O===null?(C=O=ue,w=d):O=O.next=ue,It.lanes|=oe,eo|=oe}H=H.next}while(H!==null&&H!==y);O===null?w=d:O.next=C,hr(d,s.memoizedState)||(Rn=!0),s.memoizedState=d,s.baseState=w,s.baseQueue=O,l.lastRenderedState=d}if(i=l.interleaved,i!==null){p=i;do y=p.lane,It.lanes|=y,eo|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function If(i){var s=Xn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do y=i(y,w.action),w=w.next;while(w!==p);hr(y,s.memoizedState)||(Rn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function ay(){}function ly(i,s){var l=It,d=Xn(),p=s(),y=!hr(d.memoizedState,p);if(y&&(d.memoizedState=p,Rn=!0),d=d.queue,Sf(dy.bind(null,l,d,i),[i]),d.getSnapshot!==s||y||qt!==null&&qt.memoizedState.tag&1){if(l.flags|=2048,El(9,cy.bind(null,l,d,p,s),void 0,null),Kt===null)throw Error(t(349));(Xs&30)!==0||uy(l,s,p)}return p}function uy(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=It.updateQueue,s===null?(s={lastEffect:null,stores:null},It.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function cy(i,s,l,d){s.value=l,s.getSnapshot=d,hy(s)&&fy(i)}function dy(i,s,l){return l(function(){hy(s)&&fy(i)})}function hy(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!hr(i,l)}catch{return!0}}function fy(i){var s=hi(i,1);s!==null&&yr(s,i,1,-1)}function py(i){var s=Ur();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:i},s.queue=i,i=i.dispatch=EI.bind(null,It,i),[s.memoizedState,i]}function El(i,s,l,d){return i={tag:i,create:s,destroy:l,deps:d,next:null},s=It.updateQueue,s===null?(s={lastEffect:null,stores:null},It.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,s.lastEffect=i)),i}function my(){return Xn().memoizedState}function xc(i,s,l,d){var p=Ur();It.flags|=i,p.memoizedState=El(1|s,l,void 0,d===void 0?null:d)}function Nc(i,s,l,d){var p=Xn();d=d===void 0?null:d;var y=void 0;if(jt!==null){var w=jt.memoizedState;if(y=w.destroy,d!==null&&_f(d,w.deps)){p.memoizedState=El(s,l,y,d);return}}It.flags|=i,p.memoizedState=El(1|s,l,y,d)}function gy(i,s){return xc(8390656,8,i,s)}function Sf(i,s){return Nc(2048,8,i,s)}function yy(i,s){return Nc(4,2,i,s)}function vy(i,s){return Nc(4,4,i,s)}function _y(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function wy(i,s,l){return l=l!=null?l.concat([i]):null,Nc(4,4,_y.bind(null,s,i),l)}function Af(){}function Ey(i,s){var l=Xn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&_f(s,d[1])?d[0]:(l.memoizedState=[i,s],i)}function Ty(i,s){var l=Xn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&_f(s,d[1])?d[0]:(i=i(),l.memoizedState=[i,s],i)}function Iy(i,s,l){return(Xs&21)===0?(i.baseState&&(i.baseState=!1,Rn=!0),i.memoizedState=l):(hr(l,s)||(l=zs(),It.lanes|=l,eo|=l,i.baseState=!0),s)}function _I(i,s){var l=rt;rt=l!==0&&4>l?l:4,i(!0);var d=vf.transition;vf.transition={};try{i(!1),s()}finally{rt=l,vf.transition=d}}function Sy(){return Xn().memoizedState}function wI(i,s,l){var d=ns(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Ay(i))ky(s,l);else if(l=ny(i,s,l,d),l!==null){var p=wn();yr(l,i,d,p),Cy(l,s,d)}}function EI(i,s,l){var d=ns(i),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ay(i))ky(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,C=y(w,l);if(p.hasEagerState=!0,p.eagerState=C,hr(C,w)){var O=s.interleaved;O===null?(p.next=p,hf(s)):(p.next=O.next,O.next=p),s.interleaved=p;return}}catch{}finally{}l=ny(i,s,p,d),l!==null&&(p=wn(),yr(l,i,d,p),Cy(l,s,d))}}function Ay(i){var s=i.alternate;return i===It||s!==null&&s===It}function ky(i,s){vl=Pc=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Cy(i,s,l){if((l&4194240)!==0){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,$i(i,l)}}var bc={readContext:Jn,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},TI={readContext:Jn,useCallback:function(i,s){return Ur().memoizedState=[i,s===void 0?null:s],i},useContext:Jn,useEffect:gy,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,xc(4194308,4,_y.bind(null,s,i),l)},useLayoutEffect:function(i,s){return xc(4194308,4,i,s)},useInsertionEffect:function(i,s){return xc(4,2,i,s)},useMemo:function(i,s){var l=Ur();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var d=Ur();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},d.queue=i,i=i.dispatch=wI.bind(null,It,i),[d.memoizedState,i]},useRef:function(i){var s=Ur();return i={current:i},s.memoizedState=i},useState:py,useDebugValue:Af,useDeferredValue:function(i){return Ur().memoizedState=i},useTransition:function(){var i=py(!1),s=i[0];return i=_I.bind(null,i[1]),Ur().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var d=It,p=Ur();if(Et){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Kt===null)throw Error(t(349));(Xs&30)!==0||uy(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,gy(dy.bind(null,d,y,i),[i]),d.flags|=2048,El(9,cy.bind(null,d,y,l,s),void 0,null),l},useId:function(){var i=Ur(),s=Kt.identifierPrefix;if(Et){var l=di,d=ci;l=(d&~(1<<32-yn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=_l++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=vI++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},II={readContext:Jn,useCallback:Ey,useContext:Jn,useEffect:Sf,useImperativeHandle:wy,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:Ty,useReducer:Tf,useRef:my,useState:function(){return Tf(wl)},useDebugValue:Af,useDeferredValue:function(i){var s=Xn();return Iy(s,jt.memoizedState,i)},useTransition:function(){var i=Tf(wl)[0],s=Xn().memoizedState;return[i,s]},useMutableSource:ay,useSyncExternalStore:ly,useId:Sy,unstable_isNewReconciler:!1},SI={readContext:Jn,useCallback:Ey,useContext:Jn,useEffect:Sf,useImperativeHandle:wy,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:Ty,useReducer:If,useRef:my,useState:function(){return If(wl)},useDebugValue:Af,useDeferredValue:function(i){var s=Xn();return jt===null?s.memoizedState=i:Iy(s,jt.memoizedState,i)},useTransition:function(){var i=If(wl)[0],s=Xn().memoizedState;return[i,s]},useMutableSource:ay,useSyncExternalStore:ly,useId:Sy,unstable_isNewReconciler:!1};function pr(i,s){if(i&&i.defaultProps){s=X({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function kf(i,s,l,d){s=i.memoizedState,l=l(d,s),l=l==null?s:X({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Dc={isMounted:function(i){return(i=i._reactInternals)?sr(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var d=wn(),p=ns(i),y=fi(d,p);y.payload=s,l!=null&&(y.callback=l),s=Ji(i,y,p),s!==null&&(yr(s,i,p,d),Ac(s,i,p))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var d=wn(),p=ns(i),y=fi(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Ji(i,y,p),s!==null&&(yr(s,i,p,d),Ac(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=wn(),d=ns(i),p=fi(l,d);p.tag=2,s!=null&&(p.callback=s),s=Ji(i,p,d),s!==null&&(yr(s,i,d,l),Ac(s,i,d))}};function Ry(i,s,l,d,p,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,w):s.prototype&&s.prototype.isPureReactComponent?!al(l,d)||!al(p,y):!0}function Py(i,s,l){var d=!1,p=Qi,y=s.contextType;return typeof y=="object"&&y!==null?y=Jn(y):(p=Cn(s)?Gs:sn.current,d=s.contextTypes,y=(d=d!=null)?Xo(i,p):Qi),s=new s(l,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Dc,i.stateNode=s,s._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),s}function xy(i,s,l,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==i&&Dc.enqueueReplaceState(s,s.state,null)}function Cf(i,s,l,d){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},ff(i);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Jn(y):(y=Cn(s)?Gs:sn.current,p.context=Xo(i,y)),p.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(kf(i,s,y,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Dc.enqueueReplaceState(p,p.state,null),kc(i,l,p,d),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function aa(i,s){try{var l="",d=s;do l+=Oe(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:p,digest:null}}function Rf(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Pf(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var AI=typeof WeakMap=="function"?WeakMap:Map;function Ny(i,s,l){l=fi(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){jc||(jc=!0,Wf=d),Pf(i,s)},l}function by(i,s,l){l=fi(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){Pf(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Pf(i,s),typeof d!="function"&&(es===null?es=new Set([this]):es.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function Dy(i,s,l){var d=i.pingCache;if(d===null){d=i.pingCache=new AI;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),i=UI.bind(null,i,s,l),s.then(i,i))}function Oy(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Vy(i,s,l,d,p){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=fi(-1,1),s.tag=2,Ji(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var kI=me.ReactCurrentOwner,Rn=!1;function _n(i,s,l,d){s.child=i===null?ty(s,null,l,d):ra(s,i.child,l,d)}function Ly(i,s,l,d,p){l=l.render;var y=s.ref;return sa(s,p),d=wf(i,s,l,d,y,p),l=Ef(),i!==null&&!Rn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,pi(i,s,p)):(Et&&l&&nf(s),s.flags|=1,_n(i,s,d,p),s.child)}function My(i,s,l,d,p){if(i===null){var y=l.type;return typeof y=="function"&&!Yf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Fy(i,s,y,d,p)):(i=qc(l.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,(i.lanes&p)===0){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:al,l(w,d)&&i.ref===s.ref)return pi(i,s,p)}return s.flags|=1,i=is(y,d),i.ref=s.ref,i.return=s,s.child=i}function Fy(i,s,l,d,p){if(i!==null){var y=i.memoizedProps;if(al(y,d)&&i.ref===s.ref)if(Rn=!1,s.pendingProps=d=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(Rn=!0);else return s.lanes=i.lanes,pi(i,s,p)}return xf(i,s,l,d,p)}function Uy(i,s,l){var d=s.pendingProps,p=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(ua,jn),jn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,mt(ua,jn),jn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,mt(ua,jn),jn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,mt(ua,jn),jn|=d;return _n(i,s,p,l),s.child}function jy(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function xf(i,s,l,d,p){var y=Cn(l)?Gs:sn.current;return y=Xo(s,y),sa(s,p),l=wf(i,s,l,d,y,p),d=Ef(),i!==null&&!Rn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,pi(i,s,p)):(Et&&d&&nf(s),s.flags|=1,_n(i,s,l,p),s.child)}function $y(i,s,l,d,p){if(Cn(l)){var y=!0;yc(s)}else y=!1;if(sa(s,p),s.stateNode===null)Vc(i,s),Py(s,l,d),Cf(s,l,d,p),d=!0;else if(i===null){var w=s.stateNode,C=s.memoizedProps;w.props=C;var O=w.context,H=l.contextType;typeof H=="object"&&H!==null?H=Jn(H):(H=Cn(l)?Gs:sn.current,H=Xo(s,H));var oe=l.getDerivedStateFromProps,ue=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function";ue||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==d||O!==H)&&xy(s,w,d,H),Yi=!1;var re=s.memoizedState;w.state=re,kc(s,d,w,p),O=s.memoizedState,C!==d||re!==O||kn.current||Yi?(typeof oe=="function"&&(kf(s,l,oe,d),O=s.memoizedState),(C=Yi||Ry(s,l,C,d,re,O,H))?(ue||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=O),w.props=d,w.state=O,w.context=H,d=C):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{w=s.stateNode,ry(i,s),C=s.memoizedProps,H=s.type===s.elementType?C:pr(s.type,C),w.props=H,ue=s.pendingProps,re=w.context,O=l.contextType,typeof O=="object"&&O!==null?O=Jn(O):(O=Cn(l)?Gs:sn.current,O=Xo(s,O));var we=l.getDerivedStateFromProps;(oe=typeof we=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==ue||re!==O)&&xy(s,w,d,O),Yi=!1,re=s.memoizedState,w.state=re,kc(s,d,w,p);var ke=s.memoizedState;C!==ue||re!==ke||kn.current||Yi?(typeof we=="function"&&(kf(s,l,we,d),ke=s.memoizedState),(H=Yi||Ry(s,l,H,d,re,ke,O)||!1)?(oe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,ke,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,ke,O)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ke),w.props=d,w.state=ke,w.context=O,d=H):(typeof w.componentDidUpdate!="function"||C===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),d=!1)}return Nf(i,s,l,d,y,p)}function Nf(i,s,l,d,p,y){jy(i,s);var w=(s.flags&128)!==0;if(!d&&!w)return p&&qg(s,l,!1),pi(i,s,y);d=s.stateNode,kI.current=s;var C=w&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,i!==null&&w?(s.child=ra(s,i.child,null,y),s.child=ra(s,null,C,y)):_n(i,s,C,y),s.memoizedState=d.state,p&&qg(s,l,!0),s.child}function zy(i){var s=i.stateNode;s.pendingContext?Wg(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Wg(i,s.context,!1),pf(i,s.containerInfo)}function By(i,s,l,d,p){return na(),af(p),s.flags|=256,_n(i,s,l,d),s.child}var bf={dehydrated:null,treeContext:null,retryLane:0};function Df(i){return{baseLanes:i,cachePool:null,transitions:null}}function Wy(i,s,l){var d=s.pendingProps,p=Tt.current,y=!1,w=(s.flags&128)!==0,C;if((C=w)||(C=i!==null&&i.memoizedState===null?!1:(p&2)!==0),C?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),mt(Tt,p&1),i===null)return of(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=d.children,i=d.fallback,y?(d=s.mode,y=s.child,w={mode:"hidden",children:w},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=Kc(w,d,0,null),i=io(i,d,l,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=Df(l),s.memoizedState=bf,i):Of(s,w));if(p=i.memoizedState,p!==null&&(C=p.dehydrated,C!==null))return CI(i,s,w,d,C,p,l);if(y){y=d.fallback,w=s.mode,p=i.child,C=p.sibling;var O={mode:"hidden",children:d.children};return(w&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=O,s.deletions=null):(d=is(p,O),d.subtreeFlags=p.subtreeFlags&14680064),C!==null?y=is(C,y):(y=io(y,w,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,w=i.child.memoizedState,w=w===null?Df(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=i.childLanes&~l,s.memoizedState=bf,d}return y=i.child,i=y.sibling,d=is(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=d,s.memoizedState=null,d}function Of(i,s){return s=Kc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Oc(i,s,l,d){return d!==null&&af(d),ra(s,i.child,null,l),i=Of(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function CI(i,s,l,d,p,y,w){if(l)return s.flags&256?(s.flags&=-257,d=Rf(Error(t(422))),Oc(i,s,w,d)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=Kc({mode:"visible",children:d.children},p,0,null),y=io(y,p,w,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&ra(s,i.child,null,w),s.child.memoizedState=Df(w),s.memoizedState=bf,y);if((s.mode&1)===0)return Oc(i,s,w,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var C=d.dgst;return d=C,y=Error(t(419)),d=Rf(y,d,void 0),Oc(i,s,w,d)}if(C=(w&i.childLanes)!==0,Rn||C){if(d=Kt,d!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|w))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,hi(i,p),yr(d,i,p,-1))}return Zf(),d=Rf(Error(t(421))),Oc(i,s,w,d)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=jI.bind(null,i),p._reactRetry=s,null):(i=y.treeContext,Un=Ki(p.nextSibling),Fn=s,Et=!0,fr=null,i!==null&&(Zn[Yn++]=ci,Zn[Yn++]=di,Zn[Yn++]=Qs,ci=i.id,di=i.overflow,Qs=s),s=Of(s,d.children),s.flags|=4096,s)}function Hy(i,s,l){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),df(i.return,s,l)}function Vf(i,s,l,d,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function qy(i,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(_n(i,s,d.children,l),d=Tt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Hy(i,l,s);else if(i.tag===19)Hy(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(mt(Tt,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Cc(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Vf(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Cc(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Vf(s,!0,l,null,y);break;case"together":Vf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Vc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function pi(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),eo|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=is(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=is(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function RI(i,s,l){switch(s.tag){case 3:zy(s),na();break;case 5:oy(s);break;case 1:Cn(s.type)&&yc(s);break;case 4:pf(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;mt(Ic,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(mt(Tt,Tt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Wy(i,s,l):(mt(Tt,Tt.current&1),i=pi(i,s,l),i!==null?i.sibling:null);mt(Tt,Tt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(i.flags&128)!==0){if(d)return qy(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),mt(Tt,Tt.current),d)break;return null;case 22:case 23:return s.lanes=0,Uy(i,s,l)}return pi(i,s,l)}var Ky,Lf,Gy,Qy;Ky=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Lf=function(){},Gy=function(i,s,l,d){var p=i.memoizedProps;if(p!==d){i=s.stateNode,Js(Fr.current);var y=null;switch(l){case"input":p=Cr(i,p),d=Cr(i,d),y=[];break;case"select":p=X({},p,{value:void 0}),d=X({},d,{value:void 0}),y=[];break;case"textarea":p=x(i,p),d=x(i,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=pc)}Li(l,d);var w;l=null;for(H in p)if(!d.hasOwnProperty(H)&&p.hasOwnProperty(H)&&p[H]!=null)if(H==="style"){var C=p[H];for(w in C)C.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?y||(y=[]):(y=y||[]).push(H,null));for(H in d){var O=d[H];if(C=p!=null?p[H]:void 0,d.hasOwnProperty(H)&&O!==C&&(O!=null||C!=null))if(H==="style")if(C){for(w in C)!C.hasOwnProperty(w)||O&&O.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in O)O.hasOwnProperty(w)&&C[w]!==O[w]&&(l||(l={}),l[w]=O[w])}else l||(y||(y=[]),y.push(H,l)),l=O;else H==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,C=C?C.__html:void 0,O!=null&&C!==O&&(y=y||[]).push(H,O)):H==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(H,""+O):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(O!=null&&H==="onScroll"&&gt("scroll",i),y||C===O||(y=[])):(y=y||[]).push(H,O))}l&&(y=y||[]).push("style",l);var H=y;(s.updateQueue=H)&&(s.flags|=4)}},Qy=function(i,s,l,d){l!==d&&(s.flags|=4)};function Tl(i,s){if(!Et)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function an(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=l,s}function PI(i,s,l){var d=s.pendingProps;switch(rf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(s),null;case 1:return Cn(s.type)&&gc(),an(s),null;case 3:return d=s.stateNode,oa(),yt(kn),yt(sn),yf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Ec(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fr!==null&&(Kf(fr),fr=null))),Lf(i,s),an(s),null;case 5:mf(s);var p=Js(yl.current);if(l=s.type,i!==null&&s.stateNode!=null)Gy(i,s,l,d,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return an(s),null}if(i=Js(Fr.current),Ec(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[Mr]=s,d[hl]=y,i=(s.mode&1)!==0,l){case"dialog":gt("cancel",d),gt("close",d);break;case"iframe":case"object":case"embed":gt("load",d);break;case"video":case"audio":for(p=0;p<ul.length;p++)gt(ul[p],d);break;case"source":gt("error",d);break;case"img":case"image":case"link":gt("error",d),gt("load",d);break;case"details":gt("toggle",d);break;case"input":bi(d,y),gt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},gt("invalid",d);break;case"textarea":W(d,y),gt("invalid",d)}Li(l,y),p=null;for(var w in y)if(y.hasOwnProperty(w)){var C=y[w];w==="children"?typeof C=="string"?d.textContent!==C&&(y.suppressHydrationWarning!==!0&&fc(d.textContent,C,i),p=["children",C]):typeof C=="number"&&d.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&fc(d.textContent,C,i),p=["children",""+C]):o.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&gt("scroll",d)}switch(l){case"input":Ct(d),So(d,y,!0);break;case"textarea":Ct(d),ve(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=pc)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=le(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=w.createElement(l,{is:d.is}):(i=w.createElement(l),l==="select"&&(w=i,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):i=w.createElementNS(i,l),i[Mr]=s,i[hl]=d,Ky(i,s,!1,!1),s.stateNode=i;e:{switch(w=Os(l,d),l){case"dialog":gt("cancel",i),gt("close",i),p=d;break;case"iframe":case"object":case"embed":gt("load",i),p=d;break;case"video":case"audio":for(p=0;p<ul.length;p++)gt(ul[p],i);p=d;break;case"source":gt("error",i),p=d;break;case"img":case"image":case"link":gt("error",i),gt("load",i),p=d;break;case"details":gt("toggle",i),p=d;break;case"input":bi(i,d),p=Cr(i,d),gt("invalid",i);break;case"option":p=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},p=X({},d,{value:void 0}),gt("invalid",i);break;case"textarea":W(i,d),p=x(i,d),gt("invalid",i);break;default:p=d}Li(l,p),C=p;for(y in C)if(C.hasOwnProperty(y)){var O=C[y];y==="style"?ti(i,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Je(i,O)):y==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&ct(i,O):typeof O=="number"&&ct(i,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?O!=null&&y==="onScroll"&&gt("scroll",i):O!=null&&Y(i,y,O,w))}switch(l){case"input":Ct(i),So(i,d,!1);break;case"textarea":Ct(i),ve(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Qe(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?Hn(i,!!d.multiple,y,!1):d.defaultValue!=null&&Hn(i,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=pc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return an(s),null;case 6:if(i&&s.stateNode!=null)Qy(i,s,i.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Js(yl.current),Js(Fr.current),Ec(s)){if(d=s.stateNode,l=s.memoizedProps,d[Mr]=s,(y=d.nodeValue!==l)&&(i=Fn,i!==null))switch(i.tag){case 3:fc(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&fc(d.nodeValue,l,(i.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Mr]=s,s.stateNode=d}return an(s),null;case 13:if(yt(Tt),d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Et&&Un!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Jg(),na(),s.flags|=98560,y=!1;else if(y=Ec(s),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Mr]=s}else na(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;an(s),y=!1}else fr!==null&&(Kf(fr),fr=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(Tt.current&1)!==0?$t===0&&($t=3):Zf())),s.updateQueue!==null&&(s.flags|=4),an(s),null);case 4:return oa(),Lf(i,s),i===null&&cl(s.stateNode.containerInfo),an(s),null;case 10:return cf(s.type._context),an(s),null;case 17:return Cn(s.type)&&gc(),an(s),null;case 19:if(yt(Tt),y=s.memoizedState,y===null)return an(s),null;if(d=(s.flags&128)!==0,w=y.rendering,w===null)if(d)Tl(y,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(w=Cc(i),w!==null){for(s.flags|=128,Tl(y,!1),d=w.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,i=d,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,i=w.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return mt(Tt,Tt.current&1|2),s.child}i=i.sibling}y.tail!==null&&pt()>ca&&(s.flags|=128,d=!0,Tl(y,!1),s.lanes=4194304)}else{if(!d)if(i=Cc(w),i!==null){if(s.flags|=128,d=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Tl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Et)return an(s),null}else 2*pt()-y.renderingStartTime>ca&&l!==1073741824&&(s.flags|=128,d=!0,Tl(y,!1),s.lanes=4194304);y.isBackwards?(w.sibling=s.child,s.child=w):(l=y.last,l!==null?l.sibling=w:s.child=w,y.last=w)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=pt(),s.sibling=null,l=Tt.current,mt(Tt,d?l&1|2:l&1),s):(an(s),null);case 22:case 23:return Qf(),d=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(jn&1073741824)!==0&&(an(s),s.subtreeFlags&6&&(s.flags|=8192)):an(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function xI(i,s){switch(rf(s),s.tag){case 1:return Cn(s.type)&&gc(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return oa(),yt(kn),yt(sn),yf(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return mf(s),null;case 13:if(yt(Tt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));na()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return yt(Tt),null;case 4:return oa(),null;case 10:return cf(s.type._context),null;case 22:case 23:return Qf(),null;case 24:return null;default:return null}}var Lc=!1,ln=!1,NI=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function la(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Rt(i,s,d)}else l.current=null}function Mf(i,s,l){try{l()}catch(d){Rt(i,s,d)}}var Zy=!1;function bI(i,s){if(Gh=Wi,i=Rg(),jh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var w=0,C=-1,O=-1,H=0,oe=0,ue=i,re=null;t:for(;;){for(var we;ue!==l||p!==0&&ue.nodeType!==3||(C=w+p),ue!==y||d!==0&&ue.nodeType!==3||(O=w+d),ue.nodeType===3&&(w+=ue.nodeValue.length),(we=ue.firstChild)!==null;)re=ue,ue=we;for(;;){if(ue===i)break t;if(re===l&&++H===p&&(C=w),re===y&&++oe===d&&(O=w),(we=ue.nextSibling)!==null)break;ue=re,re=ue.parentNode}ue=we}l=C===-1||O===-1?null:{start:C,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qh={focusedElem:i,selectionRange:l},Wi=!1,Ae=s;Ae!==null;)if(s=Ae,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ae=i;else for(;Ae!==null;){s=Ae;try{var ke=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Pe=ke.memoizedProps,xt=ke.memoizedState,$=s.stateNode,M=$.getSnapshotBeforeUpdate(s.elementType===s.type?Pe:pr(s.type,Pe),xt);$.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){Rt(s,s.return,he)}if(i=s.sibling,i!==null){i.return=s.return,Ae=i;break}Ae=s.return}return ke=Zy,Zy=!1,ke}function Il(i,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&Mf(s,l,y)}p=p.next}while(p!==d)}}function Mc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Ff(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Yy(i){var s=i.alternate;s!==null&&(i.alternate=null,Yy(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Mr],delete s[hl],delete s[Xh],delete s[pI],delete s[mI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Jy(i){return i.tag===5||i.tag===3||i.tag===4}function Xy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Jy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Uf(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=pc));else if(d!==4&&(i=i.child,i!==null))for(Uf(i,s,l),i=i.sibling;i!==null;)Uf(i,s,l),i=i.sibling}function jf(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(jf(i,s,l),i=i.sibling;i!==null;)jf(i,s,l),i=i.sibling}var Xt=null,mr=!1;function Xi(i,s,l){for(l=l.child;l!==null;)ev(i,s,l),l=l.sibling}function ev(i,s,l){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(js,l)}catch{}switch(l.tag){case 5:ln||la(l,s);case 6:var d=Xt,p=mr;Xt=null,Xi(i,s,l),Xt=d,mr=p,Xt!==null&&(mr?(i=Xt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Xt.removeChild(l.stateNode));break;case 18:Xt!==null&&(mr?(i=Xt,l=l.stateNode,i.nodeType===8?Jh(i.parentNode,l):i.nodeType===1&&Jh(i,l),cr(i)):Jh(Xt,l.stateNode));break;case 4:d=Xt,p=mr,Xt=l.stateNode.containerInfo,mr=!0,Xi(i,s,l),Xt=d,mr=p;break;case 0:case 11:case 14:case 15:if(!ln&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&Mf(l,s,w),p=p.next}while(p!==d)}Xi(i,s,l);break;case 1:if(!ln&&(la(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(C){Rt(l,s,C)}Xi(i,s,l);break;case 21:Xi(i,s,l);break;case 22:l.mode&1?(ln=(d=ln)||l.memoizedState!==null,Xi(i,s,l),ln=d):Xi(i,s,l);break;default:Xi(i,s,l)}}function tv(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new NI),s.forEach(function(d){var p=$I.bind(null,i,d);l.has(d)||(l.add(d),d.then(p,p))})}}function gr(i,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=i,w=s,C=w;e:for(;C!==null;){switch(C.tag){case 5:Xt=C.stateNode,mr=!1;break e;case 3:Xt=C.stateNode.containerInfo,mr=!0;break e;case 4:Xt=C.stateNode.containerInfo,mr=!0;break e}C=C.return}if(Xt===null)throw Error(t(160));ev(y,w,p),Xt=null,mr=!1;var O=p.alternate;O!==null&&(O.return=null),p.return=null}catch(H){Rt(p,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)nv(s,i),s=s.sibling}function nv(i,s){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(gr(s,i),jr(i),d&4){try{Il(3,i,i.return),Mc(3,i)}catch(Pe){Rt(i,i.return,Pe)}try{Il(5,i,i.return)}catch(Pe){Rt(i,i.return,Pe)}}break;case 1:gr(s,i),jr(i),d&512&&l!==null&&la(l,l.return);break;case 5:if(gr(s,i),jr(i),d&512&&l!==null&&la(l,l.return),i.flags&32){var p=i.stateNode;try{ct(p,"")}catch(Pe){Rt(i,i.return,Pe)}}if(d&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,w=l!==null?l.memoizedProps:y,C=i.type,O=i.updateQueue;if(i.updateQueue=null,O!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&Di(p,y),Os(C,w);var H=Os(C,y);for(w=0;w<O.length;w+=2){var oe=O[w],ue=O[w+1];oe==="style"?ti(p,ue):oe==="dangerouslySetInnerHTML"?Je(p,ue):oe==="children"?ct(p,ue):Y(p,oe,ue,H)}switch(C){case"input":Oi(p,y);break;case"textarea":Z(p,y);break;case"select":var re=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var we=y.value;we!=null?Hn(p,!!y.multiple,we,!1):re!==!!y.multiple&&(y.defaultValue!=null?Hn(p,!!y.multiple,y.defaultValue,!0):Hn(p,!!y.multiple,y.multiple?[]:"",!1))}p[hl]=y}catch(Pe){Rt(i,i.return,Pe)}}break;case 6:if(gr(s,i),jr(i),d&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(Pe){Rt(i,i.return,Pe)}}break;case 3:if(gr(s,i),jr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{cr(s.containerInfo)}catch(Pe){Rt(i,i.return,Pe)}break;case 4:gr(s,i),jr(i);break;case 13:gr(s,i),jr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Bf=pt())),d&4&&tv(i);break;case 22:if(oe=l!==null&&l.memoizedState!==null,i.mode&1?(ln=(H=ln)||oe,gr(s,i),ln=H):gr(s,i),jr(i),d&8192){if(H=i.memoizedState!==null,(i.stateNode.isHidden=H)&&!oe&&(i.mode&1)!==0)for(Ae=i,oe=i.child;oe!==null;){for(ue=Ae=oe;Ae!==null;){switch(re=Ae,we=re.child,re.tag){case 0:case 11:case 14:case 15:Il(4,re,re.return);break;case 1:la(re,re.return);var ke=re.stateNode;if(typeof ke.componentWillUnmount=="function"){d=re,l=re.return;try{s=d,ke.props=s.memoizedProps,ke.state=s.memoizedState,ke.componentWillUnmount()}catch(Pe){Rt(d,l,Pe)}}break;case 5:la(re,re.return);break;case 22:if(re.memoizedState!==null){sv(ue);continue}}we!==null?(we.return=re,Ae=we):sv(ue)}oe=oe.sibling}e:for(oe=null,ue=i;;){if(ue.tag===5){if(oe===null){oe=ue;try{p=ue.stateNode,H?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=ue.stateNode,O=ue.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null,C.style.display=ei("display",w))}catch(Pe){Rt(i,i.return,Pe)}}}else if(ue.tag===6){if(oe===null)try{ue.stateNode.nodeValue=H?"":ue.memoizedProps}catch(Pe){Rt(i,i.return,Pe)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===i)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===i)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===i)break e;oe===ue&&(oe=null),ue=ue.return}oe===ue&&(oe=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:gr(s,i),jr(i),d&4&&tv(i);break;case 21:break;default:gr(s,i),jr(i)}}function jr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Jy(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(ct(p,""),d.flags&=-33);var y=Xy(i);jf(i,y,p);break;case 3:case 4:var w=d.stateNode.containerInfo,C=Xy(i);Uf(i,C,w);break;default:throw Error(t(161))}}catch(O){Rt(i,i.return,O)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function DI(i,s,l){Ae=i,rv(i)}function rv(i,s,l){for(var d=(i.mode&1)!==0;Ae!==null;){var p=Ae,y=p.child;if(p.tag===22&&d){var w=p.memoizedState!==null||Lc;if(!w){var C=p.alternate,O=C!==null&&C.memoizedState!==null||ln;C=Lc;var H=ln;if(Lc=w,(ln=O)&&!H)for(Ae=p;Ae!==null;)w=Ae,O=w.child,w.tag===22&&w.memoizedState!==null?ov(p):O!==null?(O.return=w,Ae=O):ov(p);for(;y!==null;)Ae=y,rv(y),y=y.sibling;Ae=p,Lc=C,ln=H}iv(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,Ae=y):iv(i)}}function iv(i){for(;Ae!==null;){var s=Ae;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ln||Mc(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!ln)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:pr(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&sy(s,y,d);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}sy(s,w,l)}break;case 5:var C=s.stateNode;if(l===null&&s.flags&4){l=C;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var oe=H.memoizedState;if(oe!==null){var ue=oe.dehydrated;ue!==null&&cr(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ln||s.flags&512&&Ff(s)}catch(re){Rt(s,s.return,re)}}if(s===i){Ae=null;break}if(l=s.sibling,l!==null){l.return=s.return,Ae=l;break}Ae=s.return}}function sv(i){for(;Ae!==null;){var s=Ae;if(s===i){Ae=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Ae=l;break}Ae=s.return}}function ov(i){for(;Ae!==null;){var s=Ae;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Mc(4,s)}catch(O){Rt(s,l,O)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(O){Rt(s,p,O)}}var y=s.return;try{Ff(s)}catch(O){Rt(s,y,O)}break;case 5:var w=s.return;try{Ff(s)}catch(O){Rt(s,w,O)}}}catch(O){Rt(s,s.return,O)}if(s===i){Ae=null;break}var C=s.sibling;if(C!==null){C.return=s.return,Ae=C;break}Ae=s.return}}var OI=Math.ceil,Fc=me.ReactCurrentDispatcher,$f=me.ReactCurrentOwner,er=me.ReactCurrentBatchConfig,at=0,Kt=null,Ot=null,en=0,jn=0,ua=Gi(0),$t=0,Sl=null,eo=0,Uc=0,zf=0,Al=null,Pn=null,Bf=0,ca=1/0,mi=null,jc=!1,Wf=null,es=null,$c=!1,ts=null,zc=0,kl=0,Hf=null,Bc=-1,Wc=0;function wn(){return(at&6)!==0?pt():Bc!==-1?Bc:Bc=pt()}function ns(i){return(i.mode&1)===0?1:(at&2)!==0&&en!==0?en&-en:yI.transition!==null?(Wc===0&&(Wc=zs()),Wc):(i=rt,i!==0||(i=window.event,i=i===void 0?16:el(i.type)),i)}function yr(i,s,l,d){if(50<kl)throw kl=0,Hf=null,Error(t(185));ji(i,l,d),((at&2)===0||i!==Kt)&&(i===Kt&&((at&2)===0&&(Uc|=l),$t===4&&rs(i,en)),xn(i,d),l===1&&at===0&&(s.mode&1)===0&&(ca=pt()+500,vc&&Zi()))}function xn(i,s){var l=i.callbackNode;ri(i,s);var d=$s(i,i===Kt?en:0);if(d===0)l!==null&&Qa(l),i.callbackNode=null,i.callbackPriority=0;else if(s=d&-d,i.callbackPriority!==s){if(l!=null&&Qa(l),s===1)i.tag===0?gI(lv.bind(null,i)):Kg(lv.bind(null,i)),hI(function(){(at&6)===0&&Zi()}),l=null;else{switch(zi(d)){case 1:l=Us;break;case 4:l=Mi;break;case 16:l=Kn;break;case 536870912:l=Wu;break;default:l=Kn}l=gv(l,av.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function av(i,s){if(Bc=-1,Wc=0,(at&6)!==0)throw Error(t(327));var l=i.callbackNode;if(da()&&i.callbackNode!==l)return null;var d=$s(i,i===Kt?en:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||s)s=Hc(i,d);else{s=d;var p=at;at|=2;var y=cv();(Kt!==i||en!==s)&&(mi=null,ca=pt()+500,no(i,s));do try{MI();break}catch(C){uv(i,C)}while(!0);uf(),Fc.current=y,at=p,Ot!==null?s=0:(Kt=null,en=0,s=$t)}if(s!==0){if(s===2&&(p=Vn(i),p!==0&&(d=p,s=qf(i,p))),s===1)throw l=Sl,no(i,0),rs(i,d),xn(i,pt()),l;if(s===6)rs(i,d);else{if(p=i.current.alternate,(d&30)===0&&!VI(p)&&(s=Hc(i,d),s===2&&(y=Vn(i),y!==0&&(d=y,s=qf(i,y))),s===1))throw l=Sl,no(i,0),rs(i,d),xn(i,pt()),l;switch(i.finishedWork=p,i.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:ro(i,Pn,mi);break;case 3:if(rs(i,d),(d&130023424)===d&&(s=Bf+500-pt(),10<s)){if($s(i,0)!==0)break;if(p=i.suspendedLanes,(p&d)!==d){wn(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=Yh(ro.bind(null,i,Pn,mi),s);break}ro(i,Pn,mi);break;case 4:if(rs(i,d),(d&4194240)===d)break;for(s=i.eventTimes,p=-1;0<d;){var w=31-yn(d);y=1<<w,w=s[w],w>p&&(p=w),d&=~y}if(d=p,d=pt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*OI(d/1960))-d,10<d){i.timeoutHandle=Yh(ro.bind(null,i,Pn,mi),d);break}ro(i,Pn,mi);break;case 5:ro(i,Pn,mi);break;default:throw Error(t(329))}}}return xn(i,pt()),i.callbackNode===l?av.bind(null,i):null}function qf(i,s){var l=Al;return i.current.memoizedState.isDehydrated&&(no(i,s).flags|=256),i=Hc(i,s),i!==2&&(s=Pn,Pn=l,s!==null&&Kf(s)),i}function Kf(i){Pn===null?Pn=i:Pn.push.apply(Pn,i)}function VI(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!hr(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function rs(i,s){for(s&=~zf,s&=~Uc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-yn(s),d=1<<l;i[l]=-1,s&=~d}}function lv(i){if((at&6)!==0)throw Error(t(327));da();var s=$s(i,0);if((s&1)===0)return xn(i,pt()),null;var l=Hc(i,s);if(i.tag!==0&&l===2){var d=Vn(i);d!==0&&(s=d,l=qf(i,d))}if(l===1)throw l=Sl,no(i,0),rs(i,s),xn(i,pt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,ro(i,Pn,mi),xn(i,pt()),null}function Gf(i,s){var l=at;at|=1;try{return i(s)}finally{at=l,at===0&&(ca=pt()+500,vc&&Zi())}}function to(i){ts!==null&&ts.tag===0&&(at&6)===0&&da();var s=at;at|=1;var l=er.transition,d=rt;try{if(er.transition=null,rt=1,i)return i()}finally{rt=d,er.transition=l,at=s,(at&6)===0&&Zi()}}function Qf(){jn=ua.current,yt(ua)}function no(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,dI(l)),Ot!==null)for(l=Ot.return;l!==null;){var d=l;switch(rf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&gc();break;case 3:oa(),yt(kn),yt(sn),yf();break;case 5:mf(d);break;case 4:oa();break;case 13:yt(Tt);break;case 19:yt(Tt);break;case 10:cf(d.type._context);break;case 22:case 23:Qf()}l=l.return}if(Kt=i,Ot=i=is(i.current,null),en=jn=s,$t=0,Sl=null,zf=Uc=eo=0,Pn=Al=null,Ys!==null){for(s=0;s<Ys.length;s++)if(l=Ys[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var w=y.next;y.next=p,d.next=w}l.pending=d}Ys=null}return i}function uv(i,s){do{var l=Ot;try{if(uf(),Rc.current=bc,Pc){for(var d=It.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Pc=!1}if(Xs=0,qt=jt=It=null,vl=!1,_l=0,$f.current=null,l===null||l.return===null){$t=1,Sl=s,Ot=null;break}e:{var y=i,w=l.return,C=l,O=s;if(s=en,C.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var H=O,oe=C,ue=oe.tag;if((oe.mode&1)===0&&(ue===0||ue===11||ue===15)){var re=oe.alternate;re?(oe.updateQueue=re.updateQueue,oe.memoizedState=re.memoizedState,oe.lanes=re.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var we=Oy(w);if(we!==null){we.flags&=-257,Vy(we,w,C,y,s),we.mode&1&&Dy(y,H,s),s=we,O=H;var ke=s.updateQueue;if(ke===null){var Pe=new Set;Pe.add(O),s.updateQueue=Pe}else ke.add(O);break e}else{if((s&1)===0){Dy(y,H,s),Zf();break e}O=Error(t(426))}}else if(Et&&C.mode&1){var xt=Oy(w);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),Vy(xt,w,C,y,s),af(aa(O,C));break e}}y=O=aa(O,C),$t!==4&&($t=2),Al===null?Al=[y]:Al.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var $=Ny(y,O,s);iy(y,$);break e;case 1:C=O;var M=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(es===null||!es.has(z)))){y.flags|=65536,s&=-s,y.lanes|=s;var he=by(y,C,s);iy(y,he);break e}}y=y.return}while(y!==null)}hv(l)}catch(xe){s=xe,Ot===l&&l!==null&&(Ot=l=l.return);continue}break}while(!0)}function cv(){var i=Fc.current;return Fc.current=bc,i===null?bc:i}function Zf(){($t===0||$t===3||$t===2)&&($t=4),Kt===null||(eo&268435455)===0&&(Uc&268435455)===0||rs(Kt,en)}function Hc(i,s){var l=at;at|=2;var d=cv();(Kt!==i||en!==s)&&(mi=null,no(i,s));do try{LI();break}catch(p){uv(i,p)}while(!0);if(uf(),at=l,Fc.current=d,Ot!==null)throw Error(t(261));return Kt=null,en=0,$t}function LI(){for(;Ot!==null;)dv(Ot)}function MI(){for(;Ot!==null&&!zu();)dv(Ot)}function dv(i){var s=mv(i.alternate,i,jn);i.memoizedProps=i.pendingProps,s===null?hv(i):Ot=s,$f.current=null}function hv(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=PI(l,s,jn),l!==null){Ot=l;return}}else{if(l=xI(l,s),l!==null){l.flags&=32767,Ot=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{$t=6,Ot=null;return}}if(s=s.sibling,s!==null){Ot=s;return}Ot=s=i}while(s!==null);$t===0&&($t=5)}function ro(i,s,l){var d=rt,p=er.transition;try{er.transition=null,rt=1,FI(i,s,l,d)}finally{er.transition=p,rt=d}return null}function FI(i,s,l,d){do da();while(ts!==null);if((at&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(ft(i,y),i===Kt&&(Ot=Kt=null,en=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||$c||($c=!0,gv(Kn,function(){return da(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=er.transition,er.transition=null;var w=rt;rt=1;var C=at;at|=4,$f.current=null,bI(i,l),nv(l,i),iI(Qh),Wi=!!Gh,Qh=Gh=null,i.current=l,DI(l),bh(),at=C,rt=w,er.transition=y}else i.current=l;if($c&&($c=!1,ts=i,zc=p),y=i.pendingLanes,y===0&&(es=null),Hu(l.stateNode),xn(i,pt()),s!==null)for(d=i.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(jc)throw jc=!1,i=Wf,Wf=null,i;return(zc&1)!==0&&i.tag!==0&&da(),y=i.pendingLanes,(y&1)!==0?i===Hf?kl++:(kl=0,Hf=i):kl=0,Zi(),null}function da(){if(ts!==null){var i=zi(zc),s=er.transition,l=rt;try{if(er.transition=null,rt=16>i?16:i,ts===null)var d=!1;else{if(i=ts,ts=null,zc=0,(at&6)!==0)throw Error(t(331));var p=at;for(at|=4,Ae=i.current;Ae!==null;){var y=Ae,w=y.child;if((Ae.flags&16)!==0){var C=y.deletions;if(C!==null){for(var O=0;O<C.length;O++){var H=C[O];for(Ae=H;Ae!==null;){var oe=Ae;switch(oe.tag){case 0:case 11:case 15:Il(8,oe,y)}var ue=oe.child;if(ue!==null)ue.return=oe,Ae=ue;else for(;Ae!==null;){oe=Ae;var re=oe.sibling,we=oe.return;if(Yy(oe),oe===H){Ae=null;break}if(re!==null){re.return=we,Ae=re;break}Ae=we}}}var ke=y.alternate;if(ke!==null){var Pe=ke.child;if(Pe!==null){ke.child=null;do{var xt=Pe.sibling;Pe.sibling=null,Pe=xt}while(Pe!==null)}}Ae=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,Ae=w;else e:for(;Ae!==null;){if(y=Ae,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Il(9,y,y.return)}var $=y.sibling;if($!==null){$.return=y.return,Ae=$;break e}Ae=y.return}}var M=i.current;for(Ae=M;Ae!==null;){w=Ae;var z=w.child;if((w.subtreeFlags&2064)!==0&&z!==null)z.return=w,Ae=z;else e:for(w=M;Ae!==null;){if(C=Ae,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Mc(9,C)}}catch(xe){Rt(C,C.return,xe)}if(C===w){Ae=null;break e}var he=C.sibling;if(he!==null){he.return=C.return,Ae=he;break e}Ae=C.return}}if(at=p,Zi(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(js,i)}catch{}d=!0}return d}finally{rt=l,er.transition=s}}return!1}function fv(i,s,l){s=aa(l,s),s=Ny(i,s,1),i=Ji(i,s,1),s=wn(),i!==null&&(ji(i,1,s),xn(i,s))}function Rt(i,s,l){if(i.tag===3)fv(i,i,l);else for(;s!==null;){if(s.tag===3){fv(s,i,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(es===null||!es.has(d))){i=aa(l,i),i=by(s,i,1),s=Ji(s,i,1),i=wn(),s!==null&&(ji(s,1,i),xn(s,i));break}}s=s.return}}function UI(i,s,l){var d=i.pingCache;d!==null&&d.delete(s),s=wn(),i.pingedLanes|=i.suspendedLanes&l,Kt===i&&(en&l)===l&&($t===4||$t===3&&(en&130023424)===en&&500>pt()-Bf?no(i,0):zf|=l),xn(i,s)}function pv(i,s){s===0&&((i.mode&1)===0?s=1:(s=Oo,Oo<<=1,(Oo&130023424)===0&&(Oo=4194304)));var l=wn();i=hi(i,s),i!==null&&(ji(i,s,l),xn(i,l))}function jI(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),pv(i,l)}function $I(i,s){var l=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),pv(i,l)}var mv;mv=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||kn.current)Rn=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return Rn=!1,RI(i,s,l);Rn=(i.flags&131072)!==0}else Rn=!1,Et&&(s.flags&1048576)!==0&&Gg(s,wc,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Vc(i,s),i=s.pendingProps;var p=Xo(s,sn.current);sa(s,l),p=wf(null,s,d,i,p,l);var y=Ef();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Cn(d)?(y=!0,yc(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,ff(s),p.updater=Dc,s.stateNode=p,p._reactInternals=s,Cf(s,d,i,l),s=Nf(null,s,d,!0,y,l)):(s.tag=0,Et&&y&&nf(s),_n(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Vc(i,s),i=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=BI(d),i=pr(d,i),p){case 0:s=xf(null,s,d,i,l);break e;case 1:s=$y(null,s,d,i,l);break e;case 11:s=Ly(null,s,d,i,l);break e;case 14:s=My(null,s,d,pr(d.type,i),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:pr(d,p),xf(i,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:pr(d,p),$y(i,s,d,p,l);case 3:e:{if(zy(s),i===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,p=y.element,ry(i,s),kc(s,d,null,l);var w=s.memoizedState;if(d=w.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=aa(Error(t(423)),s),s=By(i,s,d,l,p);break e}else if(d!==p){p=aa(Error(t(424)),s),s=By(i,s,d,l,p);break e}else for(Un=Ki(s.stateNode.containerInfo.firstChild),Fn=s,Et=!0,fr=null,l=ty(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(na(),d===p){s=pi(i,s,l);break e}_n(i,s,d,l)}s=s.child}return s;case 5:return oy(s),i===null&&of(s),d=s.type,p=s.pendingProps,y=i!==null?i.memoizedProps:null,w=p.children,Zh(d,p)?w=null:y!==null&&Zh(d,y)&&(s.flags|=32),jy(i,s),_n(i,s,w,l),s.child;case 6:return i===null&&of(s),null;case 13:return Wy(i,s,l);case 4:return pf(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=ra(s,null,d,l):_n(i,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:pr(d,p),Ly(i,s,d,p,l);case 7:return _n(i,s,s.pendingProps,l),s.child;case 8:return _n(i,s,s.pendingProps.children,l),s.child;case 12:return _n(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,w=p.value,mt(Ic,d._currentValue),d._currentValue=w,y!==null)if(hr(y.value,w)){if(y.children===p.children&&!kn.current){s=pi(i,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var C=y.dependencies;if(C!==null){w=y.child;for(var O=C.firstContext;O!==null;){if(O.context===d){if(y.tag===1){O=fi(-1,l&-l),O.tag=2;var H=y.updateQueue;if(H!==null){H=H.shared;var oe=H.pending;oe===null?O.next=O:(O.next=oe.next,oe.next=O),H.pending=O}}y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),df(y.return,l,s),C.lanes|=l;break}O=O.next}}else if(y.tag===10)w=y.type===s.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=l,C=w.alternate,C!==null&&(C.lanes|=l),df(w,l,s),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===s){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}_n(i,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,sa(s,l),p=Jn(p),d=d(p),s.flags|=1,_n(i,s,d,l),s.child;case 14:return d=s.type,p=pr(d,s.pendingProps),p=pr(d.type,p),My(i,s,d,p,l);case 15:return Fy(i,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:pr(d,p),Vc(i,s),s.tag=1,Cn(d)?(i=!0,yc(s)):i=!1,sa(s,l),Py(s,d,p),Cf(s,d,p,l),Nf(null,s,d,!0,i,l);case 19:return qy(i,s,l);case 22:return Uy(i,s,l)}throw Error(t(156,s.tag))};function gv(i,s){return bo(i,s)}function zI(i,s,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(i,s,l,d){return new zI(i,s,l,d)}function Yf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function BI(i){if(typeof i=="function")return Yf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V)return 11;if(i===ae)return 14}return 2}function is(i,s){var l=i.alternate;return l===null?(l=tr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function qc(i,s,l,d,p,y){var w=2;if(d=i,typeof i=="function")Yf(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case N:return io(l.children,p,y,s);case A:w=8,p|=8;break;case k:return i=tr(12,l,s,p|2),i.elementType=k,i.lanes=y,i;case S:return i=tr(13,l,s,p),i.elementType=S,i.lanes=y,i;case fe:return i=tr(19,l,s,p),i.elementType=fe,i.lanes=y,i;case de:return Kc(l,p,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:w=10;break e;case P:w=9;break e;case V:w=11;break e;case ae:w=14;break e;case ie:w=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=tr(w,l,s,p),s.elementType=i,s.type=d,s.lanes=y,s}function io(i,s,l,d){return i=tr(7,i,d,s),i.lanes=l,i}function Kc(i,s,l,d){return i=tr(22,i,d,s),i.elementType=de,i.lanes=l,i.stateNode={isHidden:!1},i}function Jf(i,s,l){return i=tr(6,i,null,s),i.lanes=l,i}function Xf(i,s,l){return s=tr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function WI(i,s,l,d,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function ep(i,s,l,d,p,y,w,C,O){return i=new WI(i,s,l,C,O),s===1?(s=1,y===!0&&(s|=8)):s=0,y=tr(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ff(y),i}function HI(i,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:d==null?null:""+d,children:i,containerInfo:s,implementation:l}}function yv(i){if(!i)return Qi;i=i._reactInternals;e:{if(sr(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Cn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Cn(l))return Hg(i,l,s)}return s}function vv(i,s,l,d,p,y,w,C,O){return i=ep(l,d,!0,i,p,y,w,C,O),i.context=yv(null),l=i.current,d=wn(),p=ns(l),y=fi(d,p),y.callback=s??null,Ji(l,y,p),i.current.lanes=p,ji(i,p,d),xn(i,d),i}function Gc(i,s,l,d){var p=s.current,y=wn(),w=ns(p);return l=yv(l),s.context===null?s.context=l:s.pendingContext=l,s=fi(y,w),s.payload={element:i},d=d===void 0?null:d,d!==null&&(s.callback=d),i=Ji(p,s,w),i!==null&&(yr(i,p,w,y),Ac(i,p,w)),w}function Qc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function _v(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function tp(i,s){_v(i,s),(i=i.alternate)&&_v(i,s)}function qI(){return null}var wv=typeof reportError=="function"?reportError:function(i){console.error(i)};function np(i){this._internalRoot=i}Zc.prototype.render=np.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Gc(i,s,null,null)},Zc.prototype.unmount=np.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;to(function(){Gc(null,i,null,null)}),s[li]=null}};function Zc(i){this._internalRoot=i}Zc.prototype.unstable_scheduleHydration=function(i){if(i){var s=Zu();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Dr.length&&s!==0&&s<Dr[l].priority;l++);Dr.splice(l,0,i),l===0&&Xu(i)}};function rp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Yc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Ev(){}function KI(i,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var H=Qc(w);y.call(H)}}var w=vv(s,d,i,0,null,!1,!1,"",Ev);return i._reactRootContainer=w,i[li]=w.current,cl(i.nodeType===8?i.parentNode:i),to(),w}for(;p=i.lastChild;)i.removeChild(p);if(typeof d=="function"){var C=d;d=function(){var H=Qc(O);C.call(H)}}var O=ep(i,0,!1,null,null,!1,!1,"",Ev);return i._reactRootContainer=O,i[li]=O.current,cl(i.nodeType===8?i.parentNode:i),to(function(){Gc(s,O,l,d)}),O}function Jc(i,s,l,d,p){var y=l._reactRootContainer;if(y){var w=y;if(typeof p=="function"){var C=p;p=function(){var O=Qc(w);C.call(O)}}Gc(s,w,i,p)}else w=KI(l,s,i,p,d);return Qc(w)}Gu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=Fi(s.pendingLanes);l!==0&&($i(s,l|1),xn(s,pt()),(at&6)===0&&(ca=pt()+500,Zi()))}break;case 13:to(function(){var d=hi(i,1);if(d!==null){var p=wn();yr(d,i,1,p)}}),tp(i,1)}},Vo=function(i){if(i.tag===13){var s=hi(i,134217728);if(s!==null){var l=wn();yr(s,i,134217728,l)}tp(i,134217728)}},Qu=function(i){if(i.tag===13){var s=ns(i),l=hi(i,s);if(l!==null){var d=wn();yr(l,i,s,d)}tp(i,s)}},Zu=function(){return rt},Yu=function(i,s){var l=rt;try{return rt=i,s()}finally{rt=l}},ko=function(i,s,l){switch(s){case"input":if(Oi(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==i&&d.form===i.form){var p=mc(d);if(!p)throw Error(t(90));mn(d),Oi(d,p)}}}break;case"textarea":Z(i,l);break;case"select":s=l.value,s!=null&&Hn(i,!!l.multiple,s,!1)}},Vs=Gf,Ha=to;var GI={usingClientEntryPoint:!1,Events:[fl,Yo,mc,Nr,Wa,Gf]},Cl={findFiberByHostInstance:Ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QI={bundleType:Cl.bundleType,version:Cl.version,rendererPackageName:Cl.rendererPackageName,rendererConfig:Cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:me.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ga(i),i===null?null:i.stateNode},findFiberByHostInstance:Cl.findFiberByHostInstance||qI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{js=Xc.inject(QI),On=Xc}catch{}}return Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GI,Nn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rp(s))throw Error(t(200));return HI(i,s,null,l)},Nn.createRoot=function(i,s){if(!rp(i))throw Error(t(299));var l=!1,d="",p=wv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=ep(i,1,!1,null,null,l,!1,d,p),i[li]=s.current,cl(i.nodeType===8?i.parentNode:i),new np(s)},Nn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ga(s),i=i===null?null:i.stateNode,i},Nn.flushSync=function(i){return to(i)},Nn.hydrate=function(i,s,l){if(!Yc(s))throw Error(t(200));return Jc(null,i,s,!0,l)},Nn.hydrateRoot=function(i,s,l){if(!rp(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",w=wv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=vv(s,null,i,1,l??null,p,!1,y,w),i[li]=s.current,cl(i),d)for(i=0;i<d.length;i++)l=d[i],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Zc(s)},Nn.render=function(i,s,l){if(!Yc(s))throw Error(t(200));return Jc(null,i,s,!1,l)},Nn.unmountComponentAtNode=function(i){if(!Yc(i))throw Error(t(40));return i._reactRootContainer?(to(function(){Jc(null,null,i,!1,function(){i._reactRootContainer=null,i[li]=null})}),!0):!1},Nn.unstable_batchedUpdates=Gf,Nn.unstable_renderSubtreeIntoContainer=function(i,s,l,d){if(!Yc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Jc(i,s,l,!1,d)},Nn.version="18.3.1-next-f1338f8080-20240426",Nn}var Pv;function rS(){if(Pv)return op.exports;Pv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),op.exports=nS(),op.exports}var xv;function iS(){if(xv)return ed;xv=1;var n=rS();return ed.createRoot=n.createRoot,ed.hydrateRoot=n.hydrateRoot,ed}var sS=iS();const oS=rh(sS);var Pl={},Nv;function aS(){if(Nv)return Pl;Nv=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.parse=u,Pl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,b){const D=new a,U=T.length;if(U<2)return D;const F=(b==null?void 0:b.decode)||_;let G=0;do{const Q=T.indexOf("=",G);if(Q===-1)break;const Y=T.indexOf(";",G),me=Y===-1?U:Y;if(Q>me){G=T.lastIndexOf(";",Q-1)+1;continue}const Se=h(T,G,Q),Te=f(T,Q,Se),N=T.slice(Se,Te);if(D[N]===void 0){let A=h(T,Q+1,me),k=f(T,me,A);const R=F(T.slice(A,k));D[N]=R}G=me+1}while(G<U);return D}function h(T,b,D){do{const U=T.charCodeAt(b);if(U!==32&&U!==9)return b}while(++b<D);return D}function f(T,b,D){for(;b>D;){const U=T.charCodeAt(--b);if(U!==32&&U!==9)return b+1}return D}function m(T,b,D){const U=(D==null?void 0:D.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const F=U(b);if(!e.test(F))throw new TypeError(`argument val is invalid: ${b}`);let G=T+"="+F;if(!D)return G;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);G+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);G+="; Domain="+D.domain}if(D.path){if(!r.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);G+="; Path="+D.path}if(D.expires){if(!E(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);G+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(G+="; HttpOnly"),D.secure&&(G+="; Secure"),D.partitioned&&(G+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return G}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function E(T){return o.call(T)==="[object Date]"}return Pl}aS();var bv="popstate";function lS(n={}){function e(r,o){let{pathname:a,search:u,hash:h}=r.location;return Pp("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Gl(o)}return cS(e,t,null,n)}function At(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uS(){return Math.random().toString(36).substring(2,10)}function Dv(n,e){return{usr:n.state,key:n.key,idx:e}}function Pp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Va(e):e,state:t,key:e&&e.key||r||uS()}}function Gl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Va(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function cS(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h="POP",f=null,m=_();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function _(){return(u.state||{idx:null}).idx}function E(){h="POP";let F=_(),G=F==null?null:F-m;m=F,f&&f({action:h,location:U.location,delta:G})}function T(F,G){h="PUSH";let Q=Pp(U.location,F,G);m=_()+1;let Y=Dv(Q,m),me=U.createHref(Q);try{u.pushState(Y,"",me)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(me)}a&&f&&f({action:h,location:U.location,delta:1})}function b(F,G){h="REPLACE";let Q=Pp(U.location,F,G);m=_();let Y=Dv(Q,m),me=U.createHref(Q);u.replaceState(Y,"",me),a&&f&&f({action:h,location:U.location,delta:0})}function D(F){return dS(F)}let U={get action(){return h},get location(){return n(o,u)},listen(F){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(bv,E),f=F,()=>{o.removeEventListener(bv,E),f=null}},createHref(F){return e(o,F)},createURL:D,encodeLocation(F){let G=D(F);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:T,replace:b,go(F){return u.go(F)}};return U}function dS(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),At(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Gl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function $w(n,e,t="/"){return hS(n,e,t,!1)}function hS(n,e,t,r){let o=typeof e=="string"?Va(e):e,a=Si(o.pathname||"/",t);if(a==null)return null;let u=zw(n);fS(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=SS(a);h=TS(u[f],m,r)}return h}function zw(n,e=[],t=[],r=""){let o=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(At(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Ti([r,f.relativePath]),_=t.concat(f);a.children&&a.children.length>0&&(At(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),zw(a.children,e,_,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:wS(m,a.index),routesMeta:_})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let f of Bw(a.path))o(a,u,f)}),e}function Bw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=Bw(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function fS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ES(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var pS=/^:[\w-]+$/,mS=3,gS=2,yS=1,vS=10,_S=-2,Ov=n=>n==="*";function wS(n,e){let t=n.split("/"),r=t.length;return t.some(Ov)&&(r+=_S),e&&(r+=gS),t.filter(o=>!Ov(o)).reduce((o,a)=>o+(pS.test(a)?mS:a===""?yS:vS),r)}function ES(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function TS(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=Ad({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},_),T=f.route;if(!E&&m&&t&&!r[r.length-1].route.index&&(E=Ad({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),u.push({params:o,pathname:Ti([a,E.pathname]),pathnameBase:RS(Ti([a,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(a=Ti([a,E.pathnameBase]))}return u}function Ad(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=IS(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:E},T)=>{if(_==="*"){let D=h[T]||"";u=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const b=h[T];return E&&!b?m[_]=void 0:m[_]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function IS(n,e=!1,t=!0){Gr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function SS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Si(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function AS(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?Va(n):n;return{pathname:t?t.startsWith("/")?t:kS(t,e):e,search:PS(r),hash:xS(o)}}function kS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function up(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ww(n){let e=CS(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Hw(n,e,t,r=!1){let o;typeof n=="string"?o=Va(n):(o={...n},At(!o.pathname||!o.pathname.includes("?"),up("?","pathname","search",o)),At(!o.pathname||!o.pathname.includes("#"),up("#","pathname","hash",o)),At(!o.search||!o.search.includes("#"),up("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=t;else{let E=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}h=E>=0?e[E]:"/"}let f=AS(o,h),m=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||_)&&(f.pathname+="/"),f}var Ti=n=>n.join("/").replace(/\/\/+/g,"/"),RS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),PS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function NS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var qw=["POST","PUT","PATCH","DELETE"];new Set(qw);var bS=["GET",...qw];new Set(bS);var La=J.createContext(null);La.displayName="DataRouter";var ih=J.createContext(null);ih.displayName="DataRouterState";var Kw=J.createContext({isTransitioning:!1});Kw.displayName="ViewTransition";var DS=J.createContext(new Map);DS.displayName="Fetchers";var OS=J.createContext(null);OS.displayName="Await";var Jr=J.createContext(null);Jr.displayName="Navigation";var Eu=J.createContext(null);Eu.displayName="Location";var xi=J.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var dm=J.createContext(null);dm.displayName="RouteError";function VS(n,{relative:e}={}){At(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=J.useContext(Jr),{hash:o,pathname:a,search:u}=Iu(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Ti([t,a])),r.createHref({pathname:h,search:u,hash:o})}function Tu(){return J.useContext(Eu)!=null}function Eo(){return At(Tu(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(Eu).location}var Gw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qw(n){J.useContext(Jr).static||J.useLayoutEffect(n)}function Zw(){let{isDataRoute:n}=J.useContext(xi);return n?GS():LS()}function LS(){At(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let n=J.useContext(La),{basename:e,navigator:t}=J.useContext(Jr),{matches:r}=J.useContext(xi),{pathname:o}=Eo(),a=JSON.stringify(Ww(r)),u=J.useRef(!1);return Qw(()=>{u.current=!0}),J.useCallback((f,m={})=>{if(Gr(u.current,Gw),!u.current)return;if(typeof f=="number"){t.go(f);return}let _=Hw(f,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ti([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,a,o,n])}J.createContext(null);function Iu(n,{relative:e}={}){let{matches:t}=J.useContext(xi),{pathname:r}=Eo(),o=JSON.stringify(Ww(t));return J.useMemo(()=>Hw(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function MS(n,e){return Yw(n,e)}function Yw(n,e,t,r){var Q;At(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=J.useContext(Jr),{matches:u}=J.useContext(xi),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",_=h?h.pathnameBase:"/",E=h&&h.route;{let Y=E&&E.path||"";Jw(m,!E||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let T=Eo(),b;if(e){let Y=typeof e=="string"?Va(e):e;At(_==="/"||((Q=Y.pathname)==null?void 0:Q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),b=Y}else b=T;let D=b.pathname||"/",U=D;if(_!=="/"){let Y=_.replace(/^\//,"").split("/");U="/"+D.replace(/^\//,"").split("/").slice(Y.length).join("/")}let F=!a&&t&&t.matches&&t.matches.length>0?t.matches:$w(n,{pathname:U});Gr(E||F!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Gr(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=zS(F&&F.map(Y=>Object.assign({},Y,{params:Object.assign({},f,Y.params),pathname:Ti([_,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?_:Ti([_,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,t,r);return e&&G?J.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},G):G}function FS(){let n=KS(),e=NS(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=J.createElement(J.Fragment,null,J.createElement("p",null,"💿 Hey developer 👋"),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:a},"ErrorBoundary")," or"," ",J.createElement("code",{style:a},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),t?J.createElement("pre",{style:o},t):null,u)}var US=J.createElement(FS,null),jS=class extends J.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?J.createElement(xi.Provider,{value:this.props.routeContext},J.createElement(dm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $S({routeContext:n,match:e,children:t}){let r=J.useContext(La);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),J.createElement(xi.Provider,{value:n},t)}function zS(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let f=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);At(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:_,errors:E}=t,T=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||T){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,m,_)=>{let E,T=!1,b=null,D=null;t&&(E=a&&m.route.id?a[m.route.id]:void 0,b=m.route.errorElement||US,u&&(h<0&&_===0?(Jw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,D=null):h===_&&(T=!0,D=m.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,_+1)),F=()=>{let G;return E?G=b:T?G=D:m.route.Component?G=J.createElement(m.route.Component,null):m.route.element?G=m.route.element:G=f,J.createElement($S,{match:m,routeContext:{outlet:f,matches:U,isDataRoute:t!=null},children:G})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?J.createElement(jS,{location:t.location,revalidation:t.revalidation,component:b,error:E,children:F(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):F()},null)}function hm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BS(n){let e=J.useContext(La);return At(e,hm(n)),e}function WS(n){let e=J.useContext(ih);return At(e,hm(n)),e}function HS(n){let e=J.useContext(xi);return At(e,hm(n)),e}function fm(n){let e=HS(n),t=e.matches[e.matches.length-1];return At(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function qS(){return fm("useRouteId")}function KS(){var r;let n=J.useContext(dm),e=WS("useRouteError"),t=fm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function GS(){let{router:n}=BS("useNavigate"),e=fm("useNavigate"),t=J.useRef(!1);return Qw(()=>{t.current=!0}),J.useCallback(async(o,a={})=>{Gr(t.current,Gw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Vv={};function Jw(n,e,t){!e&&!Vv[n]&&(Vv[n]=!0,Gr(!1,t))}J.memo(QS);function QS({routes:n,future:e,state:t}){return Yw(n,void 0,t,e)}function xp(n){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZS({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){At(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=J.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=Va(t));let{pathname:f="/",search:m="",hash:_="",state:E=null,key:T="default"}=t,b=J.useMemo(()=>{let D=Si(f,u);return D==null?null:{location:{pathname:D,search:m,hash:_,state:E,key:T},navigationType:r}},[u,f,m,_,E,T,r]);return Gr(b!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:J.createElement(Jr.Provider,{value:h},J.createElement(Eu.Provider,{children:e,value:b}))}function YS({children:n,location:e}){return MS(Np(n),e)}function Np(n,e=[]){let t=[];return J.Children.forEach(n,(r,o)=>{if(!J.isValidElement(r))return;let a=[...e,o];if(r.type===J.Fragment){t.push.apply(t,Np(r.props.children,a));return}At(r.type===xp,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Np(r.props.children,a)),t.push(u)}),t}var dd="get",hd="application/x-www-form-urlencoded";function sh(n){return n!=null&&typeof n.tagName=="string"}function JS(n){return sh(n)&&n.tagName.toLowerCase()==="button"}function XS(n){return sh(n)&&n.tagName.toLowerCase()==="form"}function e1(n){return sh(n)&&n.tagName.toLowerCase()==="input"}function t1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function n1(n,e){return n.button===0&&(!e||e==="_self")&&!t1(n)}var td=null;function r1(){if(td===null)try{new FormData(document.createElement("form"),0),td=!1}catch{td=!0}return td}var i1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(n){return n!=null&&!i1.has(n)?(Gr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hd}"`),null):n}function s1(n,e){let t,r,o,a,u;if(XS(n)){let h=n.getAttribute("action");r=h?Si(h,e):null,t=n.getAttribute("method")||dd,o=cp(n.getAttribute("enctype"))||hd,a=new FormData(n)}else if(JS(n)||e1(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Si(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||dd,o=cp(n.getAttribute("formenctype"))||cp(h.getAttribute("enctype"))||hd,a=new FormData(h,n),!r1()){let{name:m,type:_,value:E}=n;if(_==="image"){let T=m?`${m}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else m&&a.append(m,E)}}else{if(sh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=dd,r=null,o=hd,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}function pm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function o1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function l1(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await o1(a,t);return u.links?u.links():[]}return[]}));return h1(r.flat(1).filter(a1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Lv(n,e,t,r,o,a){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>{var _;return t[m].pathname!==f.pathname||((_=t[m].route.path)==null?void 0:_.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):a==="data"?e.filter((f,m)=>{var E;let _=r.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function u1(n,e,{includeHydrateFallback:t}={}){return c1(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function c1(n){return[...new Set(n)]}function d1(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function h1(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(d1(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var f1=new Set([100,101,204,205]);function p1(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Si(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Xw(){let n=J.useContext(La);return pm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function m1(){let n=J.useContext(ih);return pm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var mm=J.createContext(void 0);mm.displayName="FrameworkContext";function e0(){let n=J.useContext(mm);return pm(n,"You must render this element inside a <HydratedRouter> element"),n}function g1(n,e){let t=J.useContext(mm),[r,o]=J.useState(!1),[a,u]=J.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:_,onTouchStart:E}=e,T=J.useRef(null);J.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let U=G=>{G.forEach(Q=>{u(Q.isIntersecting)})},F=new IntersectionObserver(U,{threshold:.5});return T.current&&F.observe(T.current),()=>{F.disconnect()}}},[n]),J.useEffect(()=>{if(r){let U=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(U)}}},[r]);let b=()=>{o(!0)},D=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:xl(h,b),onBlur:xl(f,D),onMouseEnter:xl(m,b),onMouseLeave:xl(_,D),onTouchStart:xl(E,b)}]:[!1,T,{}]}function xl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function y1({page:n,...e}){let{router:t}=Xw(),r=J.useMemo(()=>$w(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?J.createElement(_1,{page:n,matches:r,...e}):null}function v1(n){let{manifest:e,routeModules:t}=e0(),[r,o]=J.useState([]);return J.useEffect(()=>{let a=!1;return l1(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function _1({page:n,matches:e,...t}){let r=Eo(),{manifest:o,routeModules:a}=e0(),{basename:u}=Xw(),{loaderData:h,matches:f}=m1(),m=J.useMemo(()=>Lv(n,e,f,o,r,"data"),[n,e,f,o,r]),_=J.useMemo(()=>Lv(n,e,f,o,r,"assets"),[n,e,f,o,r]),E=J.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let D=new Set,U=!1;if(e.forEach(G=>{var Y;let Q=o.routes[G.route.id];!Q||!Q.hasLoader||(!m.some(me=>me.route.id===G.route.id)&&G.route.id in h&&((Y=a[G.route.id])!=null&&Y.shouldRevalidate)||Q.hasClientLoader?U=!0:D.add(G.route.id))}),D.size===0)return[];let F=p1(n,u);return U&&D.size>0&&F.searchParams.set("_routes",e.filter(G=>D.has(G.route.id)).map(G=>G.route.id).join(",")),[F.pathname+F.search]},[u,h,r,o,m,e,n,a]),T=J.useMemo(()=>u1(_,o),[_,o]),b=v1(_);return J.createElement(J.Fragment,null,E.map(D=>J.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),T.map(D=>J.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),b.map(({key:D,link:U})=>J.createElement("link",{key:D,...U})))}function w1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var t0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t0&&(window.__reactRouterVersion="7.6.0")}catch{}function E1({basename:n,children:e,window:t}){let r=J.useRef();r.current==null&&(r.current=lS({window:t,v5Compat:!0}));let o=r.current,[a,u]=J.useState({action:o.action,location:o.location}),h=J.useCallback(f=>{J.startTransition(()=>u(f))},[u]);return J.useLayoutEffect(()=>o.listen(h),[o,h]),J.createElement(ZS,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var n0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oh=J.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:m,preventScrollReset:_,viewTransition:E,...T},b){let{basename:D}=J.useContext(Jr),U=typeof m=="string"&&n0.test(m),F,G=!1;if(typeof m=="string"&&U&&(F=m,t0))try{let k=new URL(window.location.href),R=m.startsWith("//")?new URL(k.protocol+m):new URL(m),P=Si(R.pathname,D);R.origin===k.origin&&P!=null?m=P+R.search+R.hash:G=!0}catch{Gr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=VS(m,{relative:o}),[Y,me,Se]=g1(r,T),Te=A1(m,{replace:u,state:h,target:f,preventScrollReset:_,relative:o,viewTransition:E});function N(k){e&&e(k),k.defaultPrevented||Te(k)}let A=J.createElement("a",{...T,...Se,href:F||Q,onClick:G||a?e:N,ref:w1(b,me),target:f,"data-discover":!U&&t==="render"?"true":void 0});return Y&&!U?J.createElement(J.Fragment,null,A,J.createElement(y1,{page:Q})):A});oh.displayName="Link";var T1=J.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...m},_){let E=Iu(u,{relative:m.relative}),T=Eo(),b=J.useContext(ih),{navigator:D,basename:U}=J.useContext(Jr),F=b!=null&&x1(E)&&h===!0,G=D.encodeLocation?D.encodeLocation(E).pathname:E.pathname,Q=T.pathname,Y=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),Y=Y?Y.toLowerCase():null,G=G.toLowerCase()),Y&&U&&(Y=Si(Y,U)||Y);const me=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let Se=Q===G||!o&&Q.startsWith(G)&&Q.charAt(me)==="/",Te=Y!=null&&(Y===G||!o&&Y.startsWith(G)&&Y.charAt(G.length)==="/"),N={isActive:Se,isPending:Te,isTransitioning:F},A=Se?e:void 0,k;typeof r=="function"?k=r(N):k=[r,Se?"active":null,Te?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(N):a;return J.createElement(oh,{...m,"aria-current":A,className:k,ref:_,style:R,to:u,viewTransition:h},typeof f=="function"?f(N):f)});T1.displayName="NavLink";var I1=J.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=dd,action:h,onSubmit:f,relative:m,preventScrollReset:_,viewTransition:E,...T},b)=>{let D=R1(),U=P1(h,{relative:m}),F=u.toLowerCase()==="get"?"get":"post",G=typeof h=="string"&&n0.test(h),Q=Y=>{if(f&&f(Y),Y.defaultPrevented)return;Y.preventDefault();let me=Y.nativeEvent.submitter,Se=(me==null?void 0:me.getAttribute("formmethod"))||u;D(me||Y.currentTarget,{fetcherKey:e,method:Se,navigate:t,replace:o,state:a,relative:m,preventScrollReset:_,viewTransition:E})};return J.createElement("form",{ref:b,method:F,action:U,onSubmit:r?f:Q,...T,"data-discover":!G&&n==="render"?"true":void 0})});I1.displayName="Form";function S1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r0(n){let e=J.useContext(La);return At(e,S1(n)),e}function A1(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=Zw(),f=Eo(),m=Iu(n,{relative:a});return J.useCallback(_=>{if(n1(_,e)){_.preventDefault();let E=t!==void 0?t:Gl(f)===Gl(m);h(n,{replace:E,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,m,t,r,e,n,o,a,u])}var k1=0,C1=()=>`__${String(++k1)}__`;function R1(){let{router:n}=r0("useSubmit"),{basename:e}=J.useContext(Jr),t=qS();return J.useCallback(async(r,o={})=>{let{action:a,method:u,encType:h,formData:f,body:m}=s1(r,e);if(o.navigate===!1){let _=o.fetcherKey||C1();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function P1(n,{relative:e}={}){let{basename:t}=J.useContext(Jr),r=J.useContext(xi);At(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Iu(n||".",{relative:e})},u=Eo();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(_=>_==="")){h.delete("index"),f.filter(E=>E).forEach(E=>h.append("index",E));let _=h.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Ti([t,a.pathname])),Gl(a)}function x1(n,e={}){let t=J.useContext(Kw);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=r0("useViewTransitionState"),o=Iu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Si(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Si(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ad(o.pathname,u)!=null||Ad(o.pathname,a)!=null}[...f1];const N1=()=>{};var Mv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},b1=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},s0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,h=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,_=a>>2,E=(a&3)<<4|h>>4;let T=(h&15)<<2|m>>6,b=m&63;f||(b=64,u||(T=64)),r.push(t[_],t[E],t[T],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(i0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):b1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||E==null)throw new D1;const T=a<<2|h>>4;if(r.push(T),m!==64){const b=h<<4&240|m>>2;if(r.push(b),E!==64){const D=m<<6&192|E;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class D1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O1=function(n){const e=i0(n);return s0.encodeByteArray(e,!0)},kd=function(n){return O1(n).replace(/\./g,"")},o0=function(n){try{return s0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=()=>V1().__FIREBASE_DEFAULTS__,M1=()=>{if(typeof process>"u"||typeof Mv>"u")return;const n=Mv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},F1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&o0(n[1]);return e&&JSON.parse(e)},ah=()=>{try{return N1()||L1()||M1()||F1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},a0=n=>{var e,t;return(t=(e=ah())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},U1=n=>{const e=a0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},l0=()=>{var n;return(n=ah())===null||n===void 0?void 0:n.config},u0=n=>{var e;return(e=ah())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(n){return n.endsWith(".cloudworkstations.dev")}async function c0(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[kd(JSON.stringify(t)),kd(JSON.stringify(u)),""].join(".")}const jl={};function z1(){const n={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?n.emulator.push(e):n.prod.push(e);return n}function B1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Fv=!1;function lh(n,e){if(typeof window>"u"||typeof document>"u"||!Su(window.location.host)||jl[n]===e||jl[n]||Fv)return;jl[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=z1().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="absolute",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,b){T.setAttribute("width","24"),T.setAttribute("id",b),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Fv=!0,u()},T}function _(T,b){T.setAttribute("id",b),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=B1(r),b=t("text"),D=document.getElementById(b)||document.createElement("span"),U=t("learnmore"),F=document.getElementById(U)||document.createElement("a"),G=t("preprendIcon"),Q=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Y=T.element;h(Y),_(F,U);const me=m();f(Q,G),Y.append(Q,D,F,me),document.body.appendChild(Y)}a?(D.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function H1(){var n;const e=(n=ah())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function K1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function G1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q1(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Z1(){return!H1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y1(){try{return typeof indexedDB=="object"}catch{return!1}}function J1(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="FirebaseError";class Ni extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=X1,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?eA(a,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Ni(o,h,r)}}function eA(n,e){return n.replace(tA,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const tA=/\{\$([^}]+)}/g;function nA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function co(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(Uv(a)&&Uv(u)){if(!co(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Uv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Ol(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function rA(n,e){const t=new iA(n,e);return t.subscribe.bind(t)}class iA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");sA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=dp),o.error===void 0&&(o.error=dp),o.complete===void 0&&(o.complete=dp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function dp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(n){return n&&n._delegate?n._delegate:n}class ho{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new j1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lA(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aA(n){return n===so?void 0:n}function lA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(tt||(tt={}));const cA={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},dA=tt.INFO,hA={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},fA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=hA[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gm{constructor(e){this.name=e,this._logLevel=dA,this._logHandler=fA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const pA=(n,e)=>e.some(t=>n instanceof t);let jv,$v;function mA(){return jv||(jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gA(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d0=new WeakMap,bp=new WeakMap,h0=new WeakMap,hp=new WeakMap,ym=new WeakMap;function yA(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(hs(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&d0.set(t,n)}).catch(()=>{}),ym.set(e,n),e}function vA(n){if(bp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});bp.set(n,e)}let Dp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return bp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||h0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return hs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _A(n){Dp=n(Dp)}function wA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(fp(this),e,...t);return h0.set(r,e.sort?e.sort():[e]),hs(r)}:gA().includes(n)?function(...e){return n.apply(fp(this),e),hs(d0.get(this))}:function(...e){return hs(n.apply(fp(this),e))}}function EA(n){return typeof n=="function"?wA(n):(n instanceof IDBTransaction&&vA(n),pA(n,mA())?new Proxy(n,Dp):n)}function hs(n){if(n instanceof IDBRequest)return yA(n);if(hp.has(n))return hp.get(n);const e=EA(n);return e!==n&&(hp.set(n,e),ym.set(e,n)),e}const fp=n=>ym.get(n);function TA(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),h=hs(u);return r&&u.addEventListener("upgradeneeded",f=>{r(hs(u.result),f.oldVersion,f.newVersion,hs(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const IA=["get","getKey","getAll","getAllKeys","count"],SA=["put","add","delete","clear"],pp=new Map;function zv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pp.get(e))return pp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=SA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||IA.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&f.done]))[0]};return pp.set(e,a),a}_A(n=>({...n,get:(e,t,r)=>zv(e,t)||n.get(e,t,r),has:(e,t)=>!!zv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function kA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Op="@firebase/app",Bv="0.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new gm("@firebase/app"),CA="@firebase/app-compat",RA="@firebase/analytics-compat",PA="@firebase/analytics",xA="@firebase/app-check-compat",NA="@firebase/app-check",bA="@firebase/auth",DA="@firebase/auth-compat",OA="@firebase/database",VA="@firebase/data-connect",LA="@firebase/database-compat",MA="@firebase/functions",FA="@firebase/functions-compat",UA="@firebase/installations",jA="@firebase/installations-compat",$A="@firebase/messaging",zA="@firebase/messaging-compat",BA="@firebase/performance",WA="@firebase/performance-compat",HA="@firebase/remote-config",qA="@firebase/remote-config-compat",KA="@firebase/storage",GA="@firebase/storage-compat",QA="@firebase/firestore",ZA="@firebase/vertexai",YA="@firebase/firestore-compat",JA="firebase",XA="11.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="[DEFAULT]",ek={[Op]:"fire-core",[CA]:"fire-core-compat",[PA]:"fire-analytics",[RA]:"fire-analytics-compat",[NA]:"fire-app-check",[xA]:"fire-app-check-compat",[bA]:"fire-auth",[DA]:"fire-auth-compat",[OA]:"fire-rtdb",[VA]:"fire-data-connect",[LA]:"fire-rtdb-compat",[MA]:"fire-fn",[FA]:"fire-fn-compat",[UA]:"fire-iid",[jA]:"fire-iid-compat",[$A]:"fire-fcm",[zA]:"fire-fcm-compat",[BA]:"fire-perf",[WA]:"fire-perf-compat",[HA]:"fire-rc",[qA]:"fire-rc-compat",[KA]:"fire-gcs",[GA]:"fire-gcs-compat",[QA]:"fire-fst",[YA]:"fire-fst-compat",[ZA]:"fire-vertex","fire-js":"fire-js",[JA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new Map,tk=new Map,Lp=new Map;function Wv(n,e){try{n.container.addComponent(e)}catch(t){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Sa(n){const e=n.name;if(Lp.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,n);for(const t of Cd.values())Wv(t,n);for(const t of tk.values())Wv(t,n);return!0}function vm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $n(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new Au("app","Firebase",nk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=XA;function f0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vp,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(t||(t=l0()),!t)throw fs.create("no-options");const a=Cd.get(o);if(a){if(co(t,a.options)&&co(r,a.config))return a;throw fs.create("duplicate-app",{appName:o})}const u=new uA(o);for(const f of Lp.values())u.addComponent(f);const h=new rk(t,r,u);return Cd.set(o,h),h}function p0(n=Vp){const e=Cd.get(n);if(!e&&n===Vp&&l0())return f0();if(!e)throw fs.create("no-app",{appName:n});return e}function ps(n,e,t){var r;let o=(r=ek[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(h.join(" "));return}Sa(new ho(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="firebase-heartbeat-database",sk=1,Ql="firebase-heartbeat-store";let mp=null;function m0(){return mp||(mp=TA(ik,sk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ql)}catch(t){console.warn(t)}}}}).catch(n=>{throw fs.create("idb-open",{originalErrorMessage:n.message})})),mp}async function ok(n){try{const t=(await m0()).transaction(Ql),r=await t.objectStore(Ql).get(g0(n));return await t.done,r}catch(e){if(e instanceof Ni)Ai.warn(e.message);else{const t=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(t.message)}}}async function Hv(n,e){try{const r=(await m0()).transaction(Ql,"readwrite");await r.objectStore(Ql).put(e,g0(n)),await r.done}catch(t){if(t instanceof Ni)Ai.warn(t.message);else{const r=fs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ai.warn(r.message)}}}function g0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=1024,lk=30;class uk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=qv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>lk){const u=hk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=qv(),{heartbeatsToSend:r,unsentEntries:o}=ck(this._heartbeatsCache.heartbeats),a=kd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ai.warn(t),""}}}function qv(){return new Date().toISOString().substring(0,10)}function ck(n,e=ak){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Kv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Kv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class dk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y1()?J1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ok(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Kv(n){return kd(JSON.stringify({version:2,heartbeats:n})).length}function hk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(n){Sa(new ho("platform-logger",e=>new AA(e),"PRIVATE")),Sa(new ho("heartbeat",e=>new uk(e),"PRIVATE")),ps(Op,Bv,n),ps(Op,Bv,"esm2017"),ps("fire-js","")}fk("");function _m(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pk=y0,v0=new Au("auth","Firebase",y0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=new gm("@firebase/auth");function mk(n,...e){Rd.logLevel<=tt.WARN&&Rd.warn(`Auth (${Ma}): ${n}`,...e)}function fd(n,...e){Rd.logLevel<=tt.ERROR&&Rd.error(`Auth (${Ma}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,...e){throw Em(n,...e)}function Tr(n,...e){return Em(n,...e)}function wm(n,e,t){const r=Object.assign(Object.assign({},pk()),{[e]:t});return new Au("auth","Firebase",r).create(e,{appName:n.name})}function Ii(n){return wm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gk(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&nr(n,"argument-error"),wm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Em(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return v0.create(n,...e)}function Fe(n,e,...t){if(!n)throw Em(e,...t)}function wi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw fd(e),new Error(e)}function ki(n,e){n||wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function yk(){return Gv()==="http:"||Gv()==="https:"}function Gv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yk()||K1()||"connection"in navigator)?navigator.onLine:!0}function _k(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ki(t>e,"Short delay should be less than long delay!"),this.isMobile=W1()||G1()}get(){return vk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n,e){ki(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Tk=new Cu(3e4,6e4);function Rs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ps(n,e,t,r,o={}){return w0(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=ku(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return q1()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Su(n.emulatorConfig.host)&&(m.credentials="include"),_0.fetch()(await E0(n,n.config.apiHost,t,h),m)})}async function w0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},wk),e);try{const o=new Sk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw nd(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw nd(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw nd(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw nd(n,"user-disabled",u);const _=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw wm(n,_,m);nr(n,_)}}catch(o){if(o instanceof Ni)throw o;nr(n,"network-request-failed",{message:String(o)})}}async function Ru(n,e,t,r,o={}){const a=await Ps(n,e,t,r,o);return"mfaPendingCredential"in a&&nr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function E0(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?Tm(n.config,o):`${n.config.apiScheme}://${o}`;return Ek.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function Ik(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Sk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),Tk.get())})}}function nd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Tr(n,e,r);return o.customData._tokenResponse=t,o}function Qv(n){return n!==void 0&&n.enterprise!==void 0}class Ak{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ik(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kk(n,e){return Ps(n,"GET","/v2/recaptchaConfig",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(n,e){return Ps(n,"POST","/v1/accounts:delete",e)}async function Pd(n,e){return Ps(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Rk(n,e=!1){const t=Zt(n),r=await t.getIdToken(e),o=Im(r);Fe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:$l(gp(o.auth_time)),issuedAtTime:$l(gp(o.iat)),expirationTime:$l(gp(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function gp(n){return Number(n)*1e3}function Im(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return fd("JWT malformed, contained fewer than 3 sections"),null;try{const o=o0(t);return o?JSON.parse(o):(fd("Failed to decode base64 JWT payload"),null)}catch(o){return fd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Zv(n){const e=Im(n);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ni&&Pk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Pk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xd(n){var e;const t=n.auth,r=await n.getIdToken(),o=await Zl(n,Pd(t,{idToken:r}));Fe(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?T0(a.providerUserInfo):[],h=bk(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),_=f?m:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Fp(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function Nk(n){const e=Zt(n);await xd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bk(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function T0(n){return n.map(e=>{var{providerId:t}=e,r=_m(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(n,e){const t=await w0(n,{},async()=>{const r=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await E0(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",_0.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ok(n,e){return Ps(n,"POST","/v2/accounts:revokeToken",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const t=Zv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await Dk(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new _a;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Fe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Fe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _a,this.toJSON())}_performRefresh(){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(n,e){Fe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class wr{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=_m(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Fp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return Fe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Rk(this,e)}reload(){return Nk(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await xd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Ii(this.auth));const e=await this.getIdToken();return await Zl(this,Ck(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,h,f,m,_;const E=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,b=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,D=(u=t.photoURL)!==null&&u!==void 0?u:void 0,U=(h=t.tenantId)!==null&&h!==void 0?h:void 0,F=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,G=(m=t.createdAt)!==null&&m!==void 0?m:void 0,Q=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Y,emailVerified:me,isAnonymous:Se,providerData:Te,stsTokenManager:N}=t;Fe(Y&&N,e,"internal-error");const A=_a.fromJSON(this.name,N);Fe(typeof Y=="string",e,"internal-error"),os(E,e.name),os(T,e.name),Fe(typeof me=="boolean",e,"internal-error"),Fe(typeof Se=="boolean",e,"internal-error"),os(b,e.name),os(D,e.name),os(U,e.name),os(F,e.name),os(G,e.name),os(Q,e.name);const k=new wr({uid:Y,auth:e,email:T,emailVerified:me,displayName:E,isAnonymous:Se,photoURL:D,phoneNumber:b,tenantId:U,stsTokenManager:A,createdAt:G,lastLoginAt:Q});return Te&&Array.isArray(Te)&&(k.providerData=Te.map(R=>Object.assign({},R))),F&&(k._redirectEventId=F),k}static async _fromIdTokenResponse(e,t,r=!1){const o=new _a;o.updateFromServerResponse(t);const a=new wr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await xd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Fe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?T0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new _a;h.updateFromIdToken(r);const f=new wr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Fp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=new Map;function Ei(n){ki(n instanceof Function,"Expected a class definition");let e=Yv.get(n);return e?(ki(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Yv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}I0.type="NONE";const Jv=I0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(n,e,t){return`firebase:${n}:${e}:${t}`}class wa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=pd(this.userKey,o.apiKey,a),this.fullPersistenceKey=pd("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Pd(this.auth,{idToken:e}).catch(()=>{});return t?wr._fromGetAccountInfoResponse(this.auth,t,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new wa(Ei(Jv),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Ei(Jv);const u=pd(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const _=await m._get(u);if(_){let E;if(typeof _=="string"){const T=await Pd(e,{idToken:_}).catch(()=>{});if(!T)break;E=await wr._fromGetAccountInfoResponse(e,T,_)}else E=wr._fromJSON(e,_);m!==a&&(h=E),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new wa(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new wa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P0(e))return"Blackberry";if(x0(e))return"Webos";if(A0(e))return"Safari";if((e.includes("chrome/")||k0(e))&&!e.includes("edge/"))return"Chrome";if(R0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function S0(n=fn()){return/firefox\//i.test(n)}function A0(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k0(n=fn()){return/crios\//i.test(n)}function C0(n=fn()){return/iemobile/i.test(n)}function R0(n=fn()){return/android/i.test(n)}function P0(n=fn()){return/blackberry/i.test(n)}function x0(n=fn()){return/webos/i.test(n)}function Sm(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Vk(n=fn()){var e;return Sm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Lk(){return Q1()&&document.documentMode===10}function N0(n=fn()){return Sm(n)||R0(n)||x0(n)||P0(n)||/windows phone/i.test(n)||C0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(n,e=[]){let t;switch(n){case"Browser":t=Xv(fn());break;case"Worker":t=`${Xv(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(n,e={}){return Ps(n,"GET","/v2/passwordPolicy",Rs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=6;class jk{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Uk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e_(this),this.idTokenSubscription=new e_(this),this.beforeStateQueue=new Mk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ei(t)),this._initializationPromise=this.queue(async()=>{var r,o,a;if(!this._deleted&&(this.persistenceManager=await wa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Pd(this,{idToken:e}),r=await wr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if($n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_k()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Ii(this));const t=e?Zt(e):null;return t&&Fe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Fk(this),t=new jk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Au("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ok(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ei(e)||this._popupRedirectResolver;Fe(t,this,"argument-error"),this.redirectPersistenceManager=await wa.create(this,[Ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&mk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function xs(n){return Zt(n)}class e_{constructor(e){this.auth=e,this.observer=null,this.addObserver=rA(t=>this.observer=t)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zk(n){uh=n}function D0(n){return uh.loadJS(n)}function Bk(){return uh.recaptchaEnterpriseScript}function Wk(){return uh.gapiScript}function Hk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class qk{constructor(){this.enterprise=new Kk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Kk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Gk="recaptcha-enterprise",O0="NO_RECAPTCHA";class Qk{constructor(e){this.type=Gk,this.auth=xs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{kk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new Ak(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function o(a,u,h){const f=window.grecaptcha;Qv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(O0)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&Qv(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Bk();f.length!==0&&(f+=h),D0(f).then(()=>{o(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function t_(n,e,t,r=!1,o=!1){const a=new Qk(n);let u;if(o)u=O0;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Up(n,e,t,r,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await t_(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await t_(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(n,e){const t=vm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(co(a,e??{}))return o;nr(o,"already-initialized")}return t.initialize({options:e})}function Yk(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ei);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Jk(n,e,t){const r=xs(n);Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=V0(e),{host:u,port:h}=Xk(e),f=h===null?"":`:${h}`,m={url:`${a}//${u}${f}/`},_=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Fe(co(m,r.config.emulator)&&co(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Su(u)?(lh("Auth",!0),c0(`${a}//${u}${f}`)):eC()}function V0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Xk(n){const e=V0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:n_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:n_(u)}}}function n_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function eC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,t){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function tC(n,e){return Ps(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(n,e){return Ru(n,"POST","/v1/accounts:signInWithPassword",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(n,e){return Ru(n,"POST","/v1/accounts:signInWithEmailLink",Rs(n,e))}async function iC(n,e){return Ru(n,"POST","/v1/accounts:signInWithEmailLink",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends Am{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Yl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Yl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,t,"signInWithPassword",nC);case"emailLink":return rC(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,r,"signUpPassword",tC);case"emailLink":return iC(e,{idToken:t,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(n,e){return Ru(n,"POST","/v1/accounts:signInWithIdp",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="http://localhost";class fo extends Am{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=_m(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new fo(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ea(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ea(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ea(e,t)}buildRequest(){const e={requestUri:sC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ku(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aC(n){const e=Dl(Ol(n)).link,t=e?Dl(Ol(e)).deep_link_id:null,r=Dl(Ol(n)).deep_link_id;return(r?Dl(Ol(r)).link:null)||r||t||e||n}class km{constructor(e){var t,r,o,a,u,h;const f=Dl(Ol(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,_=(r=f.oobCode)!==null&&r!==void 0?r:null,E=oC((o=f.mode)!==null&&o!==void 0?o:null);Fe(m&&_&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=_,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=aC(e);try{return new km(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.providerId=Fa.PROVIDER_ID}static credential(e,t){return Yl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=km.parseLink(t);return Fe(r,"argument-error"),Yl._fromEmailAndCode(e,r.code,r.tenantId)}}Fa.PROVIDER_ID="password";Fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Cm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Pu{constructor(){super("facebook.com")}static credential(e){return fo._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fo._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return _i.credential(t,r)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Pu{constructor(){super("github.com")}static credential(e){return fo._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Pu{constructor(){super("twitter.com")}static credential(e,t){return fo._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return us.credential(t,r)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(n,e){return Ru(n,"POST","/v1/accounts:signUp",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await wr._fromIdTokenResponse(e,r,o),u=r_(r);return new po({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=r_(r);return new po({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function r_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends Ni{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Nd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Nd(e,t,r,o)}}function L0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Nd._fromErrorAndOperation(n,a,e,r):a})}async function uC(n,e,t=!1){const r=await Zl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return po._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(n,e,t=!1){const{auth:r}=n;if($n(r.app))return Promise.reject(Ii(r));const o="reauthenticate";try{const a=await Zl(n,L0(r,o,e,n),t);Fe(a.idToken,r,"internal-error");const u=Im(a.idToken);Fe(u,r,"internal-error");const{sub:h}=u;return Fe(n.uid===h,r,"user-mismatch"),po._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(n,e,t=!1){if($n(n.app))return Promise.reject(Ii(n));const r="signIn",o=await L0(n,r,e),a=await po._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function dC(n,e){return M0(xs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F0(n){const e=xs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hC(n,e,t){if($n(n.app))return Promise.reject(Ii(n));const r=xs(n),u=await Up(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lC).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&F0(n),f}),h=await po._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function fC(n,e,t){return $n(n.app)?Promise.reject(Ii(n)):dC(Zt(n),Fa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&F0(n),r})}function pC(n,e,t,r){return Zt(n).onIdTokenChanged(e,t,r)}function mC(n,e,t){return Zt(n).beforeAuthStateChanged(e,t)}function gC(n,e,t,r){return Zt(n).onAuthStateChanged(e,t,r)}function yC(n){return Zt(n).signOut()}const bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bd,"1"),this.storage.removeItem(bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=1e3,_C=10;class j0 extends U0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Lk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_C):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},vC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}j0.type="LOCAL";const wC=j0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends U0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$0.type="SESSION";const z0=$0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new ch(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async m=>m(t.origin,a)),f=await EC(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const m=Rm("",20);o.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function IC(n){Wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function SC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function kC(){return B0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="firebaseLocalStorageDb",CC=1,Dd="firebaseLocalStorage",H0="fbase_key";class xu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dh(n,e){return n.transaction([Dd],e?"readwrite":"readonly").objectStore(Dd)}function RC(){const n=indexedDB.deleteDatabase(W0);return new xu(n).toPromise()}function jp(){const n=indexedDB.open(W0,CC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Dd,{keyPath:H0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Dd)?e(r):(r.close(),await RC(),e(await jp()))})})}async function i_(n,e,t){const r=dh(n,!0).put({[H0]:e,value:t});return new xu(r).toPromise()}async function PC(n,e){const t=dh(n,!1).get(e),r=await new xu(t).toPromise();return r===void 0?null:r.value}function s_(n,e){const t=dh(n,!0).delete(e);return new xu(t).toPromise()}const xC=800,NC=3;class q0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>NC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(kC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await SC(),!this.activeServiceWorker)return;this.sender=new TC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await i_(e,bd,"1"),await s_(e,bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>i_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>PC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>s_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=dh(o,!1).getAll();return new xu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q0.type="LOCAL";const bC=q0;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(n,e){return e?Ei(e):(Fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends Am{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ea(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ea(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function DC(n){return M0(n.auth,new Pm(n),n.bypassAuthState)}function OC(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),cC(t,new Pm(n),n.bypassAuthState)}async function VC(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),uC(t,new Pm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DC;case"linkViaPopup":case"linkViaRedirect":return VC;case"reauthViaPopup":case"reauthViaRedirect":return OC;default:nr(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new Cu(2e3,1e4);async function MC(n,e,t){if($n(n.app))return Promise.reject(Tr(n,"operation-not-supported-in-this-environment"));const r=xs(n);gk(n,e,Cm);const o=K0(r,t);return new oo(r,"signInViaPopup",e,o).executeNotNull()}class oo extends G0{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=Rm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LC.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="pendingRedirect",md=new Map;class UC extends G0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=md.get(this.auth._key());if(!e){try{const r=await jC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}md.set(this.auth._key(),e)}return this.bypassAuthState||md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jC(n,e){const t=BC(e),r=zC(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function $C(n,e){md.set(n._key(),e)}function zC(n){return Ei(n._redirectPersistence)}function BC(n){return pd(FC,n.config.apiKey,n.name)}async function WC(n,e,t=!1){if($n(n.app))return Promise.reject(Ii(n));const r=xs(n),o=K0(r,e),u=await new UC(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=10*60*1e3;class qC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Q0(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Tr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HC&&this.cachedEventUids.clear(),this.cachedEventUids.has(o_(e))}saveEventToCache(e){this.cachedEventUids.add(o_(e)),this.lastProcessedEventTime=Date.now()}}function o_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Q0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(n,e={}){return Ps(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZC=/^https?/;async function YC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await GC(n);for(const t of e)try{if(JC(t))return}catch{}nr(n,"unauthorized-domain")}function JC(n){const e=Mp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!ZC.test(t))return!1;if(QC.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new Cu(3e4,6e4);function a_(){const n=Wr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function eR(n){return new Promise((e,t)=>{var r,o,a;function u(){a_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a_(),t(Tr(n,"network-request-failed"))},timeout:XC.get()})}if(!((o=(r=Wr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Wr().gapi)===null||a===void 0)&&a.load)u();else{const h=Hk("iframefcb");return Wr()[h]=()=>{gapi.load?u():t(Tr(n,"network-request-failed"))},D0(`${Wk()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw gd=null,e})}let gd=null;function tR(n){return gd=gd||eR(n),gd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new Cu(5e3,15e3),rR="__/auth/iframe",iR="emulator/auth/iframe",sR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aR(n){const e=n.config;Fe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Tm(e,iR):`https://${n.config.authDomain}/${rR}`,r={apiKey:e.apiKey,appName:n.name,v:Ma},o=oR.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${ku(r).slice(1)}`}async function lR(n){const e=await tR(n),t=Wr().gapi;return Fe(t,n,"internal-error"),e.open({where:document.body,url:aR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sR,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Tr(n,"network-request-failed"),h=Wr().setTimeout(()=>{a(u)},nR.get());function f(){Wr().clearTimeout(h),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cR=500,dR=600,hR="_blank",fR="http://localhost";class l_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pR(n,e,t,r=cR,o=dR){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},uR),{width:r.toString(),height:o.toString(),top:a,left:u}),m=fn().toLowerCase();t&&(h=k0(m)?hR:t),S0(m)&&(e=e||fR,f.scrollbars="yes");const _=Object.entries(f).reduce((T,[b,D])=>`${T}${b}=${D},`,"");if(Vk(m)&&h!=="_self")return mR(e||"",h),new l_(null);const E=window.open(e||"",h,_);Fe(E,n,"popup-blocked");try{E.focus()}catch{}return new l_(E)}function mR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="__/auth/handler",yR="emulator/auth/handler",vR=encodeURIComponent("fac");async function u_(n,e,t,r,o,a){Fe(n.config.authDomain,n,"auth-domain-config-required"),Fe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ma,eventId:o};if(e instanceof Cm){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",nA(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))u[_]=E}if(e instanceof Pu){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),m=f?`#${vR}=${encodeURIComponent(f)}`:"";return`${_R(n)}?${ku(h).slice(1)}${m}`}function _R({config:n}){return n.emulator?Tm(n,yR):`https://${n.authDomain}/${gR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="webStorageSupport";class wR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z0,this._completeRedirectFn=WC,this._overrideRedirectResult=$C}async _openPopup(e,t,r,o){var a;ki((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await u_(e,t,r,Mp(),o);return pR(e,u,Rm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await u_(e,t,r,Mp(),o);return IC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ki(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await lR(e),r=new qC(e);return t.register("authEvent",o=>(Fe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yp,{type:yp},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[yp];u!==void 0&&t(!!u),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return N0()||A0()||Sm()}}const ER=wR;var c_="@firebase/auth",d_="1.10.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SR(n){Sa(new ho("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Fe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b0(n)},m=new $k(r,o,a,f);return Yk(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Sa(new ho("auth-internal",e=>{const t=xs(e.getProvider("auth").getImmediate());return(r=>new TR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(c_,d_,IR(n)),ps(c_,d_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=5*60,kR=u0("authIdTokenMaxAge")||AR;let h_=null;const CR=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>kR)return;const o=t==null?void 0:t.token;h_!==o&&(h_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RR(n=p0()){const e=vm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Zk(n,{popupRedirectResolver:ER,persistence:[bC,wC,z0]}),r=u0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=CR(a.toString());mC(t,u,()=>u(t.currentUser)),pC(t,h=>u(h))}}const o=a0("auth");return o?Jk(t,`http://${o}`):lh("Auth",!1),t}function PR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}zk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Tr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",PR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SR("Browser");var xR="firebase",NR="11.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(xR,NR,"app");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,Z0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function k(){}k.prototype=A.prototype,N.D=A.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(R,P,V){for(var S=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)S[fe-2]=arguments[fe];return A.prototype[P].apply(R,S)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,k){k||(k=0);var R=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)R[P]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(P=0;16>P;++P)R[P]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=N.g[0],k=N.g[1],P=N.g[2];var V=N.g[3],S=A+(V^k&(P^V))+R[0]+3614090360&4294967295;A=k+(S<<7&4294967295|S>>>25),S=V+(P^A&(k^P))+R[1]+3905402710&4294967295,V=A+(S<<12&4294967295|S>>>20),S=P+(k^V&(A^k))+R[2]+606105819&4294967295,P=V+(S<<17&4294967295|S>>>15),S=k+(A^P&(V^A))+R[3]+3250441966&4294967295,k=P+(S<<22&4294967295|S>>>10),S=A+(V^k&(P^V))+R[4]+4118548399&4294967295,A=k+(S<<7&4294967295|S>>>25),S=V+(P^A&(k^P))+R[5]+1200080426&4294967295,V=A+(S<<12&4294967295|S>>>20),S=P+(k^V&(A^k))+R[6]+2821735955&4294967295,P=V+(S<<17&4294967295|S>>>15),S=k+(A^P&(V^A))+R[7]+4249261313&4294967295,k=P+(S<<22&4294967295|S>>>10),S=A+(V^k&(P^V))+R[8]+1770035416&4294967295,A=k+(S<<7&4294967295|S>>>25),S=V+(P^A&(k^P))+R[9]+2336552879&4294967295,V=A+(S<<12&4294967295|S>>>20),S=P+(k^V&(A^k))+R[10]+4294925233&4294967295,P=V+(S<<17&4294967295|S>>>15),S=k+(A^P&(V^A))+R[11]+2304563134&4294967295,k=P+(S<<22&4294967295|S>>>10),S=A+(V^k&(P^V))+R[12]+1804603682&4294967295,A=k+(S<<7&4294967295|S>>>25),S=V+(P^A&(k^P))+R[13]+4254626195&4294967295,V=A+(S<<12&4294967295|S>>>20),S=P+(k^V&(A^k))+R[14]+2792965006&4294967295,P=V+(S<<17&4294967295|S>>>15),S=k+(A^P&(V^A))+R[15]+1236535329&4294967295,k=P+(S<<22&4294967295|S>>>10),S=A+(P^V&(k^P))+R[1]+4129170786&4294967295,A=k+(S<<5&4294967295|S>>>27),S=V+(k^P&(A^k))+R[6]+3225465664&4294967295,V=A+(S<<9&4294967295|S>>>23),S=P+(A^k&(V^A))+R[11]+643717713&4294967295,P=V+(S<<14&4294967295|S>>>18),S=k+(V^A&(P^V))+R[0]+3921069994&4294967295,k=P+(S<<20&4294967295|S>>>12),S=A+(P^V&(k^P))+R[5]+3593408605&4294967295,A=k+(S<<5&4294967295|S>>>27),S=V+(k^P&(A^k))+R[10]+38016083&4294967295,V=A+(S<<9&4294967295|S>>>23),S=P+(A^k&(V^A))+R[15]+3634488961&4294967295,P=V+(S<<14&4294967295|S>>>18),S=k+(V^A&(P^V))+R[4]+3889429448&4294967295,k=P+(S<<20&4294967295|S>>>12),S=A+(P^V&(k^P))+R[9]+568446438&4294967295,A=k+(S<<5&4294967295|S>>>27),S=V+(k^P&(A^k))+R[14]+3275163606&4294967295,V=A+(S<<9&4294967295|S>>>23),S=P+(A^k&(V^A))+R[3]+4107603335&4294967295,P=V+(S<<14&4294967295|S>>>18),S=k+(V^A&(P^V))+R[8]+1163531501&4294967295,k=P+(S<<20&4294967295|S>>>12),S=A+(P^V&(k^P))+R[13]+2850285829&4294967295,A=k+(S<<5&4294967295|S>>>27),S=V+(k^P&(A^k))+R[2]+4243563512&4294967295,V=A+(S<<9&4294967295|S>>>23),S=P+(A^k&(V^A))+R[7]+1735328473&4294967295,P=V+(S<<14&4294967295|S>>>18),S=k+(V^A&(P^V))+R[12]+2368359562&4294967295,k=P+(S<<20&4294967295|S>>>12),S=A+(k^P^V)+R[5]+4294588738&4294967295,A=k+(S<<4&4294967295|S>>>28),S=V+(A^k^P)+R[8]+2272392833&4294967295,V=A+(S<<11&4294967295|S>>>21),S=P+(V^A^k)+R[11]+1839030562&4294967295,P=V+(S<<16&4294967295|S>>>16),S=k+(P^V^A)+R[14]+4259657740&4294967295,k=P+(S<<23&4294967295|S>>>9),S=A+(k^P^V)+R[1]+2763975236&4294967295,A=k+(S<<4&4294967295|S>>>28),S=V+(A^k^P)+R[4]+1272893353&4294967295,V=A+(S<<11&4294967295|S>>>21),S=P+(V^A^k)+R[7]+4139469664&4294967295,P=V+(S<<16&4294967295|S>>>16),S=k+(P^V^A)+R[10]+3200236656&4294967295,k=P+(S<<23&4294967295|S>>>9),S=A+(k^P^V)+R[13]+681279174&4294967295,A=k+(S<<4&4294967295|S>>>28),S=V+(A^k^P)+R[0]+3936430074&4294967295,V=A+(S<<11&4294967295|S>>>21),S=P+(V^A^k)+R[3]+3572445317&4294967295,P=V+(S<<16&4294967295|S>>>16),S=k+(P^V^A)+R[6]+76029189&4294967295,k=P+(S<<23&4294967295|S>>>9),S=A+(k^P^V)+R[9]+3654602809&4294967295,A=k+(S<<4&4294967295|S>>>28),S=V+(A^k^P)+R[12]+3873151461&4294967295,V=A+(S<<11&4294967295|S>>>21),S=P+(V^A^k)+R[15]+530742520&4294967295,P=V+(S<<16&4294967295|S>>>16),S=k+(P^V^A)+R[2]+3299628645&4294967295,k=P+(S<<23&4294967295|S>>>9),S=A+(P^(k|~V))+R[0]+4096336452&4294967295,A=k+(S<<6&4294967295|S>>>26),S=V+(k^(A|~P))+R[7]+1126891415&4294967295,V=A+(S<<10&4294967295|S>>>22),S=P+(A^(V|~k))+R[14]+2878612391&4294967295,P=V+(S<<15&4294967295|S>>>17),S=k+(V^(P|~A))+R[5]+4237533241&4294967295,k=P+(S<<21&4294967295|S>>>11),S=A+(P^(k|~V))+R[12]+1700485571&4294967295,A=k+(S<<6&4294967295|S>>>26),S=V+(k^(A|~P))+R[3]+2399980690&4294967295,V=A+(S<<10&4294967295|S>>>22),S=P+(A^(V|~k))+R[10]+4293915773&4294967295,P=V+(S<<15&4294967295|S>>>17),S=k+(V^(P|~A))+R[1]+2240044497&4294967295,k=P+(S<<21&4294967295|S>>>11),S=A+(P^(k|~V))+R[8]+1873313359&4294967295,A=k+(S<<6&4294967295|S>>>26),S=V+(k^(A|~P))+R[15]+4264355552&4294967295,V=A+(S<<10&4294967295|S>>>22),S=P+(A^(V|~k))+R[6]+2734768916&4294967295,P=V+(S<<15&4294967295|S>>>17),S=k+(V^(P|~A))+R[13]+1309151649&4294967295,k=P+(S<<21&4294967295|S>>>11),S=A+(P^(k|~V))+R[4]+4149444226&4294967295,A=k+(S<<6&4294967295|S>>>26),S=V+(k^(A|~P))+R[11]+3174756917&4294967295,V=A+(S<<10&4294967295|S>>>22),S=P+(A^(V|~k))+R[2]+718787259&4294967295,P=V+(S<<15&4294967295|S>>>17),S=k+(V^(P|~A))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(P+(S<<21&4294967295|S>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var k=A-this.blockSize,R=this.B,P=this.h,V=0;V<A;){if(P==0)for(;V<=k;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<A;)if(R[P++]=N.charCodeAt(V++),P==this.blockSize){o(this,R),P=0;break}}else for(;V<A;)if(R[P++]=N[V++],P==this.blockSize){o(this,R),P=0;break}}this.h=P,this.o+=A},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var k=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=k&255,k/=256;for(this.u(N),N=Array(16),A=k=0;4>A;++A)for(var R=0;32>R;R+=8)N[k++]=this.g[A]>>>R&255;return N};function a(N,A){var k=h;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=A(N)}function u(N,A){this.h=A;for(var k=[],R=!0,P=N.length-1;0<=P;P--){var V=N[P]|0;R&&V==A||(k[P]=V,R=!1)}this.g=k}var h={};function f(N){return-128<=N&&128>N?a(N,function(A){return new u([A|0],0>A?-1:0)}):new u([N|0],0>N?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return E;if(0>N)return F(m(-N));for(var A=[],k=1,R=0;N>=k;R++)A[R]=N/k|0,k*=4294967296;return new u(A,0)}function _(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return F(_(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(A,8)),R=E,P=0;P<N.length;P+=8){var V=Math.min(8,N.length-P),S=parseInt(N.substring(P,P+V),A);8>V?(V=m(Math.pow(A,V)),R=R.j(V).add(m(S))):(R=R.j(k),R=R.add(m(S)))}return R}var E=f(0),T=f(1),b=f(16777216);n=u.prototype,n.m=function(){if(U(this))return-F(this).m();for(var N=0,A=1,k=0;k<this.g.length;k++){var R=this.i(k);N+=(0<=R?R:4294967296+R)*A,A*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(D(this))return"0";if(U(this))return"-"+F(this).toString(N);for(var A=m(Math.pow(N,6)),k=this,R="";;){var P=me(k,A).g;k=G(k,P.j(A));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=P,D(k))return V+R;for(;6>V.length;)V="0"+V;R=V+R}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function D(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function U(N){return N.h==-1}n.l=function(N){return N=G(this,N),U(N)?-1:D(N)?0:1};function F(N){for(var A=N.g.length,k=[],R=0;R<A;R++)k[R]=~N.g[R];return new u(k,~N.h).add(T)}n.abs=function(){return U(this)?F(this):this},n.add=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],R=0,P=0;P<=A;P++){var V=R+(this.i(P)&65535)+(N.i(P)&65535),S=(V>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);R=S>>>16,V&=65535,S&=65535,k[P]=S<<16|V}return new u(k,k[k.length-1]&-2147483648?-1:0)};function G(N,A){return N.add(F(A))}n.j=function(N){if(D(this)||D(N))return E;if(U(this))return U(N)?F(this).j(F(N)):F(F(this).j(N));if(U(N))return F(this.j(F(N)));if(0>this.l(b)&&0>N.l(b))return m(this.m()*N.m());for(var A=this.g.length+N.g.length,k=[],R=0;R<2*A;R++)k[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<N.g.length;P++){var V=this.i(R)>>>16,S=this.i(R)&65535,fe=N.i(P)>>>16,ae=N.i(P)&65535;k[2*R+2*P]+=S*ae,Q(k,2*R+2*P),k[2*R+2*P+1]+=V*ae,Q(k,2*R+2*P+1),k[2*R+2*P+1]+=S*fe,Q(k,2*R+2*P+1),k[2*R+2*P+2]+=V*fe,Q(k,2*R+2*P+2)}for(R=0;R<A;R++)k[R]=k[2*R+1]<<16|k[2*R];for(R=A;R<2*A;R++)k[R]=0;return new u(k,0)};function Q(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function Y(N,A){this.g=N,this.h=A}function me(N,A){if(D(A))throw Error("division by zero");if(D(N))return new Y(E,E);if(U(N))return A=me(F(N),A),new Y(F(A.g),F(A.h));if(U(A))return A=me(N,F(A)),new Y(F(A.g),A.h);if(30<N.g.length){if(U(N)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var k=T,R=A;0>=R.l(N);)k=Se(k),R=Se(R);var P=Te(k,1),V=Te(R,1);for(R=Te(R,2),k=Te(k,2);!D(R);){var S=V.add(R);0>=S.l(N)&&(P=P.add(k),V=S),R=Te(R,1),k=Te(k,1)}return A=G(N,P.j(A)),new Y(P,A)}for(P=E;0<=N.l(A);){for(k=Math.max(1,Math.floor(N.m()/A.m())),R=Math.ceil(Math.log(k)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),V=m(k),S=V.j(A);U(S)||0<S.l(N);)k-=R,V=m(k),S=V.j(A);D(V)&&(V=T),P=P.add(V),N=G(N,S)}return new Y(P,N)}n.A=function(N){return me(this,N).h},n.and=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],R=0;R<A;R++)k[R]=this.i(R)&N.i(R);return new u(k,this.h&N.h)},n.or=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],R=0;R<A;R++)k[R]=this.i(R)|N.i(R);return new u(k,this.h|N.h)},n.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],R=0;R<A;R++)k[R]=this.i(R)^N.i(R);return new u(k,this.h^N.h)};function Se(N){for(var A=N.g.length+1,k=[],R=0;R<A;R++)k[R]=N.i(R)<<1|N.i(R-1)>>>31;return new u(k,N.h)}function Te(N,A){var k=A>>5;A%=32;for(var R=N.g.length-k,P=[],V=0;V<R;V++)P[V]=0<A?N.i(V+k)>>>A|N.i(V+k+1)<<32-A:N.i(V+k);return new u(P,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Z0=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=_,ms=u}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y0,Vl,J0,yd,$p,X0,eE,tE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rd=="object"&&rd];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var v=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var j=c[I];if(!(j in v))break e;v=v[j]}c=c[c.length-1],I=v[c],g=g(I),g!=I&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var v=0,I=!1,j={next:function(){if(!I&&v<c.length){var q=v++;return{value:g(q,c[q]),done:!1}}return I=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,v){return c.call.apply(c.bind,arguments)}function E(c,g,v){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,I),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function T(c,g,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,T.apply(null,arguments)}function b(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function D(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(I,j,q){for(var pe=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)pe[dt-2]=arguments[dt];return g.prototype[j].apply(I,pe)}}function U(c){const g=c.length;if(0<g){const v=Array(g);for(let I=0;I<g;I++)v[I]=c[I];return v}return[]}function F(c,g){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(f(I)){const j=c.length||0,q=I.length||0;c.length=j+q;for(let pe=0;pe<q;pe++)c[j+pe]=I[pe]}else c.push(I)}}class G{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Q(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var Se=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function Te(c,g,v){for(const I in c)g.call(v,c[I],I,c)}function N(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function A(c){const g={};for(const v in c)g[v]=c[v];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,g){let v,I;for(let j=1;j<arguments.length;j++){I=arguments[j];for(v in I)c[v]=I[v];for(let q=0;q<k.length;q++)v=k[q],Object.prototype.hasOwnProperty.call(I,v)&&(c[v]=I[v])}}function P(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function V(c){h.setTimeout(()=>{throw c},0)}function S(){var c=se;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class fe{constructor(){this.h=this.g=null}add(g,v){const I=ae.get();I.set(g,v),this.h?this.h.next=I:this.g=I,this.h=I}}var ae=new G(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let de,B=!1,se=new fe,X=()=>{const c=h.Promise.resolve(void 0);de=()=>{c.then(L)}};var L=()=>{for(var c;c=S();){try{c.h.call(c.g)}catch(v){V(v)}var g=ae;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}B=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,g),h.removeEventListener("test",v,g)}catch{}return c}();function Oe(c,g){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(Se){e:{try{me(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:He[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oe.aa.h.call(this)}}D(Oe,ge);var He={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Ye(c,g,v,I,j){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!I,this.ha=j,this.key=++Qe,this.da=this.fa=!1}function et(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ct(c){this.src=c,this.g={},this.h=0}Ct.prototype.add=function(c,g,v,I,j){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var pe=gn(c,g,I,j);return-1<pe?(g=c[pe],v||(g.fa=!1)):(g=new Ye(g,this.src,q,!!I,j),g.fa=v,c.push(g)),g};function mn(c,g){var v=g.type;if(v in c.g){var I=c.g[v],j=Array.prototype.indexOf.call(I,g,void 0),q;(q=0<=j)&&Array.prototype.splice.call(I,j,1),q&&(et(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function gn(c,g,v,I){for(var j=0;j<c.length;++j){var q=c[j];if(!q.da&&q.listener==g&&q.capture==!!v&&q.ha==I)return j}return-1}var Cr="closure_lm_"+(1e6*Math.random()|0),bi={};function Di(c,g,v,I,j){if(Array.isArray(g)){for(var q=0;q<g.length;q++)Di(c,g[q],v,I,j);return null}return v=ve(v),c&&c[qe]?c.K(g,v,m(I)?!!I.capture:!1,j):Oi(c,g,v,!1,I,j)}function Oi(c,g,v,I,j,q){if(!g)throw Error("Invalid event type");var pe=m(j)?!!j.capture:!!j,dt=W(c);if(dt||(c[Cr]=dt=new Ct(c)),v=dt.add(g,v,I,pe,q),v.proxy)return v;if(I=So(),v.proxy=I,I.src=c,I.listener=v,c.addEventListener)De||(j=pe),j===void 0&&(j=!1),c.addEventListener(g.toString(),I,j);else if(c.attachEvent)c.attachEvent(Hn(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function So(){function c(v){return g.call(c.src,c.listener,v)}const g=x;return c}function Vi(c,g,v,I,j){if(Array.isArray(g))for(var q=0;q<g.length;q++)Vi(c,g[q],v,I,j);else I=m(I)?!!I.capture:!!I,v=ve(v),c&&c[qe]?(c=c.i,g=String(g).toString(),g in c.g&&(q=c.g[g],v=gn(q,v,I,j),-1<v&&(et(q[v]),Array.prototype.splice.call(q,v,1),q.length==0&&(delete c.g[g],c.h--)))):c&&(c=W(c))&&(g=c.g[g.toString()],c=-1,g&&(c=gn(g,v,I,j)),(v=-1<c?g[c]:null)&&Rr(v))}function Rr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[qe])mn(g.i,c);else{var v=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(v,I,c.capture):g.detachEvent?g.detachEvent(Hn(v),I):g.addListener&&g.removeListener&&g.removeListener(I),(v=W(g))?(mn(v,c),v.h==0&&(v.src=null,g[Cr]=null)):et(c)}}}function Hn(c){return c in bi?bi[c]:bi[c]="on"+c}function x(c,g){if(c.da)c=!0;else{g=new Oe(g,this);var v=c.listener,I=c.ha||c.src;c.fa&&Rr(c),c=v.call(I,g)}return c}function W(c){return c=c[Cr],c instanceof Ct?c:null}var Z="__closure_events_fn_"+(1e9*Math.random()>>>0);function ve(c){return typeof c=="function"?c:(c[Z]||(c[Z]=function(g){return c.handleEvent(g)}),c[Z])}function le(){K.call(this),this.i=new Ct(this),this.M=this,this.F=null}D(le,K),le.prototype[qe]=!0,le.prototype.removeEventListener=function(c,g,v,I){Vi(this,c,g,v,I)};function ne(c,g){var v,I=c.F;if(I)for(v=[];I;I=I.F)v.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new ge(g,c);else if(g instanceof ge)g.target=g.target||c;else{var j=g;g=new ge(I,c),R(g,j)}if(j=!0,v)for(var q=v.length-1;0<=q;q--){var pe=g.g=v[q];j=_e(pe,I,!0,g)&&j}if(pe=g.g=c,j=_e(pe,I,!0,g)&&j,j=_e(pe,I,!1,g)&&j,v)for(q=0;q<v.length;q++)pe=g.g=v[q],j=_e(pe,I,!1,g)&&j}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],I=0;I<v.length;I++)et(v[I]);delete c.g[g],c.h--}}this.F=null},le.prototype.K=function(c,g,v,I){return this.i.add(String(c),g,!1,v,I)},le.prototype.L=function(c,g,v,I){return this.i.add(String(c),g,!0,v,I)};function _e(c,g,v,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,q=0;q<g.length;++q){var pe=g[q];if(pe&&!pe.da&&pe.capture==v){var dt=pe.listener,Ut=pe.ha||pe.src;pe.fa&&mn(c.i,pe),j=dt.call(Ut,I)!==!1&&j}}return j&&!I.defaultPrevented}function Je(c,g,v){if(typeof c=="function")v&&(c=T(c,v));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function ct(c){c.g=Je(()=>{c.g=null,c.i&&(c.i=!1,ct(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class _t extends K{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ct(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(c){K.call(this),this.h=c,this.g={}}D(Xr,K);var ei=[];function ti(c){Te(c.g,function(g,v){this.g.hasOwnProperty(v)&&Rr(g)},c),c.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),ti(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ds=h.JSON.stringify,Li=h.JSON.parse,Os=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Pr(){}Pr.prototype.h=null;function Ao(c){return c.h||(c.h=c.i())}function ko(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){ge.call(this,"d")}D(xr,ge);function Co(){ge.call(this,"c")}D(Co,ge);var Nr={},Wa=null;function Vs(){return Wa=Wa||new le}Nr.La="serverreachability";function Ha(c){ge.call(this,Nr.La,c)}D(Ha,ge);function ni(c){const g=Vs();ne(g,new Ha(g))}Nr.STAT_EVENT="statevent";function qa(c,g){ge.call(this,Nr.STAT_EVENT,c),this.stat=g}D(qa,ge);function Pt(c){const g=Vs();ne(g,new qa(g,c))}Nr.Ma="timingevent";function Ro(c,g){ge.call(this,Nr.Ma,c),this.size=g}D(Ro,ge);function rr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function Ls(){this.g=!0}Ls.prototype.xa=function(){this.g=!1};function Ms(c,g,v,I,j,q){c.info(function(){if(c.g)if(q)for(var pe="",dt=q.split("&"),Ut=0;Ut<dt.length;Ut++){var it=dt[Ut].split("=");if(1<it.length){var Ht=it[0];it=it[1];var Dt=Ht.split("_");pe=2<=Dt.length&&Dt[1]=="type"?pe+(Ht+"="+it+"&"):pe+(Ht+"=redacted&")}}else pe=null;else pe=q;return"XMLHTTP REQ ("+I+") [attempt "+j+"]: "+g+`
`+v+`
`+pe})}function Po(c,g,v,I,j,q,pe){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+j+"]: "+g+`
`+v+`
`+q+" "+pe})}function ir(c,g,v,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Nh(c,v)+(I?" "+I:"")})}function Ka(c,g){c.info(function(){return"TIMEOUT: "+g})}Ls.prototype.info=function(){};function Nh(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var I=v[c];if(!(2>I.length)){var j=I[1];if(Array.isArray(j)&&!(1>j.length)){var q=j[0];if(q!="noop"&&q!="stop"&&q!="close")for(var pe=1;pe<j.length;pe++)j[pe]=""}}}}return Ds(v)}catch{return g}}var xo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ju={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sr;function Fs(){}D(Fs,Pr),Fs.prototype.g=function(){return new XMLHttpRequest},Fs.prototype.i=function(){return{}},sr=new Fs;function or(c,g,v,I){this.j=c,this.i=g,this.l=v,this.R=I||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $u}function $u(){this.i=null,this.g="",this.h=!1}var Ga={},No={};function bo(c,g,v){c.L=1,c.v=$i(Vn(g)),c.m=v,c.P=!0,Qa(c,null)}function Qa(c,g){c.F=Date.now(),pt(c),c.A=Vn(c.v);var v=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Bi(v.i,"t",I),c.C=0,v=c.j.J,c.h=new $u,c.g=sc(c.j,v?g:null,!c.m),0<c.O&&(c.M=new _t(T(c.Y,c,c.g),c.O)),g=c.U,v=c.g,I=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(ei[0]=j.toString()),j=ei);for(var q=0;q<j.length;q++){var pe=Di(v,j[q],I||g.handleEvent,!1,g.h||g);if(!pe)break;g.g[pe.key]=pe}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),ni(),Ms(c.i,c.u,c.A,c.l,c.R,c.m)}or.prototype.ca=function(c){c=c.target;const g=this.M;g&&An(c)==3?g.j():this.Y(c)},or.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=An(this.g);var g=this.g.Ba();const Qn=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||tl(this.g)))){this.J||Dt!=4||g==7||(g==8||0>=Qn?ni(3):ni(2)),Us(this);var v=this.g.Z();this.X=v;t:if(zu(this)){var I=tl(this.g);c="";var j=I.length,q=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),Mi(this);var pe="";break t}this.h.i=new h.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(q&&g==j-1)});I.length=0,this.h.g+=c,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=v==200,Po(this.i,this.u,this.A,this.l,this.R,Dt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,Ut=this.g;if((dt=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(dt)){var it=dt;break t}}it=null}if(v=it)ir(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Za(this,v);else{this.o=!1,this.s=3,Pt(12),Kn(this),Mi(this);break e}}if(this.P){v=!0;let Mn;for(;!this.J&&this.C<pe.length;)if(Mn=bh(this,pe),Mn==No){Dt==4&&(this.s=4,Pt(14),v=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==Ga){this.s=4,Pt(15),ir(this.i,this.l,pe,"[Invalid Chunk]"),v=!1;break}else ir(this.i,this.l,Mn,null),Za(this,Mn);if(zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||pe.length!=0||this.h.h||(this.s=1,Pt(16),v=!1),this.o=this.o&&v,!v)ir(this.i,this.l,pe,"[Invalid Chunked Response]"),Kn(this),Mi(this);else if(0<pe.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),rl(Ht),Ht.M=!0,Pt(11))}}else ir(this.i,this.l,pe,null),Za(this,pe);Dt==4&&Kn(this),this.o&&!this.J&&(Dt==4?Bo(this.j,this):(this.o=!1,pt(this)))}else Fo(this.g),v==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Kn(this),Mi(this)}}}catch{}finally{}};function zu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bh(c,g){var v=c.C,I=g.indexOf(`
`,v);return I==-1?No:(v=Number(g.substring(v,I)),isNaN(v)?Ga:(I+=1,I+v>g.length?No:(g=g.slice(I,I+v),c.C=I+v,g)))}or.prototype.cancel=function(){this.J=!0,Kn(this)};function pt(c){c.S=Date.now()+c.I,Bu(c,c.I)}function Bu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=rr(T(c.ba,c),g)}function Us(c){c.B&&(h.clearTimeout(c.B),c.B=null)}or.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ka(this.i,this.A),this.L!=2&&(ni(),Pt(17)),Kn(this),this.s=2,Mi(this)):Bu(this,this.S-c)};function Mi(c){c.j.G==0||c.J||Bo(c.j,c)}function Kn(c){Us(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ti(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Za(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||yn(v.h,c))){if(!c.K&&yn(v.h,c)&&v.G==3){try{var I=v.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var j=I;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)zo(v),dr(v);else break e;$o(v),Pt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=rr(T(v.Za,v),6e3));if(1>=Hu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ai(v,11)}else if((c.K||v.g==c)&&zo(v),!Q(g))for(j=v.Da.g.parse(g),g=0;g<j.length;g++){let it=j[g];if(v.T=it[0],it=it[1],v.G==2)if(it[0]=="c"){v.K=it[1],v.ia=it[2];const Ht=it[3];Ht!=null&&(v.la=Ht,v.j.info("VER="+v.la));const Dt=it[4];Dt!=null&&(v.Aa=Dt,v.j.info("SVER="+v.Aa));const Qn=it[5];Qn!=null&&typeof Qn=="number"&&0<Qn&&(I=1.5*Qn,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const Mn=c.g;if(Mn){const qs=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var q=I.h;q.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ya(q,q.h),q.h=null))}if(I.D){const Ho=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(I.ya=Ho,ft(I.I,I.D,Ho))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var pe=c;if(I.qa=ic(I,I.J?I.ia:null,I.W),pe.K){qu(I.h,pe);var dt=pe,Ut=I.L;Ut&&(dt.I=Ut),dt.B&&(Us(dt),pt(dt)),I.g=pe}else Hs(I);0<v.i.length&&Vr(v)}else it[0]!="stop"&&it[0]!="close"||ai(v,7);else v.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?ai(v,7):Jt(v):it[0]!="noop"&&v.l&&v.l.ta(it),v.v=0)}}ni(4)}catch{}}var Wu=class{constructor(c,g){this.g=c,this.map=g}};function js(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function On(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Hu(c){return c.h?1:c.g?c.g.size:0}function yn(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ya(c,g){c.g?c.g.add(g):c.h=g}function qu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}js.prototype.cancel=function(){if(this.i=Ku(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ku(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return U(c.i)}function Do(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],v=c.length,I=0;I<v;I++)g.push(c[I]);return g}g=[],v=0;for(I in c)g[v++]=c[I];return g}function Oo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const I in c)g[v++]=I;return g}}}function Fi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=Oo(c),I=Do(c),j=I.length,q=0;q<j;q++)g.call(void 0,I[q],v&&v[q],c)}var $s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dh(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var I=c[v].indexOf("="),j=null;if(0<=I){var q=c[v].substring(0,I);j=c[v].substring(I+1)}else q=c[v];g(q,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ri(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ri){this.h=c.h,zs(this,c.j),this.o=c.o,this.g=c.g,Ui(this,c.s),this.l=c.l;var g=c.i,v=new br;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),ji(this,v),this.m=c.m}else c&&(g=String(c).match($s))?(this.h=!1,zs(this,g[1]||"",!0),this.o=rt(g[2]||""),this.g=rt(g[3]||"",!0),Ui(this,g[4]),this.l=rt(g[5]||"",!0),ji(this,g[6]||"",!0),this.m=rt(g[7]||"")):(this.h=!1,this.i=new br(null,this.h))}ri.prototype.toString=function(){var c=[],g=this.j;g&&c.push(zi(g,Vo,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(zi(g,Vo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(zi(v,v.charAt(0)=="/"?Zu:Qu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",zi(v,Ja)),c.join("")};function Vn(c){return new ri(c)}function zs(c,g,v){c.j=v?rt(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ui(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ji(c,g,v){g instanceof br?(c.i=g,Dr(c.i,c.h)):(v||(g=zi(g,Yu)),c.i=new br(g,c.h))}function ft(c,g,v){c.i.set(g,v)}function $i(c){return ft(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function rt(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function zi(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,Gu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Gu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,Qu=/[#\?:]/g,Zu=/[#\?]/g,Yu=/[#\?@]/g,Ja=/#/g;function br(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Yt(c){c.g||(c.g=new Map,c.h=0,c.i&&Dh(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}n=br.prototype,n.add=function(c,g){Yt(this),this.i=null,c=Gn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function ar(c,g){Yt(c),g=Gn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function lr(c,g){return Yt(c),g=Gn(c,g),c.g.has(g)}n.forEach=function(c,g){Yt(this),this.g.forEach(function(v,I){v.forEach(function(j){c.call(g,j,I,this)},this)},this)},n.na=function(){Yt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let I=0;I<g.length;I++){const j=c[I];for(let q=0;q<j.length;q++)v.push(g[I])}return v},n.V=function(c){Yt(this);let g=[];if(typeof c=="string")lr(this,c)&&(g=g.concat(this.g.get(Gn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},n.set=function(c,g){return Yt(this),this.i=null,c=Gn(this,c),lr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Bi(c,g,v){ar(c,g),0<v.length&&(c.i=null,c.g.set(Gn(c,g),U(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var I=g[v];const q=encodeURIComponent(String(I)),pe=this.V(I);for(I=0;I<pe.length;I++){var j=q;pe[I]!==""&&(j+="="+encodeURIComponent(String(pe[I]))),c.push(j)}}return this.i=c.join("&")};function Gn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Dr(c,g){g&&!c.j&&(Yt(c),c.i=null,c.g.forEach(function(v,I){var j=I.toLowerCase();I!=j&&(ar(this,I),Bi(this,j,v))},c)),c.j=g}function Oh(c,g){const v=new Ls;if(h.Image){const I=new Image;I.onload=b(Sn,v,"TestLoadImage: loaded",!0,g,I),I.onerror=b(Sn,v,"TestLoadImage: error",!1,g,I),I.onabort=b(Sn,v,"TestLoadImage: abort",!1,g,I),I.ontimeout=b(Sn,v,"TestLoadImage: timeout",!1,g,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function Ju(c,g){const v=new Ls,I=new AbortController,j=setTimeout(()=>{I.abort(),Sn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(q=>{clearTimeout(j),q.ok?Sn(v,"TestPingServer: ok",!0,g):Sn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Sn(v,"TestPingServer: error",!1,g)})}function Sn(c,g,v,I,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),I(v)}catch{}}function Vh(){this.g=new Os}function Xu(c,g,v){const I=v||"";try{Fi(c,function(j,q){let pe=j;m(j)&&(pe=Ds(j)),g.push(I+q+"="+encodeURIComponent(pe))})}catch(j){throw g.push(I+"type="+encodeURIComponent("_badmap")),j}}function ii(c){this.l=c.Ub||null,this.j=c.eb||!1}D(ii,Pr),ii.prototype.g=function(){return new Bs(this.l,this.j)},ii.prototype.i=function(c){return function(){return c}}({});function Bs(c,g){le.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Bs,le),n=Bs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,cr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ec(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ec(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ur(this):cr(this),this.readyState==3&&ec(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ur(this))},n.Qa=function(c){this.g&&(this.response=c,ur(this))},n.ga=function(){this.g&&ur(this)};function ur(c){c.readyState=4,c.l=null,c.j=null,c.v=null,cr(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function cr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function si(c){let g="";return Te(c,function(v,I){g+=I,g+=":",g+=v,g+=`\r
`}),g}function Wi(c,g,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=si(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):ft(c,g,v))}function wt(c){le.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(wt,le);var Lh=/^https?$/i,Xa=["POST","PUT"];n=wt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sr.g(),this.v=this.o?Ao(this.o):Ao(sr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){Ws(this,q);return}if(c=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var j in I)v.set(j,I[j]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const q of I.keys())v.set(q,I.get(q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),j=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Xa,g,void 0))||I||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,pe]of v)this.g.setRequestHeader(q,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){Ws(this,q)}};function Ws(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Lo(c),Ln(c)}function Lo(c){c.A||(c.A=!0,ne(c,"complete"),ne(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ne(this,"complete"),ne(this,"abort"),Ln(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ln(this,!0)),wt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?el(this):this.bb())},n.bb=function(){el(this)};function el(c){if(c.h&&typeof u<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)Je(c.Ea,0,c);else if(ne(c,"readystatechange"),An(c)==4){c.h=!1;try{const pe=c.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var I;if(I=pe===0){var j=String(c.D).match($s)[1]||null;!j&&h.self&&h.self.location&&(j=h.self.location.protocol.slice(0,-1)),I=!Lh.test(j?j.toLowerCase():"")}v=I}if(v)ne(c,"complete"),ne(c,"success");else{c.m=6;try{var q=2<An(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",Lo(c)}}finally{Ln(c)}}}}function Ln(c,g){if(c.g){Mo(c);const v=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||ne(c,"ready");try{v.onreadystatechange=I}catch{}}}function Mo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Li(g)}};function tl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fo(c){const g={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(Q(c[I]))continue;var v=P(c[I]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=g[j]||[];g[j]=q,q.push(v)}N(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function nl(c){this.Aa=0,this.i=[],this.j=new Ls,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Or("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Or("baseRetryDelayMs",5e3,c),this.cb=Or("retryDelaySeedMs",1e4,c),this.Wa=Or("forwardChannelMaxRetries",2,c),this.wa=Or("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new js(c&&c.concurrentRequestLimit),this.Da=new Vh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=nl.prototype,n.la=8,n.G=1,n.connect=function(c,g,v,I){Pt(0),this.W=c,this.H=g||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=ic(this,null,this.W),Vr(this)};function Jt(c){if(Uo(c),c.G==3){var g=c.U++,v=Vn(c.I);if(ft(v,"SID",c.K),ft(v,"RID",g),ft(v,"TYPE","terminate"),oi(c,v),g=new or(c,c.j,g),g.L=2,g.v=$i(Vn(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=g.v,v=!0),v||(g.g=sc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),pt(g)}rc(c)}function dr(c){c.g&&(rl(c),c.g.cancel(),c.g=null)}function Uo(c){dr(c),c.u&&(h.clearTimeout(c.u),c.u=null),zo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Vr(c){if(!On(c.h)&&!c.s){c.s=!0;var g=c.Ga;de||X(),B||(de(),B=!0),se.add(g,c),c.B=0}}function Mh(c,g){return Hu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=rr(T(c.Ga,c,g),nc(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new or(this,this.j,c);let q=this.o;if(this.S&&(q?(q=A(q),R(q,this.S)):q=this.S),this.m!==null||this.O||(j.H=q,q=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Hi(this,j,g),v=Vn(this.I),ft(v,"RID",c),ft(v,"CVER",22),this.D&&ft(v,"X-HTTP-Session-Id",this.D),oi(this,v),q&&(this.O?g="headers="+encodeURIComponent(String(si(q)))+"&"+g:this.m&&Wi(v,this.m,q)),Ya(this.h,j),this.Ua&&ft(v,"TYPE","init"),this.P?(ft(v,"$req",g),ft(v,"SID","null"),j.T=!0,bo(j,v,null)):bo(j,v,g),this.G=2}}else this.G==3&&(c?jo(this,c):this.i.length==0||On(this.h)||jo(this))};function jo(c,g){var v;g?v=g.l:v=c.U++;const I=Vn(c.I);ft(I,"SID",c.K),ft(I,"RID",v),ft(I,"AID",c.T),oi(c,I),c.m&&c.o&&Wi(I,c.m,c.o),v=new or(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Hi(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ya(c.h,v),bo(v,I,g)}function oi(c,g){c.H&&Te(c.H,function(v,I){ft(g,I,v)}),c.l&&Fi({},function(v,I){ft(g,I,v)})}function Hi(c,g,v){v=Math.min(c.i.length,v);var I=c.l?T(c.l.Na,c.l,c):null;e:{var j=c.i;let q=-1;for(;;){const pe=["count="+v];q==-1?0<v?(q=j[0].g,pe.push("ofs="+q)):q=0:pe.push("ofs="+q);let dt=!0;for(let Ut=0;Ut<v;Ut++){let it=j[Ut].g;const Ht=j[Ut].map;if(it-=q,0>it)q=Math.max(0,j[Ut].g-100),dt=!1;else try{Xu(Ht,pe,"req"+it+"_")}catch{I&&I(Ht)}}if(dt){I=pe.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,I}function Hs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;de||X(),B||(de(),B=!0),se.add(g,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=rr(T(c.Fa,c),nc(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=rr(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),dr(this),tc(this))};function rl(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function tc(c){c.g=new or(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Vn(c.qa);ft(g,"RID","rpc"),ft(g,"SID",c.K),ft(g,"AID",c.T),ft(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&ft(g,"TO",c.ja),ft(g,"TYPE","xmlhttp"),oi(c,g),c.m&&c.o&&Wi(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=$i(Vn(g)),v.m=null,v.P=!0,Qa(v,c)}n.Za=function(){this.C!=null&&(this.C=null,dr(this),$o(this),Pt(19))};function zo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Bo(c,g){var v=null;if(c.g==g){zo(c),rl(c),c.g=null;var I=2}else if(yn(c.h,g))v=g.D,qu(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;I=Vs(),ne(I,new Ro(I,v)),Vr(c)}else Hs(c);else if(j=g.s,j==3||j==0&&0<g.X||!(I==1&&Mh(c,g)||I==2&&$o(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),j){case 1:ai(c,5);break;case 4:ai(c,10);break;case 3:ai(c,6);break;default:ai(c,2)}}}function nc(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function ai(c,g){if(c.j.info("Error code "+g),g==2){var v=T(c.fb,c),I=c.Xa;const j=!I;I=new ri(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zs(I,"https"),$i(I),j?Oh(I.toString(),v):Ju(I.toString(),v)}else Pt(2);c.G=0,c.l&&c.l.sa(g),rc(c),Uo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function rc(c){if(c.G=0,c.ka=[],c.l){const g=Ku(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ka,g),F(c.ka,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.ra()}}function ic(c,g,v){var I=v instanceof ri?Vn(v):new ri(v);if(I.g!="")g&&(I.g=g+"."+I.g),Ui(I,I.s);else{var j=h.location;I=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var q=new ri(null);I&&zs(q,I),g&&(q.g=g),j&&Ui(q,j),v&&(q.l=v),I=q}return v=c.D,g=c.ya,v&&g&&ft(I,v,g),ft(I,"VER",c.la),oi(c,I),I}function sc(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new wt(new ii({eb:v})):new wt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function il(){}n=il.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wo(){}Wo.prototype.g=function(c,g){return new vn(c,g)};function vn(c,g){le.call(this),this.g=new nl(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Lr(this)}D(vn,le),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Jt(this.g)},vn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ds(c),c=v);g.i.push(new Wu(g.Ya++,c)),g.G==3&&Vr(g)},vn.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,vn.aa.N.call(this)};function oc(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}D(oc,xr);function ac(){Co.call(this),this.status=1}D(ac,Co);function Lr(c){this.g=c}D(Lr,il),Lr.prototype.ua=function(){ne(this.g,"a")},Lr.prototype.ta=function(c){ne(this.g,new oc(c))},Lr.prototype.sa=function(c){ne(this.g,new ac)},Lr.prototype.ra=function(){ne(this.g,"b")},Wo.prototype.createWebChannel=Wo.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,tE=function(){return new Wo},eE=function(){return Vs()},X0=Nr,$p={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xo.NO_ERROR=0,xo.TIMEOUT=8,xo.HTTP_ERROR=6,yd=xo,ju.COMPLETE="complete",J0=ju,ko.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",le.prototype.listen=le.prototype.K,Vl=ko,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,Y0=wt}).apply(typeof rd<"u"?rd:typeof self<"u"?self:typeof window<"u"?window:{});const p_="@firebase/firestore",m_="4.7.13";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua="11.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new gm("@firebase/firestore");function fa(){return mo.logLevel}function Ie(n,...e){if(mo.logLevel<=tt.DEBUG){const t=e.map(xm);mo.debug(`Firestore (${Ua}): ${n}`,...t)}}function Ci(n,...e){if(mo.logLevel<=tt.ERROR){const t=e.map(xm);mo.error(`Firestore (${Ua}): ${n}`,...t)}}function Aa(n,...e){if(mo.logLevel<=tt.WARN){const t=e.map(xm);mo.warn(`Firestore (${Ua}): ${n}`,...t)}}function xm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,nE(n,r,t)}function nE(n,e,t){let r=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ci(r),new Error(r)}function ut(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||nE(e,o,r)}function We(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Ni{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class DR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class OR{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ut(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gs,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},h=f=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gs)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new rE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class VR{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LR{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new VR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ut(this.o===void 0,3512);const r=a=>{a.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,Ie("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new g_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new g_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=FR(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ze(n,e){return n<e?-1:n>e?1:0}function zp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Ze(r,o);{const a=iE(),u=UR(a.encode(y_(n,t)),a.encode(y_(e,t)));return u!==0?u:Ze(r,o)}}t+=r>65535?2:1}return Ze(n.length,e.length)}function y_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function UR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ze(n[t],e[t]);return Ze(n.length,e.length)}function ka(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=-62135596800,__=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*__);return new Ft(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<v_)throw new Re(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/__}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-v_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Ft(0,0))}static max(){return new Be(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="__name__";class $r{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ue(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=$r.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ze(e.length,t.length)}static compareSegments(e,t){const r=$r.isNumericId(e),o=$r.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?$r.extractNumericId(e).compare($r.extractNumericId(t)):zp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class vt extends $r{construct(e,t,r){return new vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const jR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends $r{construct(e,t,r){return new nn(e,t,r)}static isValidIdentifier(e){return jR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w_}static keyField(){return new nn([w_])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new Re(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new Re(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Re(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(r+=h,o++):(a(),o++)}if(a(),u)throw new Re(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(vt.fromString(e))}static fromName(e){return new Ve(vt.fromString(e).popFirst(5))}static empty(){return new Ve(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function $R(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Be.fromTimestamp(r===1e9?new Ft(t+1,0):new Ft(t,r));return new vs(o,Ve.empty(),e)}function zR(n){return new vs(n.readTime,n.key,Jl)}class vs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new vs(Be.min(),Ve.empty(),Jl)}static max(){return new vs(Be.max(),Ve.empty(),Jl)}}function BR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ve.comparator(n.documentKey,e.documentKey),t!==0?t:Ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==WR)throw n;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&t()},f=>r(f))}),u=!0,a===o&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(o=>o?ee.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(_=>{u[m]=_,++h,h===a&&r(u)},_=>o(_))}})}static doWhile(e,t){return new ee((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function qR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $a(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}hh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=-1;function fh(n){return n==null}function Od(n){return n===0&&1/n==-1/0}function KR(n){return typeof n=="number"&&Number.isInteger(n)&&!Od(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="";function GR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=E_(e)),e=QR(n.get(t),e);return E_(e)}function QR(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case oE:t+="";break;default:t+=a}}return t}function E_(n){return n+oE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ns(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new id(this.root,e,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new id(this.root,e,this.comparator,!0)}}class id{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??tn.RED,this.left=o??tn.EMPTY,this.right=a??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new tn(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new I_(this.data.getIterator())}getIteratorFrom(e){return new I_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class I_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new zn([])}unionWith(e){let t=new Wt(nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ka(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new lE("Invalid base64 string: "+a):a}}(e);return new rn(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const ZR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(n){if(ut(!!n,39018),typeof n=="string"){let e=0;const t=ZR.exec(n);if(ut(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ws(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="server_timestamp",cE="__type__",dE="__previous_value__",hE="__local_write_time__";function bm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[cE])===null||t===void 0?void 0:t.stringValue)===uE}function ph(n){const e=n.mapValue.fields[dE];return bm(e)?ph(e):e}function Xl(n){const e=_s(n.mapValue.fields[hE].timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,t,r,o,a,u,h,f,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=_}}const Vd="(default)";class eu{constructor(e,t){this.projectId=e,this.database=t||Vd}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===Vd}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="__type__",JR="__max__",sd={mapValue:{}},pE="__vector__",Ld="value";function Es(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bm(n)?4:eP(n)?9007199254740991:XR(n)?10:11:Ue(28295,{value:n})}function Qr(n,e){if(n===e)return!0;const t=Es(n);if(t!==Es(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xl(n).isEqual(Xl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=_s(o.timestampValue),h=_s(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return ws(o.bytesValue).isEqual(ws(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Nt(o.geoPointValue.latitude)===Nt(a.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Nt(o.integerValue)===Nt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Nt(o.doubleValue),h=Nt(a.doubleValue);return u===h?Od(u)===Od(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return ka(n.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(T_(u)!==T_(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Qr(u[f],h[f])))return!1;return!0}(n,e);default:return Ue(52216,{left:n})}}function tu(n,e){return(n.values||[]).find(t=>Qr(t,e))!==void 0}function Ca(n,e){if(n===e)return 0;const t=Es(n),r=Es(e);if(t!==r)return Ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ze(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=Nt(a.integerValue||a.doubleValue),f=Nt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return S_(n.timestampValue,e.timestampValue);case 4:return S_(Xl(n),Xl(e));case 5:return zp(n.stringValue,e.stringValue);case 6:return function(a,u){const h=ws(a),f=ws(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const _=Ze(h[m],f[m]);if(_!==0)return _}return Ze(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=Ze(Nt(a.latitude),Nt(u.latitude));return h!==0?h:Ze(Nt(a.longitude),Nt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return A_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,m,_;const E=a.fields||{},T=u.fields||{},b=(h=E[Ld])===null||h===void 0?void 0:h.arrayValue,D=(f=T[Ld])===null||f===void 0?void 0:f.arrayValue,U=Ze(((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0,((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0);return U!==0?U:A_(b,D)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===sd.mapValue&&u===sd.mapValue)return 0;if(a===sd.mapValue)return 1;if(u===sd.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let E=0;E<f.length&&E<_.length;++E){const T=zp(f[E],_[E]);if(T!==0)return T;const b=Ca(h[f[E]],m[_[E]]);if(b!==0)return b}return Ze(f.length,_.length)}(n.mapValue,e.mapValue);default:throw Ue(23264,{Pe:t})}}function S_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ze(n,e);const t=_s(n),r=_s(e),o=Ze(t.seconds,r.seconds);return o!==0?o:Ze(t.nanos,r.nanos)}function A_(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Ca(t[o],r[o]);if(a)return a}return Ze(t.length,r.length)}function Ra(n){return Bp(n)}function Bp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=_s(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ws(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Bp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${Bp(t.fields[u])}`;return o+"}"}(n.mapValue):Ue(61005,{value:n})}function vd(n){switch(Es(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(n);return e?16+vd(e):16;case 5:return 2*n.stringValue.length;case 6:return ws(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+vd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Ns(r.fields,(a,u)=>{o+=a.length+vd(u)}),o}(n.mapValue);default:throw Ue(13486,{value:n})}}function k_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Wp(n){return!!n&&"integerValue"in n}function Dm(n){return!!n&&"arrayValue"in n}function C_(n){return!!n&&"nullValue"in n}function R_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _d(n){return!!n&&"mapValue"in n}function XR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[fE])===null||t===void 0?void 0:t.stringValue)===pE}function zl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ns(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=zl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===JR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_d(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(t)}setAll(e){let t=nn.emptyPath(),r={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=h.popLast()}u?r[h.lastSegment()]=zl(u):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());_d(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];_d(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Ns(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new Dn(zl(this.value))}}function mE(n){const e=[];return Ns(n.fields,(t,r)=>{const o=new nn([t]);if(_d(r)){const a=mE(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t,r,o,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new hn(e,0,Be.min(),Be.min(),Be.min(),Dn.empty(),0)}static newFoundDocument(e,t,r,o){return new hn(e,1,t,Be.min(),r,o,0)}static newNoDocument(e,t){return new hn(e,2,t,Be.min(),Be.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,Be.min(),Be.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t){this.position=e,this.inclusive=t}}function P_(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=Ve.comparator(Ve.fromName(u.referenceValue),t.key):r=Ca(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function x_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t="asc"){this.field=e,this.dir=t}}function tP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{}class Mt extends gE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new rP(e,t,r):t==="array-contains"?new oP(e,r):t==="in"?new aP(e,r):t==="not-in"?new lP(e,r):t==="array-contains-any"?new uP(e,r):new Mt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new iP(e,r):new sP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ca(t,this.value)):t!==null&&Es(this.value)===Es(t)&&this.matchesComparison(Ca(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends gE{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Ar(e,t)}matches(e){return yE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function yE(n){return n.op==="and"}function vE(n){return nP(n)&&yE(n)}function nP(n){for(const e of n.filters)if(e instanceof Ar)return!1;return!0}function Hp(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+Ra(n.value);if(vE(n))return n.filters.map(e=>Hp(e)).join(",");{const e=n.filters.map(t=>Hp(t)).join(",");return`${n.op}(${e})`}}function _E(n,e){return n instanceof Mt?function(r,o){return o instanceof Mt&&r.op===o.op&&r.field.isEqual(o.field)&&Qr(r.value,o.value)}(n,e):n instanceof Ar?function(r,o){return o instanceof Ar&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,h)=>a&&_E(u,o.filters[h]),!0):!1}(n,e):void Ue(19439)}function wE(n){return n instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ra(t.value)}`}(n):n instanceof Ar?function(t){return t.op.toString()+" {"+t.getFilters().map(wE).join(" ,")+"}"}(n):"Filter"}class rP extends Mt{constructor(e,t,r){super(e,t,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const t=Ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class iP extends Mt{constructor(e,t){super(e,"in",t),this.keys=EE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sP extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=EE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function EE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class oP extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dm(t)&&tu(t.arrayValue,this.value)}}class aP extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&tu(this.value.arrayValue,t)}}class lP extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!tu(this.value.arrayValue,t)}}class uP extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>tu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t=null,r=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.Ie=null}}function N_(n,e=null,t=[],r=[],o=null,a=null,u=null){return new cP(n,e,t,r,o,a,u)}function Om(n){const e=We(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Hp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),fh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ra(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ra(r)).join(",")),e.Ie=t}return e.Ie}function Vm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_E(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!x_(n.startAt,e.startAt)&&x_(n.endAt,e.endAt)}function qp(n){return Ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,t=null,r=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function dP(n,e,t,r,o,a,u,h){return new Nu(n,e,t,r,o,a,u,h)}function TE(n){return new Nu(n)}function b_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function IE(n){return n.collectionGroup!==null}function Bl(n){const e=We(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Wt(nn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Fd(a,r))}),t.has(nn.keyField().canonicalString())||e.Ee.push(new Fd(nn.keyField(),r))}return e.Ee}function Hr(n){const e=We(n);return e.de||(e.de=hP(e,Bl(n))),e.de}function hP(n,e){if(n.limitType==="F")return N_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Fd(o.field,a)});const t=n.endAt?new Md(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Md(n.startAt.position,n.startAt.inclusive):null;return N_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Kp(n,e){const t=n.filters.concat([e]);return new Nu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Gp(n,e,t){return new Nu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mh(n,e){return Vm(Hr(n),Hr(e))&&n.limitType===e.limitType}function SE(n){return`${Om(Hr(n))}|lt:${n.limitType}`}function pa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>wE(o)).join(", ")}]`),fh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Ra(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Ra(o)).join(",")),`Target(${r})`}(Hr(n))}; limitType=${n.limitType})`}function gh(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of Bl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,h,f){const m=P_(u,h,f);return u.inclusive?m<=0:m<0}(r.startAt,Bl(r),o)||r.endAt&&!function(u,h,f){const m=P_(u,h,f);return u.inclusive?m>=0:m>0}(r.endAt,Bl(r),o))}(n,e)}function fP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AE(n){return(e,t)=>{let r=!1;for(const o of Bl(n)){const a=pP(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function pP(n,e,t){const r=n.field.isKeyField()?Ve.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?Ca(f,m):Ue(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return aE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new kt(Ve.comparator);function Ri(){return mP}const kE=new kt(Ve.comparator);function Ll(...n){let e=kE;for(const t of n)e=e.insert(t.key,t);return e}function CE(n){let e=kE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ao(){return Wl()}function RE(){return Wl()}function Wl(){return new To(n=>n.toString(),(n,e)=>n.isEqual(e))}const gP=new kt(Ve.comparator),yP=new Wt(Ve.comparator);function nt(...n){let e=yP;for(const t of n)e=e.add(t);return e}const vP=new Wt(Ze);function _P(){return vP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function PE(n){return{integerValue:""+n}}function wP(n,e){return KR(e)?PE(e):Lm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this._=void 0}}function EP(n,e,t){return n instanceof nu?function(o,a){const u={fields:{[cE]:{stringValue:uE},[hE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&bm(a)&&(a=ph(a)),a&&(u.fields[dE]=a),{mapValue:u}}(t,e):n instanceof ru?NE(n,e):n instanceof iu?bE(n,e):function(o,a){const u=xE(o,a),h=D_(u)+D_(o.Re);return Wp(u)&&Wp(o.Re)?PE(h):Lm(o.serializer,h)}(n,e)}function TP(n,e,t){return n instanceof ru?NE(n,e):n instanceof iu?bE(n,e):t}function xE(n,e){return n instanceof Ud?function(r){return Wp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class nu extends yh{}class ru extends yh{constructor(e){super(),this.elements=e}}function NE(n,e){const t=DE(e);for(const r of n.elements)t.some(o=>Qr(o,r))||t.push(r);return{arrayValue:{values:t}}}class iu extends yh{constructor(e){super(),this.elements=e}}function bE(n,e){let t=DE(e);for(const r of n.elements)t=t.filter(o=>!Qr(o,r));return{arrayValue:{values:t}}}class Ud extends yh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function D_(n){return Nt(n.integerValue||n.doubleValue)}function DE(n){return Dm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t){this.field=e,this.transform=t}}function SP(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof ru&&o instanceof ru||r instanceof iu&&o instanceof iu?ka(r.elements,o.elements,Qr):r instanceof Ud&&o instanceof Ud?Qr(r.Re,o.Re):r instanceof nu&&o instanceof nu}(n.transform,e.transform)}class AP{constructor(e,t){this.version=e,this.transformResults=t}}class Ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class vh{}function OE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Mm(n.key,Ir.none()):new bu(n.key,n.data,Ir.none());{const t=n.data,r=Dn.empty();let o=new Wt(nn.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new bs(n.key,r,new zn(o.toArray()),Ir.none())}}function kP(n,e,t){n instanceof bu?function(o,a,u){const h=o.value.clone(),f=V_(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof bs?function(o,a,u){if(!wd(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=V_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(VE(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Hl(n,e,t,r){return n instanceof bu?function(a,u,h,f){if(!wd(a.precondition,u))return h;const m=a.value.clone(),_=L_(a.fieldTransforms,f,u);return m.setAll(_),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof bs?function(a,u,h,f){if(!wd(a.precondition,u))return h;const m=L_(a.fieldTransforms,f,u),_=u.data;return _.setAll(VE(a)),_.setAll(m),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,r):function(a,u,h){return wd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function CP(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=xE(r.transform,o||null);a!=null&&(t===null&&(t=Dn.empty()),t.set(r.field,a))}return t||null}function O_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ka(r,o,(a,u)=>SP(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bu extends vh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bs extends vh{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function VE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function V_(n,e,t){const r=new Map;ut(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,h=e.data.field(a.field);r.set(a.field,TP(u,h,t[o]))}return r}function L_(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,EP(a,u,e))}return r}class Mm extends vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RP extends vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&kP(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Hl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=RE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(o.key)?null:h;const f=OE(u,h);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nt())}isEqual(e){return this.batchId===e.batchId&&ka(this.mutations,e.mutations,(t,r)=>O_(t,r))&&ka(this.baseMutations,e.baseMutations,(t,r)=>O_(t,r))}}class Fm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ut(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let o=function(){return gP}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new Fm(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,st;function bP(n){switch(n){case te.OK:return Ue(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ue(15467,{code:n})}}function LE(n){if(n===void 0)return Ci("GRPC error has no .code"),te.UNKNOWN;switch(n){case Vt.OK:return te.OK;case Vt.CANCELLED:return te.CANCELLED;case Vt.UNKNOWN:return te.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return te.INTERNAL;case Vt.UNAVAILABLE:return te.UNAVAILABLE;case Vt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Vt.NOT_FOUND:return te.NOT_FOUND;case Vt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Vt.ABORTED:return te.ABORTED;case Vt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Vt.DATA_LOSS:return te.DATA_LOSS;default:return Ue(39323,{code:n})}}(st=Vt||(Vt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new ms([4294967295,4294967295],0);function M_(n){const e=iE().encode(n),t=new Z0;return t.update(e),new Uint8Array(t.digest())}function F_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ms([t,r],0),new ms([o,a],0)]}class Um{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ml(`Invalid padding: ${t}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ms.fromNumber(this.pe)}we(e,t,r){let o=e.add(t.multiply(ms.fromNumber(r)));return o.compare(DP)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=M_(e),[r,o]=F_(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,o,a);if(!this.be(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Um(a,o,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=M_(e),[r,o]=F_(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new _h(Be.min(),o,new kt(Ze),Ri(),nt())}}class Du{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Du(r,t,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t,r,o){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=o}}class ME{constructor(e,t){this.targetId=e,this.Ce=t}}class FE{constructor(e,t,r=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class U_{constructor(){this.Fe=0,this.Me=j_(),this.xe=rn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=nt(),t=nt(),r=nt();return this.Me.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ue(38017,{changeType:a})}}),new Du(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=j_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ut(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class OP{constructor(e){this.ze=e,this.je=new Map,this.He=Ri(),this.Je=od(),this.Ye=od(),this.Ze=new kt(Ze)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,r=e.Ce.count,o=this._t(t);if(o){const a=o.target;if(qp(a))if(r===0){const u=new Ve(a.path);this.tt(t,u,hn.newNoDocument(u,Be.min()))}else ut(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,h;try{u=ws(r).toUint8Array()}catch(f){if(f instanceof lE)return Aa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Um(u,o,a)}catch(f){return Aa(f instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,a,null),o++)}),o}It(e){const t=new Map;this.je.forEach((a,u)=>{const h=this._t(u);if(h){if(a.current&&qp(h.target)){const f=new Ve(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,hn.newNoDocument(f,e))}a.Le&&(t.set(u,a.qe()),a.Qe())}});let r=nt();this.Ye.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const m=this._t(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const o=new _h(e,t,this.Ze,this.He,r);return this.He=Ri(),this.Je=od(),this.Ye=od(),this.Ze=new kt(Ze),o}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new U_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Wt(Ze),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Wt(Ze),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ie("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new U_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function od(){return new kt(Ve.comparator)}function j_(){return new kt(Ve.comparator)}const VP={asc:"ASCENDING",desc:"DESCENDING"},LP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MP={and:"AND",or:"OR"};class FP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qp(n,e){return n.useProto3Json||fh(e)?e:{value:e}}function jd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function UP(n,e){return jd(n,e.toTimestamp())}function qr(n){return ut(!!n,49232),Be.fromTimestamp(function(t){const r=_s(t);return new Ft(r.seconds,r.nanos)}(n))}function jm(n,e){return Zp(n,e).canonicalString()}function Zp(n,e){const t=function(o){return new vt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function jE(n){const e=vt.fromString(n);return ut(HE(e),10190,{key:e.toString()}),e}function Yp(n,e){return jm(n.databaseId,e.path)}function vp(n,e){const t=jE(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ve(zE(t))}function $E(n,e){return jm(n.databaseId,e)}function jP(n){const e=jE(n);return e.length===4?vt.emptyPath():zE(e)}function Jp(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zE(n){return ut(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $_(n,e,t){return{name:Yp(n,e),fields:t.value.mapValue.fields}}function $P(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ue(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,_){return m.useProto3Json?(ut(_===void 0||typeof _=="string",58123),rn.fromBase64String(_||"")):(ut(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),rn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const _=m.code===void 0?te.UNKNOWN:LE(m.code);return new Re(_,m.message||"")}(u);t=new FE(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=vp(n,r.document.name),a=qr(r.document.updateTime),u=r.document.createTime?qr(r.document.createTime):Be.min(),h=new Dn({mapValue:{fields:r.document.fields}}),f=hn.newFoundDocument(o,a,u,h),m=r.targetIds||[],_=r.removedTargetIds||[];t=new Ed(m,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=vp(n,r.document),a=r.readTime?qr(r.readTime):Be.min(),u=hn.newNoDocument(o,a),h=r.removedTargetIds||[];t=new Ed([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=vp(n,r.document),a=r.removedTargetIds||[];t=new Ed([],a,o,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new NP(o,a),h=r.targetId;t=new ME(h,u)}}return t}function zP(n,e){let t;if(e instanceof bu)t={update:$_(n,e.key,e.value)};else if(e instanceof Mm)t={delete:Yp(n,e.key)};else if(e instanceof bs)t={update:$_(n,e.key,e.data),updateMask:YP(e.fieldMask)};else{if(!(e instanceof RP))return Ue(16599,{ft:e.type});t={verify:Yp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof nu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ru)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof iu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ud)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw Ue(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:UP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue(27497)}(n,e.precondition)),t}function BP(n,e){return n&&n.length>0?(ut(e!==void 0,14353),n.map(t=>function(o,a){let u=o.updateTime?qr(o.updateTime):qr(a);return u.isEqual(Be.min())&&(u=qr(a)),new AP(u,o.transformResults||[])}(t,e))):[]}function WP(n,e){return{documents:[$E(n,e.path)]}}function HP(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=$E(n,o);const a=function(m){if(m.length!==0)return WE(Ar.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(_=>function(T){return{field:ma(T.field),direction:GP(T.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Qp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:o}}function qP(n){let e=jP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ut(r===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(E){const T=BE(E);return T instanceof Ar&&vE(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(T=>function(D){return new Fd(ga(D.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(E){let T;return T=typeof E=="object"?E.value:E,fh(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(E){const T=!!E.before,b=E.values||[];return new Md(b,T)}(t.startAt));let m=null;return t.endAt&&(m=function(E){const T=!E.before,b=E.values||[];return new Md(b,T)}(t.endAt)),dP(e,o,u,a,h,"F",f,m)}function KP(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function BE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ga(t.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ga(t.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ga(t.unaryFilter.field);return Mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ga(t.unaryFilter.field);return Mt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(n):n.fieldFilter!==void 0?function(t){return Mt.create(ga(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ar.create(t.compositeFilter.filters.map(r=>BE(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(t.compositeFilter.op))}(n):Ue(30097,{filter:n})}function GP(n){return VP[n]}function QP(n){return LP[n]}function ZP(n){return MP[n]}function ma(n){return{fieldPath:n.canonicalString()}}function ga(n){return nn.fromServerFormat(n.fieldPath)}function WE(n){return n instanceof Mt?function(t){if(t.op==="=="){if(R_(t.value))return{unaryFilter:{field:ma(t.field),op:"IS_NAN"}};if(C_(t.value))return{unaryFilter:{field:ma(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(R_(t.value))return{unaryFilter:{field:ma(t.field),op:"IS_NOT_NAN"}};if(C_(t.value))return{unaryFilter:{field:ma(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ma(t.field),op:QP(t.op),value:t.value}}}(n):n instanceof Ar?function(t){const r=t.getFilters().map(o=>WE(o));return r.length===1?r[0]:{compositeFilter:{op:ZP(t.op),filters:r}}}(n):Ue(54877,{filter:n})}function YP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,t,r,o,a=Be.min(),u=Be.min(),h=rn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.wt=e}}function XP(n){const e=qP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.yn=new tx}addToCollectionParentIndex(e,t){return this.yn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(vs.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class tx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Wt(vt.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Wt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qE=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(qE,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Pa(0)}static ir(){return new Pa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="LruGarbageCollector",nx=1048576;function W_([n,e],[t,r]){const o=Ze(n,t);return o===0?Ze(e,r):o}class rx{constructor(e){this.cr=e,this.buffer=new Wt(W_),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();W_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ix{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ie(B_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){$a(t)?Ie(B_,"Ignoring IndexedDB error during garbage collection: ",t):await ja(t)}await this.Ir(3e5)})}}class sx{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(hh.le);const r=new rx(t);return this.Er.forEachTarget(e,o=>r.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>r.Pr(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(z_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z_):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,o,a,u,h,f,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(r=E,h=Date.now(),this.removeTargets(e,r,t))).next(E=>(a=E,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(m=Date.now(),fa()<=tt.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${E} documents in `+(m-f)+`ms
Total Duration: ${m-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}function ox(n,e){return new sx(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.changes=new To(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Hl(r.mutation,o,zn.empty(),Ft.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=nt()){const o=ao();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=Ll();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ao();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,nt()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,o){let a=Ri();const u=Wl(),h=function(){return Wl()}();return t.forEach((f,m)=>{const _=r.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof bs)?a=a.insert(m.key,m):_!==void 0?(u.set(m.key,_.mutation.getFieldMask()),Hl(_.mutation,m,_.mutation.getFieldMask(),Ft.now())):u.set(m.key,zn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,_)=>u.set(m,_)),t.forEach((m,_)=>{var E;return h.set(m,new lx(_,(E=u.get(m))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Wl();let o=new kt((u,h)=>u-h),a=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let _=r.get(f)||zn.empty();_=h.applyToLocalView(m,_),r.set(f,_);const E=(o.get(h.batchId)||nt()).add(f);o=o.insert(h.batchId,E)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,_=f.value,E=RE();_.forEach(T=>{if(!a.has(T)){const b=OE(t.get(T),r.get(T));b!==null&&E.set(T,b),a=a.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return ee.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return Ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):IE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ee.resolve(ao());let h=Jl,f=a;return u.next(m=>ee.forEach(m,(_,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{f=f.insert(_,T)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,nt())).next(_=>({batchId:h,changes:CE(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ve(t)).next(r=>{let o=Ll();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=Ll();return this.indexManager.getCollectionParents(e,a).next(h=>ee.forEach(h,f=>{const m=function(E,T){return new Nu(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(_=>{_.forEach((E,T)=>{u=u.insert(E,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((f,m)=>{const _=m.getKey();u.get(_)===null&&(u=u.insert(_,hn.newInvalidDocument(_)))});let h=Ll();return u.forEach((f,m)=>{const _=a.get(f);_!==void 0&&Hl(_.mutation,m,zn.empty(),Ft.now()),gh(t,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:qr(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:XP(o.bundledQuery),readTime:qr(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.overlays=new kt(Ve.comparator),this.Or=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ao();return ee.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.St(e,t,a)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Or.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const o=ao(),a=t.length+1,u=new Ve(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new kt((m,_)=>m-_);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let _=a.get(m.largestBatchId);_===null&&(_=ao(),a=a.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const h=ao(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,_)=>h.set(m,_)),!(h.size()>=o)););return ee.resolve(h)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Or.get(o.largestBatchId).delete(r.key);this.Or.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new xP(t,r));let a=this.Or.get(t);a===void 0&&(a=nt(),this.Or.set(t,a)),this.Or.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(){this.Nr=new Wt(Qt.Br),this.Lr=new Wt(Qt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Qt(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Qt(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Ve(new vt([])),r=new Qt(t,e),o=new Qt(t,e+1),a=[];return this.Lr.forEachInRange([r,o],u=>{this.Qr(u),a.push(u.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ve(new vt([])),r=new Qt(t,e),o=new Qt(t,e+1);let a=nt();return this.Lr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Qt(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ve.comparator(e.key,t.key)||Ze(e.Gr,t.Gr)}static kr(e,t){return Ze(e.Gr,t.Gr)||Ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Wt(Qt.Br)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new PP(a,t,r,o);this.mutationQueue.push(u);for(const h of o)this.zr=this.zr.add(new Qt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,t){return ee.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Hr(r),a=o<0?0:o;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Nm:this.Jn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qt(t,0),o=new Qt(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,o],u=>{const h=this.jr(u.Gr);a.push(h)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wt(Ze);return t.forEach(o=>{const a=new Qt(o,0),u=new Qt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,u],h=>{r=r.add(h.Gr)})}),ee.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Ve.isDocumentKey(a)||(a=a.child(""));const u=new Qt(new Ve(a),0);let h=new Wt(Ze);return this.zr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(h=h.add(f.Gr)),!0)},u),ee.resolve(this.Jr(h))}Jr(e){const t=[];return e.forEach(r=>{const o=this.jr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ut(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return ee.forEach(t.mutations,o=>{const a=new Qt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Qt(t,0),o=this.zr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.Zr=e,this.docs=function(){return new kt(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let r=Ri();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():hn.newInvalidDocument(o))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=Ri();const u=t.path,h=new Ve(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:_}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||BR(zR(_),r)<=0||(o.has(_.key)||gh(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Ue(9500)}Xr(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new mx(this)}getSize(e){return ee.resolve(this.size)}}class mx extends ax{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.persistence=e,this.ei=new To(t=>Om(t),Vm),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.ti=0,this.ni=new $m,this.targetCount=0,this.ri=Pa.rr()}forEachTarget(e,t){return this.ei.forEach((r,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),ee.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Pa(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.ar(t),ee.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ei.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ee.waitFor(a).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,t){this.ii={},this.overlays={},this.si=new hh(0),this.oi=!1,this.oi=!0,this._i=new hx,this.referenceDelegate=e(this),this.ai=new gx(this),this.indexManager=new ex,this.remoteDocumentCache=function(o){return new px(o)}(r=>this.referenceDelegate.ui(r)),this.serializer=new JP(t),this.ci=new cx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new fx(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Ie("MemoryPersistence","Starting transaction:",e);const o=new yx(this.si.next());return this.referenceDelegate.li(),r(o).next(a=>this.referenceDelegate.hi(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Pi(e,t){return ee.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class yx extends HR{constructor(e){super(),this.currentSequenceNumber=e}}class zm{constructor(e){this.persistence=e,this.Ti=new $m,this.Ii=null}static Ei(e){return new zm(e)}get di(){if(this.Ii)return this.Ii;throw Ue(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,r=>{const o=Ve.fromPath(r);return this.Ai(e,o).next(a=>{a||t.removeEntry(o,Be.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ee.or([()=>ee.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class $d{constructor(e,t){this.persistence=e,this.Ri=new To(r=>GR(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=ox(this,t)}static Ei(e,t){return new $d(e,t)}li(){}hi(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return ee.forEach(this.Ri,(r,o)=>this.gr(e,r,o).next(a=>a?ee.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Xr(e,u=>this.gr(e,u,t).next(h=>{h||(r++,a.removeEntry(u,Be.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ee.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vd(e.data.value)),t}gr(e,t,r){return ee.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return ee.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=o}static Ps(e,t){let r=nt(),o=nt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Bm(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Z1()?8:qR(fn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.Rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Vs(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new vx;return this.fs(e,t,u).next(h=>{if(a.result=h,this.Is)return this.gs(e,t,u,h.size)})}).next(()=>a.result)}gs(e,t,r,o){return r.documentReadCount<this.Es?(fa()<=tt.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",pa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ee.resolve()):(fa()<=tt.DEBUG&&Ie("QueryEngine","Query:",pa(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(fa()<=tt.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",pa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(t))):ee.resolve())}Rs(e,t){if(b_(t))return ee.resolve(null);let r=Hr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Gp(t,null,"F"),r=Hr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=nt(...a);return this.As.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.ps(t,h);return this.ys(t,m,u,f.readTime)?this.Rs(e,Gp(t,null,"F")):this.ws(e,m,t,f)}))})))}Vs(e,t,r,o){return b_(t)||o.isEqual(Be.min())?ee.resolve(null):this.As.getDocuments(e,r).next(a=>{const u=this.ps(t,a);return this.ys(t,u,r,o)?ee.resolve(null):(fa()<=tt.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),pa(t)),this.ws(e,u,t,$R(o,Jl)).next(h=>h))})}ps(e,t){let r=new Wt(AE(e));return t.forEach((o,a)=>{gh(e,a)&&(r=r.add(a))}),r}ys(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}fs(e,t,r){return fa()<=tt.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",pa(t)),this.As.getDocumentsMatchingQuery(e,t,vs.min(),r)}ws(e,t,r,o){return this.As.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="LocalStore",wx=3e8;class Ex{constructor(e,t,r,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new kt(Ze),this.Ds=new To(a=>Om(a),Vm),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ux(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function Tx(n,e,t,r){return new Ex(n,e,t,r)}async function GE(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=nt();for(const m of o){u.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}for(const m of a){h.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ms:m,removedBatchIds:u,addedBatchIds:h}))})})}function Ix(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,m,_){const E=m.batch,T=E.keys();let b=ee.resolve();return T.forEach(D=>{b=b.next(()=>_.getEntry(f,D)).next(U=>{const F=m.docVersions.get(D);ut(F!==null,48541),U.version.compareTo(F)<0&&(E.applyToRemoteDocument(U,m),U.isValidDocument()&&(U.setReadTime(m.commitVersion),_.addEntry(U)))})}),b.next(()=>h.mutationQueue.removeMutationBatch(f,E))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=nt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function QE(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function Sx(n,e){const t=We(n),r=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const h=[];e.targetChanges.forEach((_,E)=>{const T=o.get(E);if(!T)return;h.push(t.ai.removeMatchingKeys(a,_.removedDocuments,E).next(()=>t.ai.addMatchingKeys(a,_.addedDocuments,E)));let b=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?b=b.withResumeToken(rn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):_.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(_.resumeToken,r)),o=o.insert(E,b),function(U,F,G){return U.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=wx?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(T,b,_)&&h.push(t.ai.updateTargetData(a,b))});let f=Ri(),m=nt();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),h.push(Ax(a,u,e.documentUpdates).next(_=>{f=_.xs,m=_.Os})),!r.isEqual(Be.min())){const _=t.ai.getLastRemoteSnapshotVersion(a).next(E=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(_)}return ee.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.Ss=o,a))}function Ax(n,e,t){let r=nt(),o=nt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Ri();return t.forEach((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Be.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):Ie(Wm,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{xs:u,Os:o}})}function kx(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Nm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Cx(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ai.getTargetData(r,e).next(a=>a?(o=a,ee.resolve(o)):t.ai.allocateTargetId(r).next(u=>(o=new ds(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ss.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function Xp(n,e,t){const r=We(n),o=r.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!$a(u))throw u;Ie(Wm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(o.target)}function H_(n,e,t){const r=We(n);let o=Be.min(),a=nt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,_){const E=We(f),T=E.Ds.get(_);return T!==void 0?ee.resolve(E.Ss.get(T)):E.ai.getTargetData(m,_)}(r,u,Hr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?o:Be.min(),t?a:nt())).next(h=>(Rx(r,fP(e),h),{documents:h,Ns:a})))}function Rx(n,e,t){let r=n.vs.get(e)||Be.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.vs.set(e,r)}class q_{constructor(){this.activeTargetIds=_P()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Px{constructor(){this.So=new q_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new q_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="ConnectivityMonitor";class G_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ie(K_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ie(K_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad=null;function em(){return ad===null?ad=function(){return 268435456+Math.round(2147483648*Math.random())}():ad++,"0x"+ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="RestConnection",Nx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bx{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${o}`,this.qo=this.databaseId.database===Vd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Qo(e,t,r,o,a){const u=em(),h=this.$o(e,t.toUriEncodedString());Ie(_p,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(f,o,a);const{host:m}=new URL(h),_=Su(m);return this.Ko(e,h,f,r,_).then(E=>(Ie(_p,`Received RPC '${e}' ${u}: `,E),E),E=>{throw Aa(_p,`RPC '${e}' ${u} failed with error: `,E,"url: ",h,"request:",r),E})}Wo(e,t,r,o,a,u){return this.Qo(e,t,r,o,a)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ua}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}$o(e,t){const r=Nx[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class Ox extends bx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,o,a){const u=em();return new Promise((h,f)=>{const m=new Y0;m.setWithCredentials(!0),m.listenOnce(J0.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case yd.NO_ERROR:const E=m.getResponseJson();Ie(un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case yd.TIMEOUT:Ie(un,`RPC '${e}' ${u} timed out`),f(new Re(te.DEADLINE_EXCEEDED,"Request time out"));break;case yd.HTTP_ERROR:const T=m.getStatus();if(Ie(un,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const D=b==null?void 0:b.error;if(D&&D.status&&D.message){const U=function(G){const Q=G.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Q)>=0?Q:te.UNKNOWN}(D.status);f(new Re(U,D.message))}else f(new Re(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Re(te.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{s_:e,streamId:u,o_:m.getLastErrorCode(),__:m.getLastError()})}}finally{Ie(un,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);Ie(un,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",_,r,15)})}a_(e,t,r){const o=em(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=tE(),h=eE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const _=a.join("");Ie(un,`Creating RPC '${e}' stream ${o}: ${_}`,f);const E=u.createWebChannel(_,f);let T=!1,b=!1;const D=new Dx({Go:F=>{b?Ie(un,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(T||(Ie(un,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),Ie(un,`RPC '${e}' stream ${o} sending:`,F),E.send(F))},zo:()=>E.close()}),U=(F,G,Q)=>{F.listen(G,Y=>{try{Q(Y)}catch(me){setTimeout(()=>{throw me},0)}})};return U(E,Vl.EventType.OPEN,()=>{b||(Ie(un,`RPC '${e}' stream ${o} transport opened.`),D.t_())}),U(E,Vl.EventType.CLOSE,()=>{b||(b=!0,Ie(un,`RPC '${e}' stream ${o} transport closed`),D.r_())}),U(E,Vl.EventType.ERROR,F=>{b||(b=!0,Aa(un,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),D.r_(new Re(te.UNAVAILABLE,"The operation could not be completed")))}),U(E,Vl.EventType.MESSAGE,F=>{var G;if(!b){const Q=F.data[0];ut(!!Q,16349);const Y=Q,me=(Y==null?void 0:Y.error)||((G=Y[0])===null||G===void 0?void 0:G.error);if(me){Ie(un,`RPC '${e}' stream ${o} received error:`,me);const Se=me.status;let Te=function(k){const R=Vt[k];if(R!==void 0)return LE(R)}(Se),N=me.message;Te===void 0&&(Te=te.INTERNAL,N="Unknown error status: "+Se+" with message "+me.message),b=!0,D.r_(new Re(Te,N)),E.close()}else Ie(un,`RPC '${e}' stream ${o} received:`,Q),D.i_(Q)}}),U(h,X0.STAT_EVENT,F=>{F.stat===$p.PROXY?Ie(un,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===$p.NOPROXY&&Ie(un,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.n_()},0),D}}function wp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(n){return new FP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t,r=1e3,o=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=o,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-r);o>0&&Ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="PersistentStream";class YE{constructor(e,t,r,o,a,u,h,f){this.bi=e,this.R_=r,this.V_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new ZE(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Ci(t.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.m_===t&&this.B_(r,o)},r=>{e(()=>{const o=new Re(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(o)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{r(()=>this.L_(o))}),this.stream.onMessage(o=>{r(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ie(Q_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ie(Q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vx extends YE{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=$P(this.serializer,e),r=function(a){if(!("targetChange"in a))return Be.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Be.min():u.readTime?qr(u.readTime):Be.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=Jp(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=qp(f)?{documents:WP(a,f)}:{query:HP(a,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=UE(a,u.resumeToken);const m=Qp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Be.min())>0){h.readTime=jd(a,u.snapshotVersion.toTimestamp());const m=Qp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=KP(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=Jp(this.serializer),t.removeTarget=e,this.F_(t)}}class Lx extends YE{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=BP(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=Jp(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>zP(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{}class Fx extends Mx{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new Re(te.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Qo(e,Zp(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(te.UNKNOWN,a.toString())})}Wo(e,t,r,o,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Zp(t,r),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Re(te.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Ux{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ci(t),this.ea=!1):Ie("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="RemoteStore";class jx{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(u=>{r.enqueueAndForget(async()=>{Io(this)&&(Ie(go,"Restarting streams for network reachability change."),await async function(f){const m=We(f);m.aa.add(4),await Ou(m),m.la.set("Unknown"),m.aa.delete(4),await Eh(m)}(this))})}),this.la=new Ux(r,o)}}async function Eh(n){if(Io(n))for(const e of n.ua)await e(!0)}async function Ou(n){for(const e of n.ua)await e(!1)}function JE(n,e){const t=We(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Gm(t)?Km(t):za(t).b_()&&qm(t,e))}function Hm(n,e){const t=We(n),r=za(t);t._a.delete(e),r.b_()&&XE(t,e),t._a.size===0&&(r.b_()?r.v_():Io(t)&&t.la.set("Unknown"))}function qm(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}za(n).U_(e)}function XE(n,e){n.ha.Ke(e),za(n).K_(e)}function Km(n){n.ha=new OP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),za(n).start(),n.la.ta()}function Gm(n){return Io(n)&&!za(n).w_()&&n._a.size>0}function Io(n){return We(n).aa.size===0}function eT(n){n.ha=void 0}async function $x(n){n.la.set("Online")}async function zx(n){n._a.forEach((e,t)=>{qm(n,e)})}async function Bx(n,e){eT(n),Gm(n)?(n.la.ia(e),Km(n)):n.la.set("Unknown")}async function Wx(n,e,t){if(n.la.set("Online"),e instanceof FE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o._a.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o._a.delete(h),o.ha.removeTarget(h))}(n,e)}catch(r){Ie(go,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zd(n,r)}else if(e instanceof Ed?n.ha.Xe(e):e instanceof ME?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Be.min()))try{const r=await QE(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.ha.It(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=a._a.get(m);_&&a._a.set(m,_.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const _=a._a.get(f);if(!_)return;a._a.set(f,_.withResumeToken(rn.EMPTY_BYTE_STRING,_.snapshotVersion)),XE(a,f);const E=new ds(_.target,f,m,_.sequenceNumber);qm(a,E)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){Ie(go,"Failed to raise snapshot:",r),await zd(n,r)}}async function zd(n,e,t){if(!$a(e))throw e;n.aa.add(1),await Ou(n),n.la.set("Offline"),t||(t=()=>QE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ie(go,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Eh(n)})}function tT(n,e){return e().catch(t=>zd(n,t,e))}async function Th(n){const e=We(n),t=Ts(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Nm;for(;Hx(e);)try{const o=await kx(e.localStore,r);if(o===null){e.oa.length===0&&t.v_();break}r=o.batchId,qx(e,o)}catch(o){await zd(e,o)}nT(e)&&rT(e)}function Hx(n){return Io(n)&&n.oa.length<10}function qx(n,e){n.oa.push(e);const t=Ts(n);t.b_()&&t.W_&&t.G_(e.mutations)}function nT(n){return Io(n)&&!Ts(n).w_()&&n.oa.length>0}function rT(n){Ts(n).start()}async function Kx(n){Ts(n).H_()}async function Gx(n){const e=Ts(n);for(const t of n.oa)e.G_(t.mutations)}async function Qx(n,e,t){const r=n.oa.shift(),o=Fm.from(r,e,t);await tT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Th(n)}async function Zx(n,e){e&&Ts(n).W_&&await async function(r,o){if(function(u){return bP(u)&&u!==te.ABORTED}(o.code)){const a=r.oa.shift();Ts(r).D_(),await tT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Th(r)}}(n,e),nT(n)&&rT(n)}async function Z_(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Ie(go,"RemoteStore received new credentials");const r=Io(t);t.aa.add(3),await Ou(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Eh(t)}async function Yx(n,e){const t=We(n);e?(t.aa.delete(2),await Eh(t)):e||(t.aa.add(2),await Ou(t),t.la.set("Unknown"))}function za(n){return n.Pa||(n.Pa=function(t,r,o){const a=We(t);return a.Y_(),new Vx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:$x.bind(null,n),Jo:zx.bind(null,n),Zo:Bx.bind(null,n),Q_:Wx.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Gm(n)?Km(n):n.la.set("Unknown")):(await n.Pa.stop(),eT(n))})),n.Pa}function Ts(n){return n.Ta||(n.Ta=function(t,r,o){const a=We(t);return a.Y_(),new Lx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:Kx.bind(null,n),Zo:Zx.bind(null,n),z_:Gx.bind(null,n),j_:Qx.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Th(n)):(await n.Ta.stop(),n.oa.length>0&&(Ie(go,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,h=new Qm(e,t,u,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(n,e){if(Ci("AsyncQueue",`${e}: ${n}`),$a(n))return new Re(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{static emptySet(e){return new Ta(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ve.comparator(t.key,r.key):(t,r)=>Ve.comparator(t.key,r.key),this.keyedMap=Ll(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ta)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.Ia=new kt(Ve.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ue(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class xa{constructor(e,t,r,o,a,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new xa(e,t,Ta.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Xx{constructor(){this.queries=J_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const o=We(t),a=o.queries;o.queries=J_(),a.forEach((u,h)=>{for(const f of h.Ra)f.onError(r)})})(this,new Re(te.ABORTED,"Firestore shutting down"))}}function J_(){return new To(n=>SE(n),mh)}async function eN(n,e){const t=We(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Va()&&e.ma()&&(r=2):(a=new Jx,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await t.onListen(o,!0);break;case 1:a.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=Zm(u,`Initialization of query '${pa(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&Ym(t)}async function tN(n,e){const t=We(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.Ra.indexOf(e);u>=0&&(a.Ra.splice(u,1),a.Ra.length===0?o=e.ma()?0:1:!a.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function nN(n,e){const t=We(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const h of u.Ra)h.pa(o)&&(r=!0);u.Aa=o}}r&&Ym(t)}function rN(n,e,t){const r=We(n),o=r.queries.get(e);if(o)for(const a of o.Ra)a.onError(t);r.queries.delete(e)}function Ym(n){n.fa.forEach(e=>{e.next()})}var tm,X_;(X_=tm||(tm={})).ya="default",X_.Cache="cache";class iN{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.key=e}}class sT{constructor(e){this.key=e}}class sN{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=nt(),this.mutatedKeys=nt(),this.Ua=AE(e),this.Ka=new Ta(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new Y_,o=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,E)=>{const T=o.get(_),b=gh(this.query,E)?E:null,D=!!T&&this.mutatedKeys.has(T.key),U=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let F=!1;T&&b?T.data.isEqual(b.data)?D!==U&&(r.track({type:3,doc:b}),F=!0):this.ja(T,b)||(r.track({type:2,doc:b}),F=!0,(f&&this.Ua(b,f)>0||m&&this.Ua(b,m)<0)&&(h=!0)):!T&&b?(r.track({type:0,doc:b}),F=!0):T&&!b&&(r.track({type:1,doc:T}),F=!0,(f||m)&&(h=!0)),F&&(b?(u=u.add(b),a=U?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{Ka:u,za:r,ys:h,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((_,E)=>function(b,D){const U=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:F})}};return U(b)-U(D)}(_.type,E.type)||this.Ua(_.doc,E.doc)),this.Ha(r),o=o!=null&&o;const h=t&&!o?this.Ja():[],f=this.$a.size===0&&this.current&&!o?1:0,m=f!==this.Qa;return this.Qa=f,u.length!==0||m?{snapshot:new xa(this.query,e.Ka,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Y_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=nt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new sT(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new iT(r))}),t}Xa(e){this.qa=e.Ns,this.$a=nt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return xa.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Jm="SyncEngine";class oN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class aN{constructor(e){this.key=e,this.tu=!1}}class lN{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new To(h=>SE(h),mh),this.iu=new Map,this.su=new Set,this.ou=new kt(Ve.comparator),this._u=new Map,this.au=new $m,this.uu={},this.cu=new Map,this.lu=Pa.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function uN(n,e,t=!0){const r=dT(n);let o;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.eu()):o=await oT(r,e,t,!0),o}async function cN(n,e){const t=dT(n);await oT(t,e,!0,!1)}async function oT(n,e,t,r){const o=await Cx(n.localStore,Hr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await dN(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&JE(n.remoteStore,o),h}async function dN(n,e,t,r,o){n.Pu=(E,T,b)=>async function(U,F,G,Q){let Y=F.view.Ga(G);Y.ys&&(Y=await H_(U.localStore,F.query,!1).then(({documents:N})=>F.view.Ga(N,Y)));const me=Q&&Q.targetChanges.get(F.targetId),Se=Q&&Q.targetMismatches.get(F.targetId)!=null,Te=F.view.applyChanges(Y,U.isPrimaryClient,me,Se);return tw(U,F.targetId,Te.Ya),Te.snapshot}(n,E,T,b);const a=await H_(n.localStore,e,!0),u=new sN(e,a.Ns),h=u.Ga(a.documents),f=Du.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(h,n.isPrimaryClient,f);tw(n,t,m.Ya);const _=new oN(e,t,u);return n.ru.set(e,_),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),m.snapshot}async function hN(n,e,t){const r=We(n),o=r.ru.get(e),a=r.iu.get(o.targetId);if(a.length>1)return r.iu.set(o.targetId,a.filter(u=>!mh(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Xp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Hm(r.remoteStore,o.targetId),nm(r,o.targetId)}).catch(ja)):(nm(r,o.targetId),await Xp(r.localStore,o.targetId,!0))}async function fN(n,e){const t=We(n),r=t.ru.get(e),o=t.iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Hm(t.remoteStore,r.targetId))}async function pN(n,e,t){const r=EN(n);try{const o=await function(u,h){const f=We(u),m=Ft.now(),_=h.reduce((b,D)=>b.add(D.key),nt());let E,T;return f.persistence.runTransaction("Locally write mutations","readwrite",b=>{let D=Ri(),U=nt();return f.Cs.getEntries(b,_).next(F=>{D=F,D.forEach((G,Q)=>{Q.isValidDocument()||(U=U.add(G))})}).next(()=>f.localDocuments.getOverlayedDocuments(b,D)).next(F=>{E=F;const G=[];for(const Q of h){const Y=CP(Q,E.get(Q.key).overlayedDocument);Y!=null&&G.push(new bs(Q.key,Y,mE(Y.value.mapValue),Ir.exists(!0)))}return f.mutationQueue.addMutationBatch(b,m,G,h)}).next(F=>{T=F;const G=F.applyToLocalDocumentSet(E,U);return f.documentOverlayCache.saveOverlays(b,F.batchId,G)})}).then(()=>({batchId:T.batchId,changes:CE(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,h,f){let m=u.uu[u.currentUser.toKey()];m||(m=new kt(Ze)),m=m.insert(h,f),u.uu[u.currentUser.toKey()]=m}(r,o.batchId,t),await Vu(r,o.changes),await Th(r.remoteStore)}catch(o){const a=Zm(o,"Failed to persist write");t.reject(a)}}async function aT(n,e){const t=We(n);try{const r=await Sx(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t._u.get(a);u&&(ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.tu=!0:o.modifiedDocuments.size>0?ut(u.tu,14607):o.removedDocuments.size>0&&(ut(u.tu,42227),u.tu=!1))}),await Vu(t,r,e)}catch(r){await ja(r)}}function ew(n,e,t){const r=We(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.ru.forEach((a,u)=>{const h=u.view.ga(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const f=We(u);f.onlineState=h;let m=!1;f.queries.forEach((_,E)=>{for(const T of E.Ra)T.ga(h)&&(m=!0)}),m&&Ym(f)}(r.eventManager,e),o.length&&r.nu.Q_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mN(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r._u.get(e),a=o&&o.key;if(a){let u=new kt(Ve.comparator);u=u.insert(a,hn.newNoDocument(a,Be.min()));const h=nt().add(a),f=new _h(Be.min(),new Map,new kt(Ze),u,h);await aT(r,f),r.ou=r.ou.remove(a),r._u.delete(e),Xm(r)}else await Xp(r.localStore,e,!1).then(()=>nm(r,e,t)).catch(ja)}async function gN(n,e){const t=We(n),r=e.batch.batchId;try{const o=await Ix(t.localStore,e);uT(t,r,null),lT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Vu(t,o)}catch(o){await ja(o)}}async function yN(n,e,t){const r=We(n);try{const o=await function(u,h){const f=We(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return f.mutationQueue.lookupMutationBatch(m,h).next(E=>(ut(E!==null,37113),_=E.keys(),f.mutationQueue.removeMutationBatch(m,E))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>f.localDocuments.getDocuments(m,_))})}(r.localStore,e);uT(r,e,t),lT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Vu(r,o)}catch(o){await ja(o)}}function lT(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function uT(n,e,t){const r=We(n);let o=r.uu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.uu[r.currentUser.toKey()]=o}}function nm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||cT(n,r)})}function cT(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Hm(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Xm(n))}function tw(n,e,t){for(const r of t)r instanceof iT?(n.au.addReference(r.key,e),vN(n,r)):r instanceof sT?(Ie(Jm,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||cT(n,r.key)):Ue(19791,{Iu:r})}function vN(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Ie(Jm,"New document in limbo: "+t),n.su.add(r),Xm(n))}function Xm(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ve(vt.fromString(e)),r=n.lu.next();n._u.set(r,new aN(t)),n.ou=n.ou.insert(t,r),JE(n.remoteStore,new ds(Hr(TE(t.path)),r,"TargetPurposeLimboResolution",hh.le))}}async function Vu(n,e,t){const r=We(n),o=[],a=[],u=[];r.ru.isEmpty()||(r.ru.forEach((h,f)=>{u.push(r.Pu(f,e,t).then(m=>{var _;if((m||t)&&r.isPrimaryClient){const E=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(m){o.push(m);const E=Bm.Ps(f.targetId,m);a.push(E)}}))}),await Promise.all(u),r.nu.Q_(o),await async function(f,m){const _=We(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ee.forEach(m,T=>ee.forEach(T.ls,b=>_.persistence.referenceDelegate.addReference(E,T.targetId,b)).next(()=>ee.forEach(T.hs,b=>_.persistence.referenceDelegate.removeReference(E,T.targetId,b)))))}catch(E){if(!$a(E))throw E;Ie(Wm,"Failed to update sequence numbers: "+E)}for(const E of m){const T=E.targetId;if(!E.fromCache){const b=_.Ss.get(T),D=b.snapshotVersion,U=b.withLastLimboFreeSnapshotVersion(D);_.Ss=_.Ss.insert(T,U)}}}(r.localStore,a))}async function _N(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Ie(Jm,"User change. New user:",e.toKey());const r=await GE(t.localStore,e);t.currentUser=e,function(a,u){a.cu.forEach(h=>{h.forEach(f=>{f.reject(new Re(te.CANCELLED,u))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vu(t,r.Ms)}}function wN(n,e){const t=We(n),r=t._u.get(e);if(r&&r.tu)return nt().add(r.key);{let o=nt();const a=t.iu.get(e);if(!a)return o;for(const u of a){const h=t.ru.get(u);o=o.unionWith(h.view.Wa)}return o}}function dT(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mN.bind(null,e),e.nu.Q_=nN.bind(null,e.eventManager),e.nu.Tu=rN.bind(null,e.eventManager),e}function EN(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yN.bind(null,e),e}class Bd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return Tx(this.persistence,new _x,e.initialUser,this.serializer)}Ru(e){return new KE(zm.Ei,this.serializer)}Au(e){return new Px}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bd.provider={build:()=>new Bd};class TN extends Bd{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){ut(this.persistence.referenceDelegate instanceof $d,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ix(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new KE(r=>$d.Ei(r,t),this.serializer)}}class rm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ew(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_N.bind(null,this.syncEngine),await Yx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Xx}()}createDatastore(e){const t=wh(e.databaseInfo.databaseId),r=function(a){return new Ox(a)}(e.databaseInfo);return function(a,u,h,f){return new Fx(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,h){return new jx(r,o,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>ew(this.syncEngine,t,0),function(){return G_.C()?new G_:new xx}())}createSyncEngine(e,t){return function(o,a,u,h,f,m,_){const E=new lN(o,a,u,h,f,m);return _&&(E.hu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=We(o);Ie(go,"RemoteStore shutting down."),a.aa.add(5),await Ou(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}rm.provider={build:()=>new rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="FirestoreClient";class SN{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=sE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{Ie(Is,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ie(Is,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Zm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ep(n,e){n.asyncQueue.verifyOperationInProgress(),Ie(Is,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await GE(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function nw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await AN(n);Ie(Is,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Z_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Z_(e.remoteStore,o)),n._onlineComponents=e}async function AN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ie(Is,"Using user provided OfflineComponentProvider");try{await Ep(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Aa("Error using user provided cache. Falling back to memory cache: "+t),await Ep(n,new Bd)}}else Ie(Is,"Using default OfflineComponentProvider"),await Ep(n,new TN(void 0));return n._offlineComponents}async function hT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ie(Is,"Using user provided OnlineComponentProvider"),await nw(n,n._uninitializedComponentsProvider._online)):(Ie(Is,"Using default OnlineComponentProvider"),await nw(n,new rm))),n._onlineComponents}function kN(n){return hT(n).then(e=>e.syncEngine)}async function CN(n){const e=await hT(n),t=e.eventManager;return t.onListen=uN.bind(null,e.syncEngine),t.onUnlisten=hN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fN.bind(null,e.syncEngine),t}function RN(n,e,t={}){const r=new gs;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,m){const _=new IN({next:T=>{_.yu(),u.enqueueAndForget(()=>tN(a,E)),T.fromCache&&f.source==="server"?m.reject(new Re(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),E=new iN(h,_,{includeMetadataChanges:!0,Fa:!0});return eN(a,E)}(await CN(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n,e,t){if(!t)throw new Re(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PN(n,e,t,r){if(e===!0&&r===!0)throw new Re(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iw(n){if(!Ve.isDocumentKey(n))throw new Re(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sw(n){if(Ve.isDocumentKey(n))throw new Re(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ih(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue(12329,{type:typeof n})}function yo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ih(n);throw new Re(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="firestore.googleapis.com",ow=!0;class aw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mT,this.ssl=ow}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ow;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nx)throw new Re(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Re(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Re(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Re(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bR;switch(r.type){case"firstParty":return new LR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,lh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=rw.get(t);r&&(Ie("ComponentProvider","Removing Datastore"),rw.delete(t),r.terminate())}(this),Promise.resolve()}}function xN(n,e,t,r={}){var o;n=yo(n,Sh);const a=Su(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;u.host!==mT&&u.host!==f&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:f,ssl:a,emulatorOptions:r});if(!co(m,h)&&(n._setSettings(m),a&&(c0(`https://${f}`),lh("Firestore",!0)),r.mockUserToken)){let _,E;if(typeof r.mockUserToken=="string")_=r.mockUserToken,E=dn.MOCK_USER;else{_=$1(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new Re(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new dn(T)}n._authCredentials=new DR(new rE(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ba(this.firestore,e,this._query)}}class Bn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class ys extends Ba{constructor(e,t,r){super(e,t,TE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new Ve(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function lw(n,e,...t){if(n=Zt(n),pT("collection","path",e),n instanceof Sh){const r=vt.fromString(e,...t);return sw(r),new ys(n,null,r)}{if(!(n instanceof Bn||n instanceof ys))throw new Re(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return sw(r),new ys(n.firestore,null,r)}}function im(n,e,...t){if(n=Zt(n),arguments.length===1&&(e=sE.newId()),pT("doc","path",e),n instanceof Sh){const r=vt.fromString(e,...t);return iw(r),new Bn(n,null,new Ve(r))}{if(!(n instanceof Bn||n instanceof ys))throw new Re(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return iw(r),new Bn(n.firestore,n instanceof ys?n.converter:null,new Ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="AsyncQueue";class cw{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new ZE(this,"async_queue_retry"),this.ju=()=>{const r=wp();r&&Ie(uw,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=wp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=wp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new gs;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!$a(e))throw e;Ie(uw,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ci("INTERNAL UNHANDLED ERROR: ",dw(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=Qm.createAndSchedule(this,e,t,r,a=>this.Xu(a));return this.Uu.push(o),o}Ju(){this.Ku&&Ue(47125,{ec:dw(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function dw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Lu extends Sh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new cw,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cw(e),this._firestoreClient=void 0,await e}}}function NN(n,e){const t=typeof n=="object"?n:p0(),r=typeof n=="string"?n:Vd,o=vm(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=U1("firestore");a&&xN(o,...a)}return o}function gT(n){if(n._terminated)throw new Re(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bN(n),n._firestoreClient}function bN(n){var e,t,r;const o=n._freezeSettings(),a=function(h,f,m,_){return new YR(h,f,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,fT(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new SN(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Na(rn.fromBase64String(e))}catch(t){throw new Re(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Na(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Re(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=/^__.*__$/;class ON{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new bu(e,this.data,t,this.fieldTransforms)}}class yT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{oc:n})}}class ng{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new ng(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:r,cc:!1});return o.lc(e),o}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:r,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Wd(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(vT(this.oc)&&DN.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class VN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||wh(e)}dc(e,t,r,o=!1){return new ng({oc:e,methodName:t,Ec:r,path:nn.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(n){const e=n._freezeSettings(),t=wh(n._databaseId);return new VN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LN(n,e,t,r,o,a={}){const u=n.dc(a.merge||a.mergeFields?2:0,e,t,o);sg("Data must be an object, but it was:",u,r);const h=_T(r,u);let f,m;if(a.merge)f=new zn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const T=sm(e,E,t);if(!u.contains(T))throw new Re(te.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);ET(_,T)||_.push(T)}f=new zn(_),m=u.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,m=u.fieldTransforms;return new ON(new Dn(h),f,m)}class Ch extends kh{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}class ig extends kh{_toFieldTransform(e){return new IP(e.path,new nu)}isEqual(e){return e instanceof ig}}function MN(n,e,t,r){const o=n.dc(1,e,t);sg("Data must be an object, but it was:",o,r);const a=[],u=Dn.empty();Ns(r,(f,m)=>{const _=og(e,f,t);m=Zt(m);const E=o.hc(_);if(m instanceof Ch)a.push(_);else{const T=Mu(m,E);T!=null&&(a.push(_),u.set(_,T))}});const h=new zn(a);return new yT(u,h,o.fieldTransforms)}function FN(n,e,t,r,o,a){const u=n.dc(1,e,t),h=[sm(e,r,t)],f=[o];if(a.length%2!=0)throw new Re(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(sm(e,a[T])),f.push(a[T+1]);const m=[],_=Dn.empty();for(let T=h.length-1;T>=0;--T)if(!ET(m,h[T])){const b=h[T];let D=f[T];D=Zt(D);const U=u.hc(b);if(D instanceof Ch)m.push(b);else{const F=Mu(D,U);F!=null&&(m.push(b),_.set(b,F))}}const E=new zn(m);return new yT(_,E,u.fieldTransforms)}function UN(n,e,t,r=!1){return Mu(t,n.dc(r?4:3,e))}function Mu(n,e){if(wT(n=Zt(n)))return sg("Unsupported field value:",e,n),_T(n,e);if(n instanceof kh)return function(r,o){if(!vT(o.oc))throw o.Tc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const h of r){let f=Mu(h,o.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wP(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ft.fromDate(r);return{timestampValue:jd(o.serializer,a)}}if(r instanceof Ft){const a=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jd(o.serializer,a)}}if(r instanceof eg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Na)return{bytesValue:UE(o.serializer,r._byteString)};if(r instanceof Bn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:jm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof tg)return function(u,h){return{mapValue:{fields:{[fE]:{stringValue:pE},[Ld]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.Tc("VectorValues must only contain numeric values.");return Lm(h.serializer,m)})}}}}}}(r,o);throw o.Tc(`Unsupported field value: ${Ih(r)}`)}(n,e)}function _T(n,e){const t={};return aE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(n,(r,o)=>{const a=Mu(o,e.uc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function wT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ft||n instanceof eg||n instanceof Na||n instanceof Bn||n instanceof kh||n instanceof tg)}function sg(n,e,t){if(!wT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=Ih(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function sm(n,e,t){if((e=Zt(e))instanceof Ah)return e._internalPath;if(typeof e=="string")return og(n,e);throw Wd("Field path arguments must be of type string or ",n,!1,void 0,t)}const jN=new RegExp("[~\\*/\\[\\]]");function og(n,e,t){if(e.search(jN)>=0)throw Wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ah(...e.split("."))._internalPath}catch{throw Wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wd(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new Re(te.INVALID_ARGUMENT,h+n+f)}function ET(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $N(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ag("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $N extends TT{data(){return super.data()}}function ag(n,e){return typeof e=="string"?og(n,e):e instanceof Ah?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Re(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lg{}class BN extends lg{}function WN(n,e,...t){let r=[];e instanceof lg&&r.push(e),r=r.concat(t),function(a){const u=a.filter(f=>f instanceof ug).length,h=a.filter(f=>f instanceof Rh).length;if(u>1||u>0&&h>0)throw new Re(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class Rh extends BN{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Rh(e,t,r)}_apply(e){const t=this._parse(e);return IT(e._query,t),new Ba(e.firestore,e.converter,Kp(e._query,t))}_parse(e){const t=rg(e.firestore);return function(a,u,h,f,m,_,E){let T;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Re(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){fw(E,_);const D=[];for(const U of E)D.push(hw(f,a,U));T={arrayValue:{values:D}}}else T=hw(f,a,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||fw(E,_),T=UN(h,u,E,_==="in"||_==="not-in");return Mt.create(m,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function HN(n,e,t){const r=e,o=ag("where",n);return Rh._create(o,r,t)}class ug extends lg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ug(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const h=a.getFlattenedFilters();for(const f of h)IT(u,f),u=Kp(u,f)}(e._query,t),new Ba(e.firestore,e.converter,Kp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hw(n,e,t){if(typeof(t=Zt(t))=="string"){if(t==="")throw new Re(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IE(e)&&t.indexOf("/")!==-1)throw new Re(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vt.fromString(t));if(!Ve.isDocumentKey(r))throw new Re(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return k_(n,new Ve(r))}if(t instanceof Bn)return k_(n,t._key);throw new Re(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(t)}.`)}function fw(n,e){if(!Array.isArray(n)||n.length===0)throw new Re(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IT(n,e){const t=function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Re(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qN{convertValue(e,t="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ns(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[Ld].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>Nt(u.doubleValue));return new tg(a)}convertGeoPoint(e){return new eg(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ph(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const t=_s(e);return new Ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vt.fromString(e);ut(HE(r),9688,{name:e});const o=new eu(r.get(1),r.get(3)),a=new Ve(r.popFirst(5));return o.isEqual(t)||Ci(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GN extends TT{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ag("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Td extends GN{data(e={}){return super.data(e)}}class QN{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ld(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Td(this._firestore,this._userDataWriter,r.key,r,new ld(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const f=new Td(o._firestore,o._userDataWriter,h.doc.key,h.doc,new ld(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Td(o._firestore,o._userDataWriter,h.doc.key,h.doc,new ld(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),_=u.indexOf(h.doc.key)),{type:ZN(h.type),doc:f,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ZN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:n})}}class YN extends qN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Na(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}function JN(n){n=yo(n,Ba);const e=yo(n.firestore,Lu),t=gT(e),r=new YN(e);return zN(n._query),RN(t,n._query).then(o=>new QN(e,r,n,o))}function XN(n,e,t,...r){n=yo(n,Bn);const o=yo(n.firestore,Lu),a=rg(o);let u;return u=typeof(e=Zt(e))=="string"||e instanceof Ah?FN(a,"updateDoc",n._key,e,t,r):MN(a,"updateDoc",n._key,e),cg(o,[u.toMutation(n._key,Ir.exists(!0))])}function eb(n){return cg(yo(n.firestore,Lu),[new Mm(n._key,Ir.none())])}function tb(n,e){const t=yo(n.firestore,Lu),r=im(n),o=KN(n.converter,e);return cg(t,[LN(rg(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then(()=>r)}function cg(n,e){return function(r,o){const a=new gs;return r.asyncQueue.enqueueAndForget(async()=>pN(await kN(r),o,a)),a.promise}(gT(n),e)}function nb(){return new ig("serverTimestamp")}(function(e,t=!0){(function(o){Ua=o})(Ma),Sa(new ho("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Lu(new OR(r.getProvider("auth-internal")),new MR(u,r.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Re(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(m.options.projectId,_)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),ps(p_,m_,e),ps(p_,m_,"esm2017")})();const rb={apiKey:"AIzaSyCbgfFnlIJFuIqF13anfvcSiddsxjiMg6s",authDomain:"apka-projekt.firebaseapp.com",projectId:"apka-projekt",storageBucket:"apka-projekt.firebasestorage.app",messagingSenderId:"724218181191",appId:"1:724218181191:web:8f2a710c40f08722882362",measurementId:"G-ESX1W1WN6Q"},ST=f0(rb),su=RR(ST),ud=NN(ST);var Fu=n=>n.type==="checkbox",lo=n=>n instanceof Date,Tn=n=>n==null;const AT=n=>typeof n=="object";var bt=n=>!Tn(n)&&!Array.isArray(n)&&AT(n)&&!lo(n),ib=n=>bt(n)&&n.target?Fu(n.target)?n.target.checked:n.target.value:n,sb=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,ob=(n,e)=>n.has(sb(e)),ab=n=>{const e=n.constructor&&n.constructor.prototype;return bt(e)&&e.hasOwnProperty("isPrototypeOf")},dg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cn(n){let e;const t=Array.isArray(n),r=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(dg&&(n instanceof Blob||r))&&(t||bt(n)))if(e=t?[]:{},!t&&!ab(n))e=n;else for(const o in n)n.hasOwnProperty(o)&&(e[o]=cn(n[o]));else return n;return e}var Ph=n=>Array.isArray(n)?n.filter(Boolean):[],Lt=n=>n===void 0,Ce=(n,e,t)=>{if(!e||!bt(n))return t;const r=Ph(e.split(/[,[\].]+?/)).reduce((o,a)=>Tn(o)?o:o[a],n);return Lt(r)||r===n?Lt(n[e])?t:n[e]:r},zr=n=>typeof n=="boolean",hg=n=>/^\w*$/.test(n),kT=n=>Ph(n.replace(/["|']|\]/g,"").split(/\.|\[/)),ht=(n,e,t)=>{let r=-1;const o=hg(e)?[e]:kT(e),a=o.length,u=a-1;for(;++r<a;){const h=o[r];let f=t;if(r!==u){const m=n[h];f=bt(m)||Array.isArray(m)?m:isNaN(+o[r+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;n[h]=f,n=n[h]}};const pw={BLUR:"blur",FOCUS_OUT:"focusout"},vr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},gi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Bt.createContext(null);var lb=(n,e,t,r=!0)=>{const o={defaultValues:e._defaultValues};for(const a in n)Object.defineProperty(o,a,{get:()=>{const u=a;return e._proxyFormState[u]!==vr.all&&(e._proxyFormState[u]=!r||vr.all),n[u]}});return o};const ub=typeof window<"u"?J.useLayoutEffect:J.useEffect;var Br=n=>typeof n=="string",cb=(n,e,t,r,o)=>Br(n)?(r&&e.watch.add(n),Ce(t,n,o)):Array.isArray(n)?n.map(a=>(r&&e.watch.add(a),Ce(t,a))):(r&&(e.watchAll=!0),t),CT=(n,e,t,r,o)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:o||!0}}:{},ql=n=>Array.isArray(n)?n:[n],mw=()=>{let n=[];return{get observers(){return n},next:o=>{for(const a of n)a.next&&a.next(o)},subscribe:o=>(n.push(o),{unsubscribe:()=>{n=n.filter(a=>a!==o)}}),unsubscribe:()=>{n=[]}}},om=n=>Tn(n)||!AT(n);function cs(n,e){if(om(n)||om(e))return n===e;if(lo(n)&&lo(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const o of t){const a=n[o];if(!r.includes(o))return!1;if(o!=="ref"){const u=e[o];if(lo(a)&&lo(u)||bt(a)&&bt(u)||Array.isArray(a)&&Array.isArray(u)?!cs(a,u):a!==u)return!1}}return!0}var En=n=>bt(n)&&!Object.keys(n).length,fg=n=>n.type==="file",_r=n=>typeof n=="function",Hd=n=>{if(!dg)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},RT=n=>n.type==="select-multiple",pg=n=>n.type==="radio",db=n=>pg(n)||Fu(n),Tp=n=>Hd(n)&&n.isConnected;function hb(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=Lt(n)?r++:n[e[r++]];return n}function fb(n){for(const e in n)if(n.hasOwnProperty(e)&&!Lt(n[e]))return!1;return!0}function zt(n,e){const t=Array.isArray(e)?e:hg(e)?[e]:kT(e),r=t.length===1?n:hb(n,t),o=t.length-1,a=t[o];return r&&delete r[a],o!==0&&(bt(r)&&En(r)||Array.isArray(r)&&fb(r))&&zt(n,t.slice(0,-1)),n}var PT=n=>{for(const e in n)if(_r(n[e]))return!0;return!1};function qd(n,e={}){const t=Array.isArray(n);if(bt(n)||t)for(const r in n)Array.isArray(n[r])||bt(n[r])&&!PT(n[r])?(e[r]=Array.isArray(n[r])?[]:{},qd(n[r],e[r])):Tn(n[r])||(e[r]=!0);return e}function xT(n,e,t){const r=Array.isArray(n);if(bt(n)||r)for(const o in n)Array.isArray(n[o])||bt(n[o])&&!PT(n[o])?Lt(e)||om(t[o])?t[o]=Array.isArray(n[o])?qd(n[o],[]):{...qd(n[o])}:xT(n[o],Tn(e)?{}:e[o],t[o]):t[o]=!cs(n[o],e[o]);return t}var Nl=(n,e)=>xT(n,e,qd(e));const gw={value:!1,isValid:!1},yw={value:!0,isValid:!0};var NT=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Lt(n[0].attributes.value)?Lt(n[0].value)||n[0].value===""?yw:{value:n[0].value,isValid:!0}:yw:gw}return gw},bT=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Lt(n)?n:e?n===""?NaN:n&&+n:t&&Br(n)?new Date(n):r?r(n):n;const vw={isValid:!1,value:null};var DT=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,vw):vw;function _w(n){const e=n.ref;return fg(e)?e.files:pg(e)?DT(n.refs).value:RT(e)?[...e.selectedOptions].map(({value:t})=>t):Fu(e)?NT(n.refs).value:bT(Lt(e.value)?n.ref.value:e.value,n)}var pb=(n,e,t,r)=>{const o={};for(const a of n){const u=Ce(e,a);u&&ht(o,a,u._f)}return{criteriaMode:t,names:[...n],fields:o,shouldUseNativeValidation:r}},Kd=n=>n instanceof RegExp,bl=n=>Lt(n)?n:Kd(n)?n.source:bt(n)?Kd(n.value)?n.value.source:n.value:n,ww=n=>({isOnSubmit:!n||n===vr.onSubmit,isOnBlur:n===vr.onBlur,isOnChange:n===vr.onChange,isOnAll:n===vr.all,isOnTouch:n===vr.onTouched});const Ew="AsyncFunction";var mb=n=>!!n&&!!n.validate&&!!(_r(n.validate)&&n.validate.constructor.name===Ew||bt(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===Ew)),gb=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),Tw=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const Kl=(n,e,t,r)=>{for(const o of t||Object.keys(n)){const a=Ce(n,o);if(a){const{_f:u,...h}=a;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],o)&&!r)return!0;if(u.ref&&e(u.ref,u.name)&&!r)return!0;if(Kl(h,e))break}else if(bt(h)&&Kl(h,e))break}}};function Iw(n,e,t){const r=Ce(n,t);if(r||hg(t))return{error:r,name:t};const o=t.split(".");for(;o.length;){const a=o.join("."),u=Ce(e,a),h=Ce(n,a);if(u&&!Array.isArray(u)&&t!==a)return{name:t};if(h&&h.type)return{name:a,error:h};o.pop()}return{name:t}}var yb=(n,e,t,r)=>{t(n);const{name:o,...a}=n;return En(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(u=>e[u]===(!r||vr.all))},vb=(n,e,t)=>!n||!e||n===e||ql(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),_b=(n,e,t,r,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(e||n):(t?r.isOnBlur:o.isOnBlur)?!n:(t?r.isOnChange:o.isOnChange)?n:!0,wb=(n,e)=>!Ph(Ce(n,e)).length&&zt(n,e),Eb=(n,e,t)=>{const r=ql(Ce(n,t));return ht(r,"root",e[t]),ht(n,t,r),n},Id=n=>Br(n);function Sw(n,e,t="validate"){if(Id(n)||Array.isArray(n)&&n.every(Id)||zr(n)&&!n)return{type:t,message:Id(n)?n:"",ref:e}}var ha=n=>bt(n)&&!Kd(n)?n:{value:n,message:""},Aw=async(n,e,t,r,o,a)=>{const{ref:u,refs:h,required:f,maxLength:m,minLength:_,min:E,max:T,pattern:b,validate:D,name:U,valueAsNumber:F,mount:G}=n._f,Q=Ce(t,U);if(!G||e.has(U))return{};const Y=h?h[0]:u,me=V=>{o&&Y.reportValidity&&(Y.setCustomValidity(zr(V)?"":V||""),Y.reportValidity())},Se={},Te=pg(u),N=Fu(u),A=Te||N,k=(F||fg(u))&&Lt(u.value)&&Lt(Q)||Hd(u)&&u.value===""||Q===""||Array.isArray(Q)&&!Q.length,R=CT.bind(null,U,r,Se),P=(V,S,fe,ae=gi.maxLength,ie=gi.minLength)=>{const de=V?S:fe;Se[U]={type:V?ae:ie,message:de,ref:u,...R(V?ae:ie,de)}};if(a?!Array.isArray(Q)||!Q.length:f&&(!A&&(k||Tn(Q))||zr(Q)&&!Q||N&&!NT(h).isValid||Te&&!DT(h).isValid)){const{value:V,message:S}=Id(f)?{value:!!f,message:f}:ha(f);if(V&&(Se[U]={type:gi.required,message:S,ref:Y,...R(gi.required,S)},!r))return me(S),Se}if(!k&&(!Tn(E)||!Tn(T))){let V,S;const fe=ha(T),ae=ha(E);if(!Tn(Q)&&!isNaN(Q)){const ie=u.valueAsNumber||Q&&+Q;Tn(fe.value)||(V=ie>fe.value),Tn(ae.value)||(S=ie<ae.value)}else{const ie=u.valueAsDate||new Date(Q),de=X=>new Date(new Date().toDateString()+" "+X),B=u.type=="time",se=u.type=="week";Br(fe.value)&&Q&&(V=B?de(Q)>de(fe.value):se?Q>fe.value:ie>new Date(fe.value)),Br(ae.value)&&Q&&(S=B?de(Q)<de(ae.value):se?Q<ae.value:ie<new Date(ae.value))}if((V||S)&&(P(!!V,fe.message,ae.message,gi.max,gi.min),!r))return me(Se[U].message),Se}if((m||_)&&!k&&(Br(Q)||a&&Array.isArray(Q))){const V=ha(m),S=ha(_),fe=!Tn(V.value)&&Q.length>+V.value,ae=!Tn(S.value)&&Q.length<+S.value;if((fe||ae)&&(P(fe,V.message,S.message),!r))return me(Se[U].message),Se}if(b&&!k&&Br(Q)){const{value:V,message:S}=ha(b);if(Kd(V)&&!Q.match(V)&&(Se[U]={type:gi.pattern,message:S,ref:u,...R(gi.pattern,S)},!r))return me(S),Se}if(D){if(_r(D)){const V=await D(Q,t),S=Sw(V,Y);if(S&&(Se[U]={...S,...R(gi.validate,S.message)},!r))return me(S.message),Se}else if(bt(D)){let V={};for(const S in D){if(!En(V)&&!r)break;const fe=Sw(await D[S](Q,t),Y,S);fe&&(V={...fe,...R(S,fe.message)},me(fe.message),r&&(Se[U]=V))}if(!En(V)&&(Se[U]={ref:Y,...V},!r))return Se}}return me(!0),Se};const Tb={mode:vr.onSubmit,reValidateMode:vr.onChange,shouldFocusError:!0};function Ib(n={}){let e={...Tb,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:_r(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let o=bt(e.defaultValues)||bt(e.values)?cn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:cn(o),u={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,m=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let E={..._};const T={array:mw(),state:mw()},b=ww(e.mode),D=ww(e.reValidateMode),U=e.criteriaMode===vr.all,F=x=>W=>{clearTimeout(m),m=setTimeout(x,W)},G=async x=>{if(!e.disabled&&(_.isValid||E.isValid||x)){const W=e.resolver?En((await k()).errors):await P(r,!0);W!==t.isValid&&T.state.next({isValid:W})}},Q=(x,W)=>{!e.disabled&&(_.isValidating||_.validatingFields||E.isValidating||E.validatingFields)&&((x||Array.from(h.mount)).forEach(Z=>{Z&&(W?ht(t.validatingFields,Z,W):zt(t.validatingFields,Z))}),T.state.next({validatingFields:t.validatingFields,isValidating:!En(t.validatingFields)}))},Y=(x,W=[],Z,ve,le=!0,ne=!0)=>{if(ve&&Z&&!e.disabled){if(u.action=!0,ne&&Array.isArray(Ce(r,x))){const _e=Z(Ce(r,x),ve.argA,ve.argB);le&&ht(r,x,_e)}if(ne&&Array.isArray(Ce(t.errors,x))){const _e=Z(Ce(t.errors,x),ve.argA,ve.argB);le&&ht(t.errors,x,_e),wb(t.errors,x)}if((_.touchedFields||E.touchedFields)&&ne&&Array.isArray(Ce(t.touchedFields,x))){const _e=Z(Ce(t.touchedFields,x),ve.argA,ve.argB);le&&ht(t.touchedFields,x,_e)}(_.dirtyFields||E.dirtyFields)&&(t.dirtyFields=Nl(o,a)),T.state.next({name:x,isDirty:S(x,W),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else ht(a,x,W)},me=(x,W)=>{ht(t.errors,x,W),T.state.next({errors:t.errors})},Se=x=>{t.errors=x,T.state.next({errors:t.errors,isValid:!1})},Te=(x,W,Z,ve)=>{const le=Ce(r,x);if(le){const ne=Ce(a,x,Lt(Z)?Ce(o,x):Z);Lt(ne)||ve&&ve.defaultChecked||W?ht(a,x,W?ne:_w(le._f)):ie(x,ne),u.mount&&G()}},N=(x,W,Z,ve,le)=>{let ne=!1,_e=!1;const Je={name:x};if(!e.disabled){if(!Z||ve){(_.isDirty||E.isDirty)&&(_e=t.isDirty,t.isDirty=Je.isDirty=S(),ne=_e!==Je.isDirty);const ct=cs(Ce(o,x),W);_e=!!Ce(t.dirtyFields,x),ct?zt(t.dirtyFields,x):ht(t.dirtyFields,x,!0),Je.dirtyFields=t.dirtyFields,ne=ne||(_.dirtyFields||E.dirtyFields)&&_e!==!ct}if(Z){const ct=Ce(t.touchedFields,x);ct||(ht(t.touchedFields,x,Z),Je.touchedFields=t.touchedFields,ne=ne||(_.touchedFields||E.touchedFields)&&ct!==Z)}ne&&le&&T.state.next(Je)}return ne?Je:{}},A=(x,W,Z,ve)=>{const le=Ce(t.errors,x),ne=(_.isValid||E.isValid)&&zr(W)&&t.isValid!==W;if(e.delayError&&Z?(f=F(()=>me(x,Z)),f(e.delayError)):(clearTimeout(m),f=null,Z?ht(t.errors,x,Z):zt(t.errors,x)),(Z?!cs(le,Z):le)||!En(ve)||ne){const _e={...ve,...ne&&zr(W)?{isValid:W}:{},errors:t.errors,name:x};t={...t,..._e},T.state.next(_e)}},k=async x=>{Q(x,!0);const W=await e.resolver(a,e.context,pb(x||h.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return Q(x),W},R=async x=>{const{errors:W}=await k(x);if(x)for(const Z of x){const ve=Ce(W,Z);ve?ht(t.errors,Z,ve):zt(t.errors,Z)}else t.errors=W;return W},P=async(x,W,Z={valid:!0})=>{for(const ve in x){const le=x[ve];if(le){const{_f:ne,..._e}=le;if(ne){const Je=h.array.has(ne.name),ct=le._f&&mb(le._f);ct&&_.validatingFields&&Q([ve],!0);const _t=await Aw(le,h.disabled,a,U,e.shouldUseNativeValidation&&!W,Je);if(ct&&_.validatingFields&&Q([ve]),_t[ne.name]&&(Z.valid=!1,W))break;!W&&(Ce(_t,ne.name)?Je?Eb(t.errors,_t,ne.name):ht(t.errors,ne.name,_t[ne.name]):zt(t.errors,ne.name))}!En(_e)&&await P(_e,W,Z)}}return Z.valid},V=()=>{for(const x of h.unMount){const W=Ce(r,x);W&&(W._f.refs?W._f.refs.every(Z=>!Tp(Z)):!Tp(W._f.ref))&&Ye(x)}h.unMount=new Set},S=(x,W)=>!e.disabled&&(x&&W&&ht(a,x,W),!cs(K(),o)),fe=(x,W,Z)=>cb(x,h,{...u.mount?a:Lt(W)?o:Br(x)?{[x]:W}:W},Z,W),ae=x=>Ph(Ce(u.mount?a:o,x,e.shouldUnregister?Ce(o,x,[]):[])),ie=(x,W,Z={})=>{const ve=Ce(r,x);let le=W;if(ve){const ne=ve._f;ne&&(!ne.disabled&&ht(a,x,bT(W,ne)),le=Hd(ne.ref)&&Tn(W)?"":W,RT(ne.ref)?[...ne.ref.options].forEach(_e=>_e.selected=le.includes(_e.value)):ne.refs?Fu(ne.ref)?ne.refs.length>1?ne.refs.forEach(_e=>(!_e.defaultChecked||!_e.disabled)&&(_e.checked=Array.isArray(le)?!!le.find(Je=>Je===_e.value):le===_e.value)):ne.refs[0]&&(ne.refs[0].checked=!!le):ne.refs.forEach(_e=>_e.checked=_e.value===le):fg(ne.ref)?ne.ref.value="":(ne.ref.value=le,ne.ref.type||T.state.next({name:x,values:cn(a)})))}(Z.shouldDirty||Z.shouldTouch)&&N(x,le,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&L(x)},de=(x,W,Z)=>{for(const ve in W){const le=W[ve],ne=`${x}.${ve}`,_e=Ce(r,ne);(h.array.has(x)||bt(le)||_e&&!_e._f)&&!lo(le)?de(ne,le,Z):ie(ne,le,Z)}},B=(x,W,Z={})=>{const ve=Ce(r,x),le=h.array.has(x),ne=cn(W);ht(a,x,ne),le?(T.array.next({name:x,values:cn(a)}),(_.isDirty||_.dirtyFields||E.isDirty||E.dirtyFields)&&Z.shouldDirty&&T.state.next({name:x,dirtyFields:Nl(o,a),isDirty:S(x,ne)})):ve&&!ve._f&&!Tn(ne)?de(x,ne,Z):ie(x,ne,Z),Tw(x,h)&&T.state.next({...t}),T.state.next({name:u.mount?x:void 0,values:cn(a)})},se=async x=>{u.mount=!0;const W=x.target;let Z=W.name,ve=!0;const le=Ce(r,Z),ne=_e=>{ve=Number.isNaN(_e)||lo(_e)&&isNaN(_e.getTime())||cs(_e,Ce(a,Z,_e))};if(le){let _e,Je;const ct=W.type?_w(le._f):ib(x),_t=x.type===pw.BLUR||x.type===pw.FOCUS_OUT,Xr=!gb(le._f)&&!e.resolver&&!Ce(t.errors,Z)&&!le._f.deps||_b(_t,Ce(t.touchedFields,Z),t.isSubmitted,D,b),ei=Tw(Z,h,_t);ht(a,Z,ct),_t?(le._f.onBlur&&le._f.onBlur(x),f&&f(0)):le._f.onChange&&le._f.onChange(x);const ti=N(Z,ct,_t),Ds=!En(ti)||ei;if(!_t&&T.state.next({name:Z,type:x.type,values:cn(a)}),Xr)return(_.isValid||E.isValid)&&(e.mode==="onBlur"?_t&&G():_t||G()),Ds&&T.state.next({name:Z,...ei?{}:ti});if(!_t&&ei&&T.state.next({...t}),e.resolver){const{errors:Li}=await k([Z]);if(ne(ct),ve){const Os=Iw(t.errors,r,Z),Pr=Iw(Li,r,Os.name||Z);_e=Pr.error,Z=Pr.name,Je=En(Li)}}else Q([Z],!0),_e=(await Aw(le,h.disabled,a,U,e.shouldUseNativeValidation))[Z],Q([Z]),ne(ct),ve&&(_e?Je=!1:(_.isValid||E.isValid)&&(Je=await P(r,!0)));ve&&(le._f.deps&&L(le._f.deps),A(Z,Je,_e,ti))}},X=(x,W)=>{if(Ce(t.errors,W)&&x.focus)return x.focus(),1},L=async(x,W={})=>{let Z,ve;const le=ql(x);if(e.resolver){const ne=await R(Lt(x)?x:le);Z=En(ne),ve=x?!le.some(_e=>Ce(ne,_e)):Z}else x?(ve=(await Promise.all(le.map(async ne=>{const _e=Ce(r,ne);return await P(_e&&_e._f?{[ne]:_e}:_e)}))).every(Boolean),!(!ve&&!t.isValid)&&G()):ve=Z=await P(r);return T.state.next({...!Br(x)||(_.isValid||E.isValid)&&Z!==t.isValid?{}:{name:x},...e.resolver||!x?{isValid:Z}:{},errors:t.errors}),W.shouldFocus&&!ve&&Kl(r,X,x?le:h.mount),ve},K=x=>{const W={...u.mount?a:o};return Lt(x)?W:Br(x)?Ce(W,x):x.map(Z=>Ce(W,Z))},ge=(x,W)=>({invalid:!!Ce((W||t).errors,x),isDirty:!!Ce((W||t).dirtyFields,x),error:Ce((W||t).errors,x),isValidating:!!Ce(t.validatingFields,x),isTouched:!!Ce((W||t).touchedFields,x)}),De=x=>{x&&ql(x).forEach(W=>zt(t.errors,W)),T.state.next({errors:x?t.errors:{}})},Oe=(x,W,Z)=>{const ve=(Ce(r,x,{_f:{}})._f||{}).ref,le=Ce(t.errors,x)||{},{ref:ne,message:_e,type:Je,...ct}=le;ht(t.errors,x,{...ct,...W,ref:ve}),T.state.next({name:x,errors:t.errors,isValid:!1}),Z&&Z.shouldFocus&&ve&&ve.focus&&ve.focus()},He=(x,W)=>_r(x)?T.state.subscribe({next:Z=>x(fe(void 0,W),Z)}):fe(x,W,!0),qe=x=>T.state.subscribe({next:W=>{vb(x.name,W.name,x.exact)&&yb(W,x.formState||_,Vi,x.reRenderRoot)&&x.callback({values:{...a},...t,...W})}}).unsubscribe,Qe=x=>(u.mount=!0,E={...E,...x.formState},qe({...x,formState:E})),Ye=(x,W={})=>{for(const Z of x?ql(x):h.mount)h.mount.delete(Z),h.array.delete(Z),W.keepValue||(zt(r,Z),zt(a,Z)),!W.keepError&&zt(t.errors,Z),!W.keepDirty&&zt(t.dirtyFields,Z),!W.keepTouched&&zt(t.touchedFields,Z),!W.keepIsValidating&&zt(t.validatingFields,Z),!e.shouldUnregister&&!W.keepDefaultValue&&zt(o,Z);T.state.next({values:cn(a)}),T.state.next({...t,...W.keepDirty?{isDirty:S()}:{}}),!W.keepIsValid&&G()},et=({disabled:x,name:W})=>{(zr(x)&&u.mount||x||h.disabled.has(W))&&(x?h.disabled.add(W):h.disabled.delete(W))},Ct=(x,W={})=>{let Z=Ce(r,x);const ve=zr(W.disabled)||zr(e.disabled);return ht(r,x,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:x}},name:x,mount:!0,...W}}),h.mount.add(x),Z?et({disabled:zr(W.disabled)?W.disabled:e.disabled,name:x}):Te(x,!0,W.value),{...ve?{disabled:W.disabled||e.disabled}:{},...e.progressive?{required:!!W.required,min:bl(W.min),max:bl(W.max),minLength:bl(W.minLength),maxLength:bl(W.maxLength),pattern:bl(W.pattern)}:{},name:x,onChange:se,onBlur:se,ref:le=>{if(le){Ct(x,W),Z=Ce(r,x);const ne=Lt(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,_e=db(ne),Je=Z._f.refs||[];if(_e?Je.find(ct=>ct===ne):ne===Z._f.ref)return;ht(r,x,{_f:{...Z._f,..._e?{refs:[...Je.filter(Tp),ne,...Array.isArray(Ce(o,x))?[{}]:[]],ref:{type:ne.type,name:x}}:{ref:ne}}}),Te(x,!1,void 0,ne)}else Z=Ce(r,x,{}),Z._f&&(Z._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(ob(h.array,x)&&u.action)&&h.unMount.add(x)}}},mn=()=>e.shouldFocusError&&Kl(r,X,h.mount),gn=x=>{zr(x)&&(T.state.next({disabled:x}),Kl(r,(W,Z)=>{const ve=Ce(r,Z);ve&&(W.disabled=ve._f.disabled||x,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(le=>{le.disabled=ve._f.disabled||x}))},0,!1))},Cr=(x,W)=>async Z=>{let ve;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let le=cn(a);if(T.state.next({isSubmitting:!0}),e.resolver){const{errors:ne,values:_e}=await k();t.errors=ne,le=_e}else await P(r);if(h.disabled.size)for(const ne of h.disabled)ht(le,ne,void 0);if(zt(t.errors,"root"),En(t.errors)){T.state.next({errors:{}});try{await x(le,Z)}catch(ne){ve=ne}}else W&&await W({...t.errors},Z),mn(),setTimeout(mn);if(T.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:En(t.errors)&&!ve,submitCount:t.submitCount+1,errors:t.errors}),ve)throw ve},bi=(x,W={})=>{Ce(r,x)&&(Lt(W.defaultValue)?B(x,cn(Ce(o,x))):(B(x,W.defaultValue),ht(o,x,cn(W.defaultValue))),W.keepTouched||zt(t.touchedFields,x),W.keepDirty||(zt(t.dirtyFields,x),t.isDirty=W.defaultValue?S(x,cn(Ce(o,x))):S()),W.keepError||(zt(t.errors,x),_.isValid&&G()),T.state.next({...t}))},Di=(x,W={})=>{const Z=x?cn(x):o,ve=cn(Z),le=En(x),ne=le?o:ve;if(W.keepDefaultValues||(o=Z),!W.keepValues){if(W.keepDirtyValues){const _e=new Set([...h.mount,...Object.keys(Nl(o,a))]);for(const Je of Array.from(_e))Ce(t.dirtyFields,Je)?ht(ne,Je,Ce(a,Je)):B(Je,Ce(ne,Je))}else{if(dg&&Lt(x))for(const _e of h.mount){const Je=Ce(r,_e);if(Je&&Je._f){const ct=Array.isArray(Je._f.refs)?Je._f.refs[0]:Je._f.ref;if(Hd(ct)){const _t=ct.closest("form");if(_t){_t.reset();break}}}}for(const _e of h.mount)B(_e,Ce(ne,_e))}a=cn(ne),T.array.next({values:{...ne}}),T.state.next({values:{...ne}})}h={mount:W.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!_.isValid||!!W.keepIsValid||!!W.keepDirtyValues,u.watch=!!e.shouldUnregister,T.state.next({submitCount:W.keepSubmitCount?t.submitCount:0,isDirty:le?!1:W.keepDirty?t.isDirty:!!(W.keepDefaultValues&&!cs(x,o)),isSubmitted:W.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:le?{}:W.keepDirtyValues?W.keepDefaultValues&&a?Nl(o,a):t.dirtyFields:W.keepDefaultValues&&x?Nl(o,x):W.keepDirty?t.dirtyFields:{},touchedFields:W.keepTouched?t.touchedFields:{},errors:W.keepErrors?t.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Oi=(x,W)=>Di(_r(x)?x(a):x,W),So=(x,W={})=>{const Z=Ce(r,x),ve=Z&&Z._f;if(ve){const le=ve.refs?ve.refs[0]:ve.ref;le.focus&&(le.focus(),W.shouldSelect&&_r(le.select)&&le.select())}},Vi=x=>{t={...t,...x}},Hn={control:{register:Ct,unregister:Ye,getFieldState:ge,handleSubmit:Cr,setError:Oe,_subscribe:qe,_runSchema:k,_getWatch:fe,_getDirty:S,_setValid:G,_setFieldArray:Y,_setDisabledField:et,_setErrors:Se,_getFieldArray:ae,_reset:Di,_resetDefaultValues:()=>_r(e.defaultValues)&&e.defaultValues().then(x=>{Oi(x,e.resetOptions),T.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:gn,_subjects:T,_proxyFormState:_,get _fields(){return r},get _formValues(){return a},get _state(){return u},set _state(x){u=x},get _defaultValues(){return o},get _names(){return h},set _names(x){h=x},get _formState(){return t},get _options(){return e},set _options(x){e={...e,...x}}},subscribe:Qe,trigger:L,register:Ct,handleSubmit:Cr,watch:He,setValue:B,getValues:K,reset:Oi,resetField:bi,clearErrors:De,unregister:Ye,setError:Oe,setFocus:So,getFieldState:ge};return{...Hn,formControl:Hn}}function Sb(n={}){const e=Bt.useRef(void 0),t=Bt.useRef(void 0),[r,o]=Bt.useState({isDirty:!1,isValidating:!1,isLoading:_r(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:_r(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...n.formControl?n.formControl:Ib(n),formState:r},n.formControl&&n.defaultValues&&!_r(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions));const a=e.current.control;return a._options=n,ub(()=>{const u=a._subscribe({formState:a._proxyFormState,callback:()=>o({...a._formState}),reRenderRoot:!0});return o(h=>({...h,isReady:!0})),a._formState.isReady=!0,u},[a]),Bt.useEffect(()=>a._disableForm(n.disabled),[a,n.disabled]),Bt.useEffect(()=>{n.mode&&(a._options.mode=n.mode),n.reValidateMode&&(a._options.reValidateMode=n.reValidateMode),n.errors&&!En(n.errors)&&a._setErrors(n.errors)},[a,n.errors,n.mode,n.reValidateMode]),Bt.useEffect(()=>{n.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,n.shouldUnregister]),Bt.useEffect(()=>{if(a._proxyFormState.isDirty){const u=a._getDirty();u!==r.isDirty&&a._subjects.state.next({isDirty:u})}},[a,r.isDirty]),Bt.useEffect(()=>{n.values&&!cs(n.values,t.current)?(a._reset(n.values,a._options.resetOptions),t.current=n.values,o(u=>({...u}))):a._resetDefaultValues()},[a,n.values]),Bt.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=lb(r,a),e.current}const kw=(n,e,t)=>{if(n&&"reportValidity"in n){const r=Ce(t,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},OT=(n,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?kw(r.ref,t,n):r&&r.refs&&r.refs.forEach(o=>kw(o,t,n))}},Ab=(n,e)=>{e.shouldUseNativeValidation&&OT(n,e);const t={};for(const r in n){const o=Ce(e.fields,r),a=Object.assign(n[r]||{},{ref:o&&o.ref});if(kb(e.names||Object.keys(n),r)){const u=Object.assign({},Ce(t,r));ht(u,"root",a),ht(t,r,u)}else ht(t,r,a)}return t},kb=(n,e)=>{const t=Cw(e);return n.some(r=>Cw(r).match(`^${t}\\.\\d+`))};function Cw(n){return n.replace(/\]|\[/g,"")}function Cb(n,e){for(var t={};n.length;){var r=n[0],o=r.code,a=r.message,u=r.path.join(".");if(!t[u])if("unionErrors"in r){var h=r.unionErrors[0].errors[0];t[u]={message:h.message,type:h.code}}else t[u]={message:a,type:o};if("unionErrors"in r&&r.unionErrors.forEach(function(_){return _.errors.forEach(function(E){return n.push(E)})}),e){var f=t[u].types,m=f&&f[r.code];t[u]=CT(u,e,t,o,m?[].concat(m,r.message):r.message)}n.shift()}return t}function Rb(n,e,t){return t===void 0&&(t={}),function(r,o,a){try{return Promise.resolve(function(u,h){try{var f=Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(m){return a.shouldUseNativeValidation&&OT({},a),{errors:{},values:t.raw?Object.assign({},r):m}})}catch(m){return h(m)}return f&&f.then?f.then(void 0,h):f}(0,function(u){if(function(h){return Array.isArray(h==null?void 0:h.errors)}(u))return{values:{},errors:Ab(Cb(u.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw u}))}catch(u){return Promise.reject(u)}}}var ot;(function(n){n.assertEqual=o=>o;function e(o){}n.assertIs=e;function t(o){throw new Error}n.assertNever=t,n.arrayToEnum=o=>{const a={};for(const u of o)a[u]=u;return a},n.getValidEnumValues=o=>{const a=n.objectKeys(o).filter(h=>typeof o[o[h]]!="number"),u={};for(const h of a)u[h]=o[h];return n.objectValues(u)},n.objectValues=o=>n.objectKeys(o).map(function(a){return o[a]}),n.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&a.push(u);return a},n.find=(o,a)=>{for(const u of o)if(a(u))return u},n.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function r(o,a=" | "){return o.map(u=>typeof u=="string"?`'${u}'`:u).join(a)}n.joinValues=r,n.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(ot||(ot={}));var am;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(am||(am={}));const Ee=ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vi=n=>{switch(typeof n){case"undefined":return Ee.undefined;case"string":return Ee.string;case"number":return isNaN(n)?Ee.nan:Ee.number;case"boolean":return Ee.boolean;case"function":return Ee.function;case"bigint":return Ee.bigint;case"symbol":return Ee.symbol;case"object":return Array.isArray(n)?Ee.array:n===null?Ee.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Ee.promise:typeof Map<"u"&&n instanceof Map?Ee.map:typeof Set<"u"&&n instanceof Set?Ee.set:typeof Date<"u"&&n instanceof Date?Ee.date:Ee.object;default:return Ee.unknown}},ce=ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Pb=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Wn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(a){return a.message},r={_errors:[]},o=a=>{for(const u of a.issues)if(u.code==="invalid_union")u.unionErrors.map(o);else if(u.code==="invalid_return_type")o(u.returnTypeError);else if(u.code==="invalid_arguments")o(u.argumentsError);else if(u.path.length===0)r._errors.push(t(u));else{let h=r,f=0;for(;f<u.path.length;){const m=u.path[f];f===u.path.length-1?(h[m]=h[m]||{_errors:[]},h[m]._errors.push(t(u))):h[m]=h[m]||{_errors:[]},h=h[m],f++}}};return o(this),r}static assert(e){if(!(e instanceof Wn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const o of this.issues)o.path.length>0?(t[o.path[0]]=t[o.path[0]]||[],t[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Wn.create=n=>new Wn(n);const ba=(n,e)=>{let t;switch(n.code){case ce.invalid_type:n.received===Ee.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ce.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,ot.jsonStringifyReplacer)}`;break;case ce.unrecognized_keys:t=`Unrecognized key(s) in object: ${ot.joinValues(n.keys,", ")}`;break;case ce.invalid_union:t="Invalid input";break;case ce.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ot.joinValues(n.options)}`;break;case ce.invalid_enum_value:t=`Invalid enum value. Expected ${ot.joinValues(n.options)}, received '${n.received}'`;break;case ce.invalid_arguments:t="Invalid function arguments";break;case ce.invalid_return_type:t="Invalid function return type";break;case ce.invalid_date:t="Invalid date";break;case ce.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:ot.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ce.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ce.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ce.custom:t="Invalid input";break;case ce.invalid_intersection_types:t="Intersection results could not be merged";break;case ce.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ce.not_finite:t="Number must be finite";break;default:t=e.defaultError,ot.assertNever(n)}return{message:t}};let VT=ba;function xb(n){VT=n}function Gd(){return VT}const Qd=n=>{const{data:e,path:t,errorMaps:r,issueData:o}=n,a=[...t,...o.path||[]],u={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let h="";const f=r.filter(m=>!!m).slice().reverse();for(const m of f)h=m(u,{data:e,defaultError:h}).message;return{...o,path:a,message:h}},Nb=[];function ye(n,e){const t=Gd(),r=Qd({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===ba?void 0:ba].filter(o=>!!o)});n.common.issues.push(r)}class pn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const o of t){if(o.status==="aborted")return $e;o.status==="dirty"&&e.dirty(),r.push(o.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const o of t){const a=await o.key,u=await o.value;r.push({key:a,value:u})}return pn.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const o of t){const{key:a,value:u}=o;if(a.status==="aborted"||u.status==="aborted")return $e;a.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof u.value<"u"||o.alwaysSet)&&(r[a.value]=u.value)}return{status:e.value,value:r}}}const $e=Object.freeze({status:"aborted"}),va=n=>({status:"dirty",value:n}),In=n=>({status:"valid",value:n}),lm=n=>n.status==="aborted",um=n=>n.status==="dirty",vo=n=>n.status==="valid",ou=n=>typeof Promise<"u"&&n instanceof Promise;function Zd(n,e,t,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function LT(n,e,t,r,o){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Ne;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ne||(Ne={}));var Fl,Ul;class Zr{constructor(e,t,r,o){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Rw=(n,e)=>{if(vo(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Wn(n.common.issues);return this._error=t,this._error}}};function Ke(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:o}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(u,h)=>{var f,m;const{message:_}=n;return u.code==="invalid_enum_value"?{message:_??h.defaultError}:typeof h.data>"u"?{message:(f=_??r)!==null&&f!==void 0?f:h.defaultError}:u.code!=="invalid_type"?{message:h.defaultError}:{message:(m=_??t)!==null&&m!==void 0?m:h.defaultError}},description:o}}class Ge{get description(){return this._def.description}_getType(e){return vi(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:vi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new pn,ctx:{common:e.parent.common,data:e.data,parsedType:vi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ou(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const o={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vi(e)},a=this._parseSync({data:e,path:o.path,parent:o});return Rw(o,a)}"~validate"(e){var t,r;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vi(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:o});return vo(a)?{value:a.value}:{issues:o.common.issues}}catch(a){!((r=(t=a==null?void 0:a.message)===null||t===void 0?void 0:t.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(a=>vo(a)?{value:a.value}:{issues:o.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vi(e)},o=this._parse({data:e,path:r.path,parent:r}),a=await(ou(o)?o:Promise.resolve(o));return Rw(r,a)}refine(e,t){const r=o=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(o):t;return this._refinement((o,a)=>{const u=e(o),h=()=>a.addIssue({code:ce.custom,...r(o)});return typeof Promise<"u"&&u instanceof Promise?u.then(f=>f?!0:(h(),!1)):u?!0:(h(),!1)})}refinement(e,t){return this._refinement((r,o)=>e(r)?!0:(o.addIssue(typeof t=="function"?t(r,o):t),!1))}_refinement(e){return new kr({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Kr.create(this,this._def)}nullable(){return Cs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sr.create(this)}promise(){return Oa.create(this,this._def)}or(e){return cu.create([this,e],this._def)}and(e){return du.create(this,e,this._def)}transform(e){return new kr({...Ke(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new gu({...Ke(this._def),innerType:this,defaultValue:t,typeName:je.ZodDefault})}brand(){return new mg({typeName:je.ZodBranded,type:this,...Ke(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new yu({...Ke(this._def),innerType:this,catchValue:t,typeName:je.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Uu.create(this,e)}readonly(){return vu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const bb=/^c[^\s-]{8,}$/i,Db=/^[0-9a-z]+$/,Ob=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Vb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Lb=/^[a-z0-9_-]{21}$/i,Mb=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Fb=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ub=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jb="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ip;const $b=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Bb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Wb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Hb=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qb=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,MT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Kb=new RegExp(`^${MT}$`);function FT(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Gb(n){return new RegExp(`^${FT(n)}$`)}function UT(n){let e=`${MT}T${FT(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Qb(n,e){return!!((e==="v4"||!e)&&$b.test(n)||(e==="v6"||!e)&&Bb.test(n))}function Zb(n,e){if(!Mb.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),o=JSON.parse(atob(r));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function Yb(n,e){return!!((e==="v4"||!e)&&zb.test(n)||(e==="v6"||!e)&&Wb.test(n))}class Er extends Ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ee.string){const a=this._getOrReturnCtx(e);return ye(a,{code:ce.invalid_type,expected:Ee.string,received:a.parsedType}),$e}const r=new pn;let o;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(o=this._getOrReturnCtx(e,o),ye(o,{code:ce.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(o=this._getOrReturnCtx(e,o),ye(o,{code:ce.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const u=e.data.length>a.value,h=e.data.length<a.value;(u||h)&&(o=this._getOrReturnCtx(e,o),u?ye(o,{code:ce.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):h&&ye(o,{code:ce.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Ub.test(e.data)||(o=this._getOrReturnCtx(e,o),ye(o,{validation:"email",code:ce.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Ip||(Ip=new RegExp(jb,"u")),Ip.test(e.data)||(o=this._getOrReturnCtx(e,o),ye(o,{validation:"emoji",code:ce.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Vb.test(e.data)||(o=this._getOrReturnCtx(e,o),ye(o,{validation:"uuid",code:ce.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Lb.test(e.data)||(o=this._getOrReturnCtx(e,o),ye(o,{validation:"nanoid",code:ce.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")bb.test(e.data)||(o=this._getOrReturnCtx(e,o),ye(o,{validation:"cuid",code:ce.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Db.test(e.data)||(o=this._getOrReturnCtx(e,o),ye(o,{validation:"cuid2",code:ce.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Ob.test(e.data)||(o=this._getOrReturnCtx(e,o),ye(o,{validation:"ulid",code:ce.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),ye(o,{validation:"url",code:ce.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),ye(o,{validation:"regex",code:ce.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(e,o),ye(o,{code:ce.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(o=this._getOrReturnCtx(e,o),ye(o,{code:ce.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(o=this._getOrReturnCtx(e,o),ye(o,{code:ce.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?UT(a).test(e.data)||(o=this._getOrReturnCtx(e,o),ye(o,{code:ce.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Kb.test(e.data)||(o=this._getOrReturnCtx(e,o),ye(o,{code:ce.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Gb(a).test(e.data)||(o=this._getOrReturnCtx(e,o),ye(o,{code:ce.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?Fb.test(e.data)||(o=this._getOrReturnCtx(e,o),ye(o,{validation:"duration",code:ce.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Qb(e.data,a.version)||(o=this._getOrReturnCtx(e,o),ye(o,{validation:"ip",code:ce.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?Zb(e.data,a.alg)||(o=this._getOrReturnCtx(e,o),ye(o,{validation:"jwt",code:ce.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Yb(e.data,a.version)||(o=this._getOrReturnCtx(e,o),ye(o,{validation:"cidr",code:ce.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Hb.test(e.data)||(o=this._getOrReturnCtx(e,o),ye(o,{validation:"base64",code:ce.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?qb.test(e.data)||(o=this._getOrReturnCtx(e,o),ye(o,{validation:"base64url",code:ce.invalid_string,message:a.message}),r.dirty()):ot.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(o=>e.test(o),{validation:t,code:ce.invalid_string,...Ne.errToObj(r)})}_addCheck(e){return new Er({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ne.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ne.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ne.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ne.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ne.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ne.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ne.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ne.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ne.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ne.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ne.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ne.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ne.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Ne.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ne.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ne.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ne.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Ne.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ne.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ne.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ne.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ne.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ne.errToObj(t)})}nonempty(e){return this.min(1,Ne.errToObj(e))}trim(){return new Er({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Er({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Er({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Er.create=n=>{var e;return new Er({checks:[],typeName:je.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Ke(n)})};function Jb(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,o=t>r?t:r,a=parseInt(n.toFixed(o).replace(".","")),u=parseInt(e.toFixed(o).replace(".",""));return a%u/Math.pow(10,o)}class Ss extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ee.number){const a=this._getOrReturnCtx(e);return ye(a,{code:ce.invalid_type,expected:Ee.number,received:a.parsedType}),$e}let r;const o=new pn;for(const a of this._def.checks)a.kind==="int"?ot.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ye(r,{code:ce.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ye(r,{code:ce.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ye(r,{code:ce.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?Jb(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),ye(r,{code:ce.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ye(r,{code:ce.not_finite,message:a.message}),o.dirty()):ot.assertNever(a);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ne.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ne.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ne.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ne.toString(t))}setLimit(e,t,r,o){return new Ss({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ne.toString(o)}]})}_addCheck(e){return new Ss({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ne.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ne.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ot.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ss.create=n=>new Ss({checks:[],typeName:je.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Ke(n)});class As extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ee.bigint)return this._getInvalidInput(e);let r;const o=new pn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ye(r,{code:ce.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ye(r,{code:ce.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ye(r,{code:ce.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):ot.assertNever(a);return{status:o.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return ye(t,{code:ce.invalid_type,expected:Ee.bigint,received:t.parsedType}),$e}gte(e,t){return this.setLimit("min",e,!0,Ne.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ne.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ne.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ne.toString(t))}setLimit(e,t,r,o){return new As({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ne.toString(o)}]})}_addCheck(e){return new As({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}As.create=n=>{var e;return new As({checks:[],typeName:je.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Ke(n)})};class au extends Ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ee.boolean){const r=this._getOrReturnCtx(e);return ye(r,{code:ce.invalid_type,expected:Ee.boolean,received:r.parsedType}),$e}return In(e.data)}}au.create=n=>new au({typeName:je.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Ke(n)});class _o extends Ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ee.date){const a=this._getOrReturnCtx(e);return ye(a,{code:ce.invalid_type,expected:Ee.date,received:a.parsedType}),$e}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return ye(a,{code:ce.invalid_date}),$e}const r=new pn;let o;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(o=this._getOrReturnCtx(e,o),ye(o,{code:ce.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(o=this._getOrReturnCtx(e,o),ye(o,{code:ce.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ot.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new _o({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ne.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ne.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}_o.create=n=>new _o({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:je.ZodDate,...Ke(n)});class Yd extends Ge{_parse(e){if(this._getType(e)!==Ee.symbol){const r=this._getOrReturnCtx(e);return ye(r,{code:ce.invalid_type,expected:Ee.symbol,received:r.parsedType}),$e}return In(e.data)}}Yd.create=n=>new Yd({typeName:je.ZodSymbol,...Ke(n)});class lu extends Ge{_parse(e){if(this._getType(e)!==Ee.undefined){const r=this._getOrReturnCtx(e);return ye(r,{code:ce.invalid_type,expected:Ee.undefined,received:r.parsedType}),$e}return In(e.data)}}lu.create=n=>new lu({typeName:je.ZodUndefined,...Ke(n)});class uu extends Ge{_parse(e){if(this._getType(e)!==Ee.null){const r=this._getOrReturnCtx(e);return ye(r,{code:ce.invalid_type,expected:Ee.null,received:r.parsedType}),$e}return In(e.data)}}uu.create=n=>new uu({typeName:je.ZodNull,...Ke(n)});class Da extends Ge{constructor(){super(...arguments),this._any=!0}_parse(e){return In(e.data)}}Da.create=n=>new Da({typeName:je.ZodAny,...Ke(n)});class uo extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return In(e.data)}}uo.create=n=>new uo({typeName:je.ZodUnknown,...Ke(n)});class Pi extends Ge{_parse(e){const t=this._getOrReturnCtx(e);return ye(t,{code:ce.invalid_type,expected:Ee.never,received:t.parsedType}),$e}}Pi.create=n=>new Pi({typeName:je.ZodNever,...Ke(n)});class Jd extends Ge{_parse(e){if(this._getType(e)!==Ee.undefined){const r=this._getOrReturnCtx(e);return ye(r,{code:ce.invalid_type,expected:Ee.void,received:r.parsedType}),$e}return In(e.data)}}Jd.create=n=>new Jd({typeName:je.ZodVoid,...Ke(n)});class Sr extends Ge{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),o=this._def;if(t.parsedType!==Ee.array)return ye(t,{code:ce.invalid_type,expected:Ee.array,received:t.parsedType}),$e;if(o.exactLength!==null){const u=t.data.length>o.exactLength.value,h=t.data.length<o.exactLength.value;(u||h)&&(ye(t,{code:u?ce.too_big:ce.too_small,minimum:h?o.exactLength.value:void 0,maximum:u?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&t.data.length<o.minLength.value&&(ye(t,{code:ce.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&t.data.length>o.maxLength.value&&(ye(t,{code:ce.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((u,h)=>o.type._parseAsync(new Zr(t,u,t.path,h)))).then(u=>pn.mergeArray(r,u));const a=[...t.data].map((u,h)=>o.type._parseSync(new Zr(t,u,t.path,h)));return pn.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new Sr({...this._def,minLength:{value:e,message:Ne.toString(t)}})}max(e,t){return new Sr({...this._def,maxLength:{value:e,message:Ne.toString(t)}})}length(e,t){return new Sr({...this._def,exactLength:{value:e,message:Ne.toString(t)}})}nonempty(e){return this.min(1,e)}}Sr.create=(n,e)=>new Sr({type:n,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...Ke(e)});function ya(n){if(n instanceof St){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Kr.create(ya(r))}return new St({...n._def,shape:()=>e})}else return n instanceof Sr?new Sr({...n._def,type:ya(n.element)}):n instanceof Kr?Kr.create(ya(n.unwrap())):n instanceof Cs?Cs.create(ya(n.unwrap())):n instanceof Yr?Yr.create(n.items.map(e=>ya(e))):n}class St extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=ot.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Ee.object){const m=this._getOrReturnCtx(e);return ye(m,{code:ce.invalid_type,expected:Ee.object,received:m.parsedType}),$e}const{status:r,ctx:o}=this._processInputParams(e),{shape:a,keys:u}=this._getCached(),h=[];if(!(this._def.catchall instanceof Pi&&this._def.unknownKeys==="strip"))for(const m in o.data)u.includes(m)||h.push(m);const f=[];for(const m of u){const _=a[m],E=o.data[m];f.push({key:{status:"valid",value:m},value:_._parse(new Zr(o,E,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof Pi){const m=this._def.unknownKeys;if(m==="passthrough")for(const _ of h)f.push({key:{status:"valid",value:_},value:{status:"valid",value:o.data[_]}});else if(m==="strict")h.length>0&&(ye(o,{code:ce.unrecognized_keys,keys:h}),r.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const _ of h){const E=o.data[_];f.push({key:{status:"valid",value:_},value:m._parse(new Zr(o,E,o.path,_)),alwaysSet:_ in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const _ of f){const E=await _.key,T=await _.value;m.push({key:E,value:T,alwaysSet:_.alwaysSet})}return m}).then(m=>pn.mergeObjectSync(r,m)):pn.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return Ne.errToObj,new St({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var o,a,u,h;const f=(u=(a=(o=this._def).errorMap)===null||a===void 0?void 0:a.call(o,t,r).message)!==null&&u!==void 0?u:r.defaultError;return t.code==="unrecognized_keys"?{message:(h=Ne.errToObj(e).message)!==null&&h!==void 0?h:f}:{message:f}}}:{}})}strip(){return new St({...this._def,unknownKeys:"strip"})}passthrough(){return new St({...this._def,unknownKeys:"passthrough"})}extend(e){return new St({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new St({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:je.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new St({...this._def,catchall:e})}pick(e){const t={};return ot.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new St({...this._def,shape:()=>t})}omit(e){const t={};return ot.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new St({...this._def,shape:()=>t})}deepPartial(){return ya(this)}partial(e){const t={};return ot.objectKeys(this.shape).forEach(r=>{const o=this.shape[r];e&&!e[r]?t[r]=o:t[r]=o.optional()}),new St({...this._def,shape:()=>t})}required(e){const t={};return ot.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Kr;)a=a._def.innerType;t[r]=a}}),new St({...this._def,shape:()=>t})}keyof(){return jT(ot.objectKeys(this.shape))}}St.create=(n,e)=>new St({shape:()=>n,unknownKeys:"strip",catchall:Pi.create(),typeName:je.ZodObject,...Ke(e)});St.strictCreate=(n,e)=>new St({shape:()=>n,unknownKeys:"strict",catchall:Pi.create(),typeName:je.ZodObject,...Ke(e)});St.lazycreate=(n,e)=>new St({shape:n,unknownKeys:"strip",catchall:Pi.create(),typeName:je.ZodObject,...Ke(e)});class cu extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function o(a){for(const h of a)if(h.result.status==="valid")return h.result;for(const h of a)if(h.result.status==="dirty")return t.common.issues.push(...h.ctx.common.issues),h.result;const u=a.map(h=>new Wn(h.ctx.common.issues));return ye(t,{code:ce.invalid_union,unionErrors:u}),$e}if(t.common.async)return Promise.all(r.map(async a=>{const u={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:u}),ctx:u}})).then(o);{let a;const u=[];for(const f of r){const m={...t,common:{...t.common,issues:[]},parent:null},_=f._parseSync({data:t.data,path:t.path,parent:m});if(_.status==="valid")return _;_.status==="dirty"&&!a&&(a={result:_,ctx:m}),m.common.issues.length&&u.push(m.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const h=u.map(f=>new Wn(f));return ye(t,{code:ce.invalid_union,unionErrors:h}),$e}}get options(){return this._def.options}}cu.create=(n,e)=>new cu({options:n,typeName:je.ZodUnion,...Ke(e)});const yi=n=>n instanceof fu?yi(n.schema):n instanceof kr?yi(n.innerType()):n instanceof pu?[n.value]:n instanceof ks?n.options:n instanceof mu?ot.objectValues(n.enum):n instanceof gu?yi(n._def.innerType):n instanceof lu?[void 0]:n instanceof uu?[null]:n instanceof Kr?[void 0,...yi(n.unwrap())]:n instanceof Cs?[null,...yi(n.unwrap())]:n instanceof mg||n instanceof vu?yi(n.unwrap()):n instanceof yu?yi(n._def.innerType):[];class xh extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ee.object)return ye(t,{code:ce.invalid_type,expected:Ee.object,received:t.parsedType}),$e;const r=this.discriminator,o=t.data[r],a=this.optionsMap.get(o);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(ye(t,{code:ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),$e)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const o=new Map;for(const a of t){const u=yi(a.shape[e]);if(!u.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const h of u){if(o.has(h))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(h)}`);o.set(h,a)}}return new xh({typeName:je.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:o,...Ke(r)})}}function cm(n,e){const t=vi(n),r=vi(e);if(n===e)return{valid:!0,data:n};if(t===Ee.object&&r===Ee.object){const o=ot.objectKeys(e),a=ot.objectKeys(n).filter(h=>o.indexOf(h)!==-1),u={...n,...e};for(const h of a){const f=cm(n[h],e[h]);if(!f.valid)return{valid:!1};u[h]=f.data}return{valid:!0,data:u}}else if(t===Ee.array&&r===Ee.array){if(n.length!==e.length)return{valid:!1};const o=[];for(let a=0;a<n.length;a++){const u=n[a],h=e[a],f=cm(u,h);if(!f.valid)return{valid:!1};o.push(f.data)}return{valid:!0,data:o}}else return t===Ee.date&&r===Ee.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class du extends Ge{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),o=(a,u)=>{if(lm(a)||lm(u))return $e;const h=cm(a.value,u.value);return h.valid?((um(a)||um(u))&&t.dirty(),{status:t.value,value:h.data}):(ye(r,{code:ce.invalid_intersection_types}),$e)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,u])=>o(a,u)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}du.create=(n,e,t)=>new du({left:n,right:e,typeName:je.ZodIntersection,...Ke(t)});class Yr extends Ge{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ee.array)return ye(r,{code:ce.invalid_type,expected:Ee.array,received:r.parsedType}),$e;if(r.data.length<this._def.items.length)return ye(r,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$e;!this._def.rest&&r.data.length>this._def.items.length&&(ye(r,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...r.data].map((u,h)=>{const f=this._def.items[h]||this._def.rest;return f?f._parse(new Zr(r,u,r.path,h)):null}).filter(u=>!!u);return r.common.async?Promise.all(a).then(u=>pn.mergeArray(t,u)):pn.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new Yr({...this._def,rest:e})}}Yr.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Yr({items:n,typeName:je.ZodTuple,rest:null,...Ke(e)})};class hu extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ee.object)return ye(r,{code:ce.invalid_type,expected:Ee.object,received:r.parsedType}),$e;const o=[],a=this._def.keyType,u=this._def.valueType;for(const h in r.data)o.push({key:a._parse(new Zr(r,h,r.path,h)),value:u._parse(new Zr(r,r.data[h],r.path,h)),alwaysSet:h in r.data});return r.common.async?pn.mergeObjectAsync(t,o):pn.mergeObjectSync(t,o)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof Ge?new hu({keyType:e,valueType:t,typeName:je.ZodRecord,...Ke(r)}):new hu({keyType:Er.create(),valueType:e,typeName:je.ZodRecord,...Ke(t)})}}class Xd extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ee.map)return ye(r,{code:ce.invalid_type,expected:Ee.map,received:r.parsedType}),$e;const o=this._def.keyType,a=this._def.valueType,u=[...r.data.entries()].map(([h,f],m)=>({key:o._parse(new Zr(r,h,r.path,[m,"key"])),value:a._parse(new Zr(r,f,r.path,[m,"value"]))}));if(r.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const f of u){const m=await f.key,_=await f.value;if(m.status==="aborted"||_.status==="aborted")return $e;(m.status==="dirty"||_.status==="dirty")&&t.dirty(),h.set(m.value,_.value)}return{status:t.value,value:h}})}else{const h=new Map;for(const f of u){const m=f.key,_=f.value;if(m.status==="aborted"||_.status==="aborted")return $e;(m.status==="dirty"||_.status==="dirty")&&t.dirty(),h.set(m.value,_.value)}return{status:t.value,value:h}}}}Xd.create=(n,e,t)=>new Xd({valueType:e,keyType:n,typeName:je.ZodMap,...Ke(t)});class wo extends Ge{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ee.set)return ye(r,{code:ce.invalid_type,expected:Ee.set,received:r.parsedType}),$e;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(ye(r,{code:ce.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),t.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(ye(r,{code:ce.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),t.dirty());const a=this._def.valueType;function u(f){const m=new Set;for(const _ of f){if(_.status==="aborted")return $e;_.status==="dirty"&&t.dirty(),m.add(_.value)}return{status:t.value,value:m}}const h=[...r.data.values()].map((f,m)=>a._parse(new Zr(r,f,r.path,m)));return r.common.async?Promise.all(h).then(f=>u(f)):u(h)}min(e,t){return new wo({...this._def,minSize:{value:e,message:Ne.toString(t)}})}max(e,t){return new wo({...this._def,maxSize:{value:e,message:Ne.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}wo.create=(n,e)=>new wo({valueType:n,minSize:null,maxSize:null,typeName:je.ZodSet,...Ke(e)});class Ia extends Ge{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ee.function)return ye(t,{code:ce.invalid_type,expected:Ee.function,received:t.parsedType}),$e;function r(h,f){return Qd({data:h,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Gd(),ba].filter(m=>!!m),issueData:{code:ce.invalid_arguments,argumentsError:f}})}function o(h,f){return Qd({data:h,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Gd(),ba].filter(m=>!!m),issueData:{code:ce.invalid_return_type,returnTypeError:f}})}const a={errorMap:t.common.contextualErrorMap},u=t.data;if(this._def.returns instanceof Oa){const h=this;return In(async function(...f){const m=new Wn([]),_=await h._def.args.parseAsync(f,a).catch(b=>{throw m.addIssue(r(f,b)),m}),E=await Reflect.apply(u,this,_);return await h._def.returns._def.type.parseAsync(E,a).catch(b=>{throw m.addIssue(o(E,b)),m})})}else{const h=this;return In(function(...f){const m=h._def.args.safeParse(f,a);if(!m.success)throw new Wn([r(f,m.error)]);const _=Reflect.apply(u,this,m.data),E=h._def.returns.safeParse(_,a);if(!E.success)throw new Wn([o(_,E.error)]);return E.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ia({...this._def,args:Yr.create(e).rest(uo.create())})}returns(e){return new Ia({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Ia({args:e||Yr.create([]).rest(uo.create()),returns:t||uo.create(),typeName:je.ZodFunction,...Ke(r)})}}class fu extends Ge{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}fu.create=(n,e)=>new fu({getter:n,typeName:je.ZodLazy,...Ke(e)});class pu extends Ge{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ye(t,{received:t.data,code:ce.invalid_literal,expected:this._def.value}),$e}return{status:"valid",value:e.data}}get value(){return this._def.value}}pu.create=(n,e)=>new pu({value:n,typeName:je.ZodLiteral,...Ke(e)});function jT(n,e){return new ks({values:n,typeName:je.ZodEnum,...Ke(e)})}class ks extends Ge{constructor(){super(...arguments),Fl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return ye(t,{expected:ot.joinValues(r),received:t.parsedType,code:ce.invalid_type}),$e}if(Zd(this,Fl)||LT(this,Fl,new Set(this._def.values)),!Zd(this,Fl).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return ye(t,{received:t.data,code:ce.invalid_enum_value,options:r}),$e}return In(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ks.create(e,{...this._def,...t})}exclude(e,t=this._def){return ks.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Fl=new WeakMap;ks.create=jT;class mu extends Ge{constructor(){super(...arguments),Ul.set(this,void 0)}_parse(e){const t=ot.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ee.string&&r.parsedType!==Ee.number){const o=ot.objectValues(t);return ye(r,{expected:ot.joinValues(o),received:r.parsedType,code:ce.invalid_type}),$e}if(Zd(this,Ul)||LT(this,Ul,new Set(ot.getValidEnumValues(this._def.values))),!Zd(this,Ul).has(e.data)){const o=ot.objectValues(t);return ye(r,{received:r.data,code:ce.invalid_enum_value,options:o}),$e}return In(e.data)}get enum(){return this._def.values}}Ul=new WeakMap;mu.create=(n,e)=>new mu({values:n,typeName:je.ZodNativeEnum,...Ke(e)});class Oa extends Ge{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ee.promise&&t.common.async===!1)return ye(t,{code:ce.invalid_type,expected:Ee.promise,received:t.parsedType}),$e;const r=t.parsedType===Ee.promise?t.data:Promise.resolve(t.data);return In(r.then(o=>this._def.type.parseAsync(o,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Oa.create=(n,e)=>new Oa({type:n,typeName:je.ZodPromise,...Ke(e)});class kr extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:u=>{ye(r,u),u.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const u=o.transform(r.data,a);if(r.common.async)return Promise.resolve(u).then(async h=>{if(t.value==="aborted")return $e;const f=await this._def.schema._parseAsync({data:h,path:r.path,parent:r});return f.status==="aborted"?$e:f.status==="dirty"||t.value==="dirty"?va(f.value):f});{if(t.value==="aborted")return $e;const h=this._def.schema._parseSync({data:u,path:r.path,parent:r});return h.status==="aborted"?$e:h.status==="dirty"||t.value==="dirty"?va(h.value):h}}if(o.type==="refinement"){const u=h=>{const f=o.refinement(h,a);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(r.common.async===!1){const h=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return h.status==="aborted"?$e:(h.status==="dirty"&&t.dirty(),u(h.value),{status:t.value,value:h.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(h=>h.status==="aborted"?$e:(h.status==="dirty"&&t.dirty(),u(h.value).then(()=>({status:t.value,value:h.value}))))}if(o.type==="transform")if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!vo(u))return u;const h=o.transform(u.value,a);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:h}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>vo(u)?Promise.resolve(o.transform(u.value,a)).then(h=>({status:t.value,value:h})):u);ot.assertNever(o)}}kr.create=(n,e,t)=>new kr({schema:n,typeName:je.ZodEffects,effect:e,...Ke(t)});kr.createWithPreprocess=(n,e,t)=>new kr({schema:e,effect:{type:"preprocess",transform:n},typeName:je.ZodEffects,...Ke(t)});class Kr extends Ge{_parse(e){return this._getType(e)===Ee.undefined?In(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Kr.create=(n,e)=>new Kr({innerType:n,typeName:je.ZodOptional,...Ke(e)});class Cs extends Ge{_parse(e){return this._getType(e)===Ee.null?In(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Cs.create=(n,e)=>new Cs({innerType:n,typeName:je.ZodNullable,...Ke(e)});class gu extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===Ee.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}gu.create=(n,e)=>new gu({innerType:n,typeName:je.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ke(e)});class yu extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ou(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Wn(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Wn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}yu.create=(n,e)=>new yu({innerType:n,typeName:je.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ke(e)});class eh extends Ge{_parse(e){if(this._getType(e)!==Ee.nan){const r=this._getOrReturnCtx(e);return ye(r,{code:ce.invalid_type,expected:Ee.nan,received:r.parsedType}),$e}return{status:"valid",value:e.data}}}eh.create=n=>new eh({typeName:je.ZodNaN,...Ke(n)});const Xb=Symbol("zod_brand");class mg extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Uu extends Ge{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?$e:a.status==="dirty"?(t.dirty(),va(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?$e:o.status==="dirty"?(t.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(e,t){return new Uu({in:e,out:t,typeName:je.ZodPipeline})}}class vu extends Ge{_parse(e){const t=this._def.innerType._parse(e),r=o=>(vo(o)&&(o.value=Object.freeze(o.value)),o);return ou(t)?t.then(o=>r(o)):r(t)}unwrap(){return this._def.innerType}}vu.create=(n,e)=>new vu({innerType:n,typeName:je.ZodReadonly,...Ke(e)});function Pw(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function $T(n,e={},t){return n?Da.create().superRefine((r,o)=>{var a,u;const h=n(r);if(h instanceof Promise)return h.then(f=>{var m,_;if(!f){const E=Pw(e,r),T=(_=(m=E.fatal)!==null&&m!==void 0?m:t)!==null&&_!==void 0?_:!0;o.addIssue({code:"custom",...E,fatal:T})}});if(!h){const f=Pw(e,r),m=(u=(a=f.fatal)!==null&&a!==void 0?a:t)!==null&&u!==void 0?u:!0;o.addIssue({code:"custom",...f,fatal:m})}}):Da.create()}const e2={object:St.lazycreate};var je;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(je||(je={}));const t2=(n,e={message:`Input not instance of ${n.name}`})=>$T(t=>t instanceof n,e),zT=Er.create,BT=Ss.create,n2=eh.create,r2=As.create,WT=au.create,i2=_o.create,s2=Yd.create,o2=lu.create,a2=uu.create,l2=Da.create,u2=uo.create,c2=Pi.create,d2=Jd.create,h2=Sr.create,f2=St.create,p2=St.strictCreate,m2=cu.create,g2=xh.create,y2=du.create,v2=Yr.create,_2=hu.create,w2=Xd.create,E2=wo.create,T2=Ia.create,I2=fu.create,S2=pu.create,A2=ks.create,k2=mu.create,C2=Oa.create,xw=kr.create,R2=Kr.create,P2=Cs.create,x2=kr.createWithPreprocess,N2=Uu.create,b2=()=>zT().optional(),D2=()=>BT().optional(),O2=()=>WT().optional(),V2={string:n=>Er.create({...n,coerce:!0}),number:n=>Ss.create({...n,coerce:!0}),boolean:n=>au.create({...n,coerce:!0}),bigint:n=>As.create({...n,coerce:!0}),date:n=>_o.create({...n,coerce:!0})},L2=$e;var cd=Object.freeze({__proto__:null,defaultErrorMap:ba,setErrorMap:xb,getErrorMap:Gd,makeIssue:Qd,EMPTY_PATH:Nb,addIssueToContext:ye,ParseStatus:pn,INVALID:$e,DIRTY:va,OK:In,isAborted:lm,isDirty:um,isValid:vo,isAsync:ou,get util(){return ot},get objectUtil(){return am},ZodParsedType:Ee,getParsedType:vi,ZodType:Ge,datetimeRegex:UT,ZodString:Er,ZodNumber:Ss,ZodBigInt:As,ZodBoolean:au,ZodDate:_o,ZodSymbol:Yd,ZodUndefined:lu,ZodNull:uu,ZodAny:Da,ZodUnknown:uo,ZodNever:Pi,ZodVoid:Jd,ZodArray:Sr,ZodObject:St,ZodUnion:cu,ZodDiscriminatedUnion:xh,ZodIntersection:du,ZodTuple:Yr,ZodRecord:hu,ZodMap:Xd,ZodSet:wo,ZodFunction:Ia,ZodLazy:fu,ZodLiteral:pu,ZodEnum:ks,ZodNativeEnum:mu,ZodPromise:Oa,ZodEffects:kr,ZodTransformer:kr,ZodOptional:Kr,ZodNullable:Cs,ZodDefault:gu,ZodCatch:yu,ZodNaN:eh,BRAND:Xb,ZodBranded:mg,ZodPipeline:Uu,ZodReadonly:vu,custom:$T,Schema:Ge,ZodSchema:Ge,late:e2,get ZodFirstPartyTypeKind(){return je},coerce:V2,any:l2,array:h2,bigint:r2,boolean:WT,date:i2,discriminatedUnion:g2,effect:xw,enum:A2,function:T2,instanceof:t2,intersection:y2,lazy:I2,literal:S2,map:w2,nan:n2,nativeEnum:k2,never:c2,null:a2,nullable:P2,number:BT,object:f2,oboolean:O2,onumber:D2,optional:R2,ostring:b2,pipeline:N2,preprocess:x2,promise:C2,record:_2,set:E2,strictObject:p2,string:zT,symbol:s2,transformer:xw,tuple:v2,undefined:o2,union:m2,unknown:u2,void:d2,NEVER:L2,ZodIssueCode:ce,quotelessJson:Pb,ZodError:Wn});const M2={},Nw=n=>{let e;const t=new Set,r=(_,E)=>{const T=typeof _=="function"?_(e):_;if(!Object.is(T,e)){const b=e;e=E??(typeof T!="object"||T===null)?T:Object.assign({},e,T),t.forEach(D=>D(e,b))}},o=()=>e,f={setState:r,getState:o,getInitialState:()=>m,subscribe:_=>(t.add(_),()=>t.delete(_)),destroy:()=>{(M2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},m=e=n(r,o,f);return f},F2=n=>n?Nw(n):Nw;var Sp={exports:{}},Ap={},kp={exports:{}},Cp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function U2(){if(bw)return Cp;bw=1;var n=wu();function e(E,T){return E===T&&(E!==0||1/E===1/T)||E!==E&&T!==T}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,a=n.useLayoutEffect,u=n.useDebugValue;function h(E,T){var b=T(),D=r({inst:{value:b,getSnapshot:T}}),U=D[0].inst,F=D[1];return a(function(){U.value=b,U.getSnapshot=T,f(U)&&F({inst:U})},[E,b,T]),o(function(){return f(U)&&F({inst:U}),E(function(){f(U)&&F({inst:U})})},[E]),u(b),b}function f(E){var T=E.getSnapshot;E=E.value;try{var b=T();return!t(E,b)}catch{return!0}}function m(E,T){return T()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return Cp.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:_,Cp}var Dw;function j2(){return Dw||(Dw=1,kp.exports=U2()),kp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function $2(){if(Ow)return Ap;Ow=1;var n=wu(),e=j2();function t(m,_){return m===_&&(m!==0||1/m===1/_)||m!==m&&_!==_}var r=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,a=n.useRef,u=n.useEffect,h=n.useMemo,f=n.useDebugValue;return Ap.useSyncExternalStoreWithSelector=function(m,_,E,T,b){var D=a(null);if(D.current===null){var U={hasValue:!1,value:null};D.current=U}else U=D.current;D=h(function(){function G(Te){if(!Q){if(Q=!0,Y=Te,Te=T(Te),b!==void 0&&U.hasValue){var N=U.value;if(b(N,Te))return me=N}return me=Te}if(N=me,r(Y,Te))return N;var A=T(Te);return b!==void 0&&b(N,A)?(Y=Te,N):(Y=Te,me=A)}var Q=!1,Y,me,Se=E===void 0?null:E;return[function(){return G(_())},Se===null?void 0:function(){return G(Se())}]},[_,E,T,b]);var F=o(m,D[0],D[1]);return u(function(){U.hasValue=!0,U.value=F},[F]),f(F),F},Ap}var Vw;function z2(){return Vw||(Vw=1,Sp.exports=$2()),Sp.exports}var B2=z2();const W2=rh(B2),HT={},{useDebugValue:H2}=Bt,{useSyncExternalStoreWithSelector:q2}=W2;let Lw=!1;const K2=n=>n;function G2(n,e=K2,t){(HT?"production":void 0)!=="production"&&t&&!Lw&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Lw=!0);const r=q2(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return H2(r),r}const Mw=n=>{(HT?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof n=="function"?F2(n):n,t=(r,o)=>G2(e,r,o);return Object.assign(t,e),t},Q2=n=>n?Mw(n):Mw,_u=Q2((n,e)=>({todos:[],fetchTodos:async t=>{try{const r=WN(lw(ud,"todos"),HN("userId","==",t)),a=(await JN(r)).docs.map(u=>({id:u.id,...u.data()}));n({todos:a})}catch(r){console.error("Błąd przy pobieraniu zadań:",r)}},addTodo:async t=>{try{const r=await tb(lw(ud,"todos"),{...t,createdAt:nb()});n(o=>({todos:[...o.todos,{id:r.id,...t}]}))}catch(r){console.error("Błąd przy dodawaniu zadania:",r)}},toggleDone:async t=>{const r=e().todos.find(a=>a.id===t);if(!r)return;const o=r.done;n(a=>({todos:a.todos.map(u=>u.id===t?{...u,done:!u.done}:u)}));try{const a=im(ud,"todos",t);await XN(a,{done:!o})}catch(a){console.error("Błąd Firestore, cofanie zmiany:",a),n(u=>({todos:u.todos.map(h=>h.id===t?{...h,done:o}:h)}))}},deleteTodo:async t=>{const r=e().todos;n(o=>({todos:o.todos.filter(a=>a.id!==t)}));try{await eb(im(ud,"todos",t))}catch(o){console.error("Błąd Firestore, cofanie usunięcia:",o),n({todos:r})}}})),Z2=cd.object({title:cd.string().min(1,"Tytuł jest wymagany"),description:cd.string().optional(),dueDate:cd.string().optional()}),Y2=({user:n})=>{const e=_u(h=>h.addTodo),{register:t,handleSubmit:r,reset:o,formState:{errors:a}}=Sb({resolver:Rb(Z2)}),u=async h=>{await e({...h,done:!1,createdAt:Ft.now(),userId:n.uid}),o()};return be.jsxs("form",{onSubmit:r(u),className:"bg-white p-6 rounded-lg shadow-lg mb-4",children:[be.jsx("h2",{className:"text-lg font-bold mb-4",children:"Dodaj nowe zadanie"}),be.jsxs("div",{className:"mb-2",children:[be.jsx("input",{...t("title"),placeholder:"Tytuł",className:"border p-2 w-full rounded"}),a.title&&be.jsx("p",{className:"text-red-500",children:a.title.message})]}),be.jsx("div",{className:"mb-2",children:be.jsx("textarea",{...t("description"),placeholder:"Opis",className:"border p-2 w-full rounded"})}),be.jsxs("div",{className:"mb-2",children:[be.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termin wykonania"}),be.jsx("input",{type:"date",...t("dueDate"),className:"border p-2 w-full rounded"})]}),be.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600",children:"Dodaj"})]})};var Sd={exports:{}},J2=Sd.exports,Fw;function X2(){return Fw||(Fw=1,function(n,e){(function(t,r){n.exports=r()})(J2,function(){var t=1e3,r=6e4,o=36e5,a="millisecond",u="second",h="minute",f="hour",m="day",_="week",E="month",T="quarter",b="year",D="date",U="Invalid Date",F=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,G=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Q={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(fe){var ae=["th","st","nd","rd"],ie=fe%100;return"["+fe+(ae[(ie-20)%10]||ae[ie]||ae[0])+"]"}},Y=function(fe,ae,ie){var de=String(fe);return!de||de.length>=ae?fe:""+Array(ae+1-de.length).join(ie)+fe},me={s:Y,z:function(fe){var ae=-fe.utcOffset(),ie=Math.abs(ae),de=Math.floor(ie/60),B=ie%60;return(ae<=0?"+":"-")+Y(de,2,"0")+":"+Y(B,2,"0")},m:function fe(ae,ie){if(ae.date()<ie.date())return-fe(ie,ae);var de=12*(ie.year()-ae.year())+(ie.month()-ae.month()),B=ae.clone().add(de,E),se=ie-B<0,X=ae.clone().add(de+(se?-1:1),E);return+(-(de+(ie-B)/(se?B-X:X-B))||0)},a:function(fe){return fe<0?Math.ceil(fe)||0:Math.floor(fe)},p:function(fe){return{M:E,y:b,w:_,d:m,D,h:f,m:h,s:u,ms:a,Q:T}[fe]||String(fe||"").toLowerCase().replace(/s$/,"")},u:function(fe){return fe===void 0}},Se="en",Te={};Te[Se]=Q;var N="$isDayjsObject",A=function(fe){return fe instanceof V||!(!fe||!fe[N])},k=function fe(ae,ie,de){var B;if(!ae)return Se;if(typeof ae=="string"){var se=ae.toLowerCase();Te[se]&&(B=se),ie&&(Te[se]=ie,B=se);var X=ae.split("-");if(!B&&X.length>1)return fe(X[0])}else{var L=ae.name;Te[L]=ae,B=L}return!de&&B&&(Se=B),B||!de&&Se},R=function(fe,ae){if(A(fe))return fe.clone();var ie=typeof ae=="object"?ae:{};return ie.date=fe,ie.args=arguments,new V(ie)},P=me;P.l=k,P.i=A,P.w=function(fe,ae){return R(fe,{locale:ae.$L,utc:ae.$u,x:ae.$x,$offset:ae.$offset})};var V=function(){function fe(ie){this.$L=k(ie.locale,null,!0),this.parse(ie),this.$x=this.$x||ie.x||{},this[N]=!0}var ae=fe.prototype;return ae.parse=function(ie){this.$d=function(de){var B=de.date,se=de.utc;if(B===null)return new Date(NaN);if(P.u(B))return new Date;if(B instanceof Date)return new Date(B);if(typeof B=="string"&&!/Z$/i.test(B)){var X=B.match(F);if(X){var L=X[2]-1||0,K=(X[7]||"0").substring(0,3);return se?new Date(Date.UTC(X[1],L,X[3]||1,X[4]||0,X[5]||0,X[6]||0,K)):new Date(X[1],L,X[3]||1,X[4]||0,X[5]||0,X[6]||0,K)}}return new Date(B)}(ie),this.init()},ae.init=function(){var ie=this.$d;this.$y=ie.getFullYear(),this.$M=ie.getMonth(),this.$D=ie.getDate(),this.$W=ie.getDay(),this.$H=ie.getHours(),this.$m=ie.getMinutes(),this.$s=ie.getSeconds(),this.$ms=ie.getMilliseconds()},ae.$utils=function(){return P},ae.isValid=function(){return this.$d.toString()!==U},ae.isSame=function(ie,de){var B=R(ie);return this.startOf(de)<=B&&B<=this.endOf(de)},ae.isAfter=function(ie,de){return R(ie)<this.startOf(de)},ae.isBefore=function(ie,de){return this.endOf(de)<R(ie)},ae.$g=function(ie,de,B){return P.u(ie)?this[de]:this.set(B,ie)},ae.unix=function(){return Math.floor(this.valueOf()/1e3)},ae.valueOf=function(){return this.$d.getTime()},ae.startOf=function(ie,de){var B=this,se=!!P.u(de)||de,X=P.p(ie),L=function(Ye,et){var Ct=P.w(B.$u?Date.UTC(B.$y,et,Ye):new Date(B.$y,et,Ye),B);return se?Ct:Ct.endOf(m)},K=function(Ye,et){return P.w(B.toDate()[Ye].apply(B.toDate("s"),(se?[0,0,0,0]:[23,59,59,999]).slice(et)),B)},ge=this.$W,De=this.$M,Oe=this.$D,He="set"+(this.$u?"UTC":"");switch(X){case b:return se?L(1,0):L(31,11);case E:return se?L(1,De):L(0,De+1);case _:var qe=this.$locale().weekStart||0,Qe=(ge<qe?ge+7:ge)-qe;return L(se?Oe-Qe:Oe+(6-Qe),De);case m:case D:return K(He+"Hours",0);case f:return K(He+"Minutes",1);case h:return K(He+"Seconds",2);case u:return K(He+"Milliseconds",3);default:return this.clone()}},ae.endOf=function(ie){return this.startOf(ie,!1)},ae.$set=function(ie,de){var B,se=P.p(ie),X="set"+(this.$u?"UTC":""),L=(B={},B[m]=X+"Date",B[D]=X+"Date",B[E]=X+"Month",B[b]=X+"FullYear",B[f]=X+"Hours",B[h]=X+"Minutes",B[u]=X+"Seconds",B[a]=X+"Milliseconds",B)[se],K=se===m?this.$D+(de-this.$W):de;if(se===E||se===b){var ge=this.clone().set(D,1);ge.$d[L](K),ge.init(),this.$d=ge.set(D,Math.min(this.$D,ge.daysInMonth())).$d}else L&&this.$d[L](K);return this.init(),this},ae.set=function(ie,de){return this.clone().$set(ie,de)},ae.get=function(ie){return this[P.p(ie)]()},ae.add=function(ie,de){var B,se=this;ie=Number(ie);var X=P.p(de),L=function(De){var Oe=R(se);return P.w(Oe.date(Oe.date()+Math.round(De*ie)),se)};if(X===E)return this.set(E,this.$M+ie);if(X===b)return this.set(b,this.$y+ie);if(X===m)return L(1);if(X===_)return L(7);var K=(B={},B[h]=r,B[f]=o,B[u]=t,B)[X]||1,ge=this.$d.getTime()+ie*K;return P.w(ge,this)},ae.subtract=function(ie,de){return this.add(-1*ie,de)},ae.format=function(ie){var de=this,B=this.$locale();if(!this.isValid())return B.invalidDate||U;var se=ie||"YYYY-MM-DDTHH:mm:ssZ",X=P.z(this),L=this.$H,K=this.$m,ge=this.$M,De=B.weekdays,Oe=B.months,He=B.meridiem,qe=function(et,Ct,mn,gn){return et&&(et[Ct]||et(de,se))||mn[Ct].slice(0,gn)},Qe=function(et){return P.s(L%12||12,et,"0")},Ye=He||function(et,Ct,mn){var gn=et<12?"AM":"PM";return mn?gn.toLowerCase():gn};return se.replace(G,function(et,Ct){return Ct||function(mn){switch(mn){case"YY":return String(de.$y).slice(-2);case"YYYY":return P.s(de.$y,4,"0");case"M":return ge+1;case"MM":return P.s(ge+1,2,"0");case"MMM":return qe(B.monthsShort,ge,Oe,3);case"MMMM":return qe(Oe,ge);case"D":return de.$D;case"DD":return P.s(de.$D,2,"0");case"d":return String(de.$W);case"dd":return qe(B.weekdaysMin,de.$W,De,2);case"ddd":return qe(B.weekdaysShort,de.$W,De,3);case"dddd":return De[de.$W];case"H":return String(L);case"HH":return P.s(L,2,"0");case"h":return Qe(1);case"hh":return Qe(2);case"a":return Ye(L,K,!0);case"A":return Ye(L,K,!1);case"m":return String(K);case"mm":return P.s(K,2,"0");case"s":return String(de.$s);case"ss":return P.s(de.$s,2,"0");case"SSS":return P.s(de.$ms,3,"0");case"Z":return X}return null}(et)||X.replace(":","")})},ae.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ae.diff=function(ie,de,B){var se,X=this,L=P.p(de),K=R(ie),ge=(K.utcOffset()-this.utcOffset())*r,De=this-K,Oe=function(){return P.m(X,K)};switch(L){case b:se=Oe()/12;break;case E:se=Oe();break;case T:se=Oe()/3;break;case _:se=(De-ge)/6048e5;break;case m:se=(De-ge)/864e5;break;case f:se=De/o;break;case h:se=De/r;break;case u:se=De/t;break;default:se=De}return B?se:P.a(se)},ae.daysInMonth=function(){return this.endOf(E).$D},ae.$locale=function(){return Te[this.$L]},ae.locale=function(ie,de){if(!ie)return this.$L;var B=this.clone(),se=k(ie,de,!0);return se&&(B.$L=se),B},ae.clone=function(){return P.w(this.$d,this)},ae.toDate=function(){return new Date(this.valueOf())},ae.toJSON=function(){return this.isValid()?this.toISOString():null},ae.toISOString=function(){return this.$d.toISOString()},ae.toString=function(){return this.$d.toUTCString()},fe}(),S=V.prototype;return R.prototype=S,[["$ms",a],["$s",u],["$m",h],["$H",f],["$W",m],["$M",E],["$y",b],["$D",D]].forEach(function(fe){S[fe[1]]=function(ae){return this.$g(ae,fe[0],fe[1])}}),R.extend=function(fe,ae){return fe.$i||(fe(ae,V,R),fe.$i=!0),R},R.locale=k,R.isDayjs=A,R.unix=function(fe){return R(1e3*fe)},R.en=Te[Se],R.Ls=Te,R.p={},R})}(Sd)),Sd.exports}var eD=X2();const Rp=rh(eD),tD=({todo:n})=>{const e=_u(o=>o.toggleDone),t=_u(o=>o.deleteTodo),r=o=>{if(!o)return"text-gray-400";const a=Rp().startOf("day"),u=Rp(o).startOf("day");return u.isBefore(a)?"text-red-500":u.isSame(a)?"text-yellow-500":"text-green-500"};return be.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg flex justify-between items-center",children:[be.jsxs("div",{children:[be.jsx("h3",{className:`font-bold ${n.done?"line-through text-gray-500":""}`,children:n.title}),n.description&&be.jsx("p",{className:"text-sm text-gray-600",children:n.description}),n.dueDate&&be.jsxs("p",{className:`text-sm mt-1 ${r(n.dueDate)}`,children:["Termin: ",Rp(n.dueDate).format("DD.MM.YYYY")]})]}),be.jsxs("div",{className:"flex gap-2 items-center",children:[be.jsx("input",{type:"checkbox",checked:n.done,onChange:()=>e(n.id)}),be.jsx("button",{onClick:()=>t(n.id),className:"text-red-500 hover:text-red-600",children:"Usuń"})]})]})},nD=()=>{const n=_u(e=>e.todos);return be.jsx("div",{className:"space-y-4",children:n.length>0?n.map(e=>be.jsx(tD,{todo:e},e.id)):be.jsx("p",{className:"text-gray-500",children:"Brak zadań do wyświetlenia"})})};var qT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Uw=Bt.createContext&&Bt.createContext(qT),rD=["attr","size","title"];function iD(n,e){if(n==null)return{};var t=sD(n,e),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function sD(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function th(){return th=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},th.apply(this,arguments)}function jw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function nh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jw(Object(t),!0).forEach(function(r){oD(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function oD(n,e,t){return e=aD(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aD(n){var e=lD(n,"string");return typeof e=="symbol"?e:e+""}function lD(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function KT(n){return n&&n.map((e,t)=>Bt.createElement(e.tag,nh({key:t},e.attr),KT(e.child)))}function uD(n){return e=>Bt.createElement(cD,th({attr:nh({},n.attr)},e),KT(n.child))}function cD(n){var e=t=>{var{attr:r,size:o,title:a}=n,u=iD(n,rD),h=o||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Bt.createElement("svg",th({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:nh(nh({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&Bt.createElement("title",null,a),n.children)};return Uw!==void 0?Bt.createElement(Uw.Consumer,null,t=>e(t)):e(qT)}function dD(n){return uD({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}const hD=()=>{const[n,e]=J.useState(""),[t,r]=J.useState(""),[o,a]=J.useState(!1),u=async f=>{f.preventDefault(),a(!0);try{await fC(su,n,t)}catch(m){console.error("Logowanie nieudane:",m),alert("Logowanie nieudane")}finally{a(!1)}},h=async()=>{const f=new _i;try{await MC(su,f)}catch(m){console.error("Logowanie Google nieudane:",m),alert("Logowanie przez Google nieudane")}};return be.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 bg-[url('/noise.png')] bg-cover bg-blend-overlay p-4",children:be.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-xl w-full max-w-md",children:[be.jsx("h2",{className:"text-4xl font-extrabold text-center mb-6 text-transparent bg-clip-text bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 drop-shadow-sm",children:"Logowanie"}),be.jsxs("form",{onSubmit:u,className:"space-y-4",children:[be.jsx("input",{type:"email",value:n,onChange:f=>e(f.target.value),placeholder:"Email",className:"border border-gray-300 p-3 w-full rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"}),be.jsx("input",{type:"password",value:t,onChange:f=>r(f.target.value),placeholder:"Hasło",className:"border border-gray-300 p-3 w-full rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"}),be.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white p-3 rounded-lg font-semibold hover:bg-blue-600 transition",disabled:o,children:o?"Logowanie...":"Zaloguj się"})]}),be.jsx("div",{className:"mt-6 text-center text-gray-500",children:"lub"}),be.jsx("div",{className:"mt-4 flex justify-center",children:be.jsxs("button",{onClick:h,className:"flex items-center gap-2 bg-white border border-gray-300 shadow px-4 py-2 rounded-lg hover:bg-gray-100 transition",children:[be.jsx(dD,{className:"text-xl"}),be.jsx("span",{children:"Zaloguj przez Google"})]})}),be.jsxs("p",{className:"text-center text-sm text-gray-600 mt-4",children:["Nie masz konta?"," ",be.jsx(oh,{to:"/register",className:"text-blue-600 hover:underline font-medium",children:"Zarejestruj się"})]})]})})},fD=()=>{const[n,e]=J.useState(""),[t,r]=J.useState(""),o=Zw(),a=async u=>{u.preventDefault();try{await hC(su,n,t),o("/")}catch(h){alert("Błąd rejestracji: "+h.message)}};return be.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#dbeafe] to-[#bfdbfe]",children:be.jsxs("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:[be.jsx("h2",{className:"text-2xl font-bold text-center text-blue-600 mb-6",children:"Zarejestruj się"}),be.jsxs("form",{onSubmit:a,className:"space-y-4",children:[be.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400",value:n,onChange:u=>e(u.target.value),required:!0}),be.jsx("input",{type:"password",placeholder:"Hasło",className:"w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400",value:t,onChange:u=>r(u.target.value),required:!0}),be.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition duration-200",children:"Zarejestruj się"})]}),be.jsxs("p",{className:"text-center text-sm text-gray-600 mt-4",children:["Masz już konto?"," ",be.jsx(oh,{to:"/",className:"text-blue-600 hover:underline",children:"Zaloguj się"})]})]})})},pD=()=>{const[n,e]=J.useState(null),t=_u(r=>r.fetchTodos);return J.useEffect(()=>{const r=gC(su,o=>{e(o),o&&t(o.uid)});return()=>r()},[]),be.jsx(E1,{children:be.jsxs(YS,{children:[be.jsx(xp,{path:"/",element:n?be.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-100 to-blue-300 flex flex-col items-center p-4",children:be.jsxs("div",{className:"w-full max-w-lg",children:[be.jsxs("div",{className:"flex justify-between items-center mb-4",children:[be.jsx("h1",{className:"text-3xl font-semibold text-gray-800 tracking-wide drop-shadow",children:"📝 Twoje zadania"}),be.jsx("button",{onClick:()=>yC(su),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Wyloguj"})]}),be.jsx(Y2,{user:n}),be.jsx(nD,{})]})}):be.jsx(hD,{})}),be.jsx(xp,{path:"/register",element:be.jsx(fD,{})})]})})};oS.createRoot(document.getElementById("root")).render(be.jsx(Bt.StrictMode,{children:be.jsx(pD,{})}));
